import{r as Ar,o as $r,_ as Jr,a as Qr,b as ei,c as ti,d as ri}from"./index.366849bf.js";var It=function(o,r){return It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},It(o,r)};function A(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");It(o,r);function e(){this.constructor=o}o.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function te(o,r,e,t){function i(a){return a instanceof e?a:new e(function(n){n(a)})}return new(e||(e=Promise))(function(a,n){function l(h){try{u(t.next(h))}catch(c){n(c)}}function s(h){try{u(t.throw(h))}catch(c){n(c)}}function u(h){h.done?a(h.value):i(h.value).then(l,s)}u((t=t.apply(o,r||[])).next())})}function J(o,r){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,n;return n={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function l(u){return function(h){return s([u,h])}}function s(u){if(t)throw new TypeError("Generator is already executing.");for(;n&&(n=0,u[0]&&(e=0)),e;)try{if(t=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(o,e)}catch(h){u=[6,h],i=0}finally{t=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function le(o,r){var e=typeof Symbol=="function"&&o[Symbol.iterator];if(!e)return o;var t=e.call(o),i,a=[],n;try{for(;(r===void 0||r-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(l){n={error:l}}finally{try{i&&!i.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return a}function Be(o,r,e){if(e||arguments.length===2)for(var t=0,i=r.length,a;t<i;t++)(a||!(t in r))&&(a||(a=Array.prototype.slice.call(r,0,t)),a[t]=r[t]);return o.concat(a||Array.prototype.slice.call(r))}function Te(o){return Number(o)!==o}function ii(o){return{}.toString.call(o)}function pe(o){if(o!=null&&!P(o)){var r=Number(o);return Te(r)&&Ie(o)&&o!=""?pe(o.replace(/[^0-9.\-]+/g,"")):r}return o}function ai(o){if(Yt(o))return new Date(o);if(P(o))return new Date(o);var r=Number(o);return P(r)?new Date(r):new Date(o)}function ni(o){if(Te(o))return"NaN";if(o===1/0)return"Infinity";if(o===-1/0)return"-Infinity";if(o===0&&1/o===-1/0)return"-0";var r=o<0;o=Math.abs(o);var e=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+o),t=e[1],i=e[2]||"",a;if(e[3]===void 0)a=i===""?t:t+"."+i;else{var n=+e[3];if(o<1){var l=n-1;a="0."+tr("0",l)+t+i}else{var l=n-i.length;l===0?a=t+i:l<0?a=t+i.slice(0,l)+"."+i.slice(l):a=t+i+tr("0",l)}}return r?"-"+a:a}function tr(o,r){return new Array(r+1).join(o)}function Yt(o){return ii(o)==="[object Date]"}function Ie(o){return typeof o=="string"}function P(o){return typeof o=="number"&&Number(o)==o}function wt(o){return typeof o=="object"&&o!==null}var Ce="__\xA7\xA7\xA7__",Le="__\xA7\xA7\xA7\xA7__";function et(o,r){for(var e=o.length,t=0;t<e;++t)if(o[t]===r)return t;return-1}function oi(o,r){for(var e=o.length,t=0;t<e;++t)if(r(o[t]))return!0;return!1}function Nt(o,r){for(var e=o.length,t=new Array(e),i=0;i<e;++i)t[i]=r(o[i],i);return t}function _(o,r){for(var e=o.length,t=0;t<e;++t)r(o[t],t)}function qe(o,r){for(var e=o.length;e>0;)--e,r(o[e],e)}function Sr(o,r){for(var e=o.length,t=0;t<e&&r(o[t],t);++t);}function de(o,r){for(var e=!1,t=0;;){if(t=o.indexOf(r,t),t===-1)return e;e=!0,o.splice(t,1)}}function se(o,r){var e=o.indexOf(r);return e!==-1?(o.splice(e,1),!0):!1}function tt(o,r){o.indexOf(r)===-1&&o.push(r)}function Ht(o){for(var r=o.length,e=new Array(r),t=0;t<r;++t)e[t]=o[t];return e}function Ct(o,r,e){o.splice(r,0,e)}function rr(o,r){o.splice(r,1)}function kr(o,r){for(var e=o.length,t=0;t<e;++t)if(r(o[t],t))return t;return-1}function li(o,r){for(var e=o.length;e>0;)if(--e,r(o[e],e))return e;return-1}function Mr(o,r){var e=kr(o,r);if(e!==-1)return o[e]}function si(o,r){var e=li(o,r);if(e!==-1)return o[e]}function ui(o,r){for(var e=0,t=o.length,i=!1;e<t;){var a=e+t>>1,n=r(o[a]);n<0?e=a+1:n===0?(i=!0,e=a+1):t=a}return{found:i,index:i?e-1:e}}function fi(o,r){for(var e=0,t=o.length,i=!1;e<t;){var a=e+t>>1,n=r(o[a]);n<0?e=a+1:(n===0&&(i=!0),t=a)}return{found:i,index:e}}function Pt(o,r){for(var e=o.length;e>0;)--e,r(o[e])||o.splice(e,1)}var Ne=function(){function o(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}return Object.defineProperty(o.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(o.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._dispose())}}),o}(),Z=function(){function o(r){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=r}return Object.defineProperty(o.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(o.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._dispose())}}),o}(),hi=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){_(this._disposers,function(e){e.dispose()})}}),r}(Ne),oe=function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t._disposers=e,t}return Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){_(this._disposers,function(e){e.dispose()})}}),r}(Ne);(function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposer!=null&&(this._disposer.dispose(),this._disposer=void 0)}}),Object.defineProperty(r.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._value}}),Object.defineProperty(r.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._disposer!=null&&this._disposer.dispose(),this._disposer=t,this._value=e}}),Object.defineProperty(r.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.set(void 0,void 0)}}),r})(Ne);var Rr=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return Object.defineProperty(r.prototype,"increment",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return++this._counter,new Z(function(){--e._counter,e._counter===0&&e.dispose()})}}),r}(Z),Re=function(){function o(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return Object.defineProperty(o.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(o.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._disposed){this._disposed=!0;var r=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{_(r,function(e){e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}}),Object.defineProperty(o.prototype,"hasListeners",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._listeners.length!==0}}),Object.defineProperty(o.prototype,"hasListenersByType",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return oi(this._listeners,function(e){return(e.type===null||e.type===r)&&!e.killed})}}),Object.defineProperty(o.prototype,"enable",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._enabled=!0}}),Object.defineProperty(o.prototype,"disable",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._enabled=!1}}),Object.defineProperty(o.prototype,"enableType",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._disabled[r]}}),Object.defineProperty(o.prototype,"disableType",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){e===void 0&&(e=1/0),this._disabled[r]=e}}),Object.defineProperty(o.prototype,"_removeListener",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this._iterating===0){var e=this._listeners.indexOf(r);if(e===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(r)}}),Object.defineProperty(o.prototype,"_removeExistingListener",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(a){a.once===r&&a.type===e&&(t===void 0||a.callback===t)&&a.context===i&&a.disposer.dispose()})}}),Object.defineProperty(o.prototype,"isEnabled",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(r)&&this._disabled[r]===void 0}}),Object.defineProperty(o.prototype,"removeType",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(e){e.type===r&&e.disposer.dispose()})}}),Object.defineProperty(o.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){var i=kr(this._listeners,function(a){return a.once!==!0&&a.type===r&&(e===void 0||a.callback===e)&&a.context===t});return i!==-1}}),Object.defineProperty(o.prototype,"_shouldDispatch",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[r];return P(e)?(e<=1?delete this._disabled[r]:--this._disabled[r],!1):this._enabled}}),Object.defineProperty(o.prototype,"_eachListener",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;++this._iterating;try{_(this._listeners,r)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(_(this._killed,function(t){e._removeListener(t)}),this._killed.length=0)}}}),Object.defineProperty(o.prototype,"dispatch",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._shouldDispatch(r)&&this._eachListener(function(t){!t.killed&&(t.type===null||t.type===r)&&t.dispatch(r,e)})}}),Object.defineProperty(o.prototype,"_on",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i,a,n){var l=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(r,e,t,i);var s={type:e,callback:t,context:i,shouldClone:a,dispatch:n,killed:!1,once:r,disposer:new Z(function(){s.killed=!0,l._removeListener(s)})};return this._listeners.push(s),s}}),Object.defineProperty(o.prototype,"onAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){return t===void 0&&(t=!0),this._on(!1,null,r,e,t,function(i,a){return r.call(e,a)}).disposer}}),Object.defineProperty(o.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i){return i===void 0&&(i=!0),this._on(!1,r,e,t,i,function(a,n){return e.call(t,n)}).disposer}}),Object.defineProperty(o.prototype,"once",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i){i===void 0&&(i=!0);var a=this._on(!0,r,e,t,i,function(n,l){a.disposer.dispose(),e.call(t,l)});return a.disposer}}),Object.defineProperty(o.prototype,"off",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this._removeExistingListener(!1,r,e,t)}}),Object.defineProperty(o.prototype,"copyFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(r===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");var t=[];return _(r._listeners,function(i){!i.killed&&i.shouldClone&&(i.type===null?t.push(e.onAll(i.callback,i.context)):i.once?t.push(e.once(i.type,i.callback,i.context)):t.push(e.on(i.type,i.callback,i.context)))}),new oe(t)}}),o}();(function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"target",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t.target=e,t}return Object.defineProperty(r.prototype,"copyFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");var i=[];return _(e._listeners,function(a){a.context!==e.target&&!a.killed&&a.shouldClone&&(a.type===null?i.push(t.onAll(a.callback,a.context)):a.once?i.push(t.once(a.type,a.callback,a.context)):i.push(t.on(a.type,a.callback,a.context)))}),new oe(i)}}),r})(Re);function Xe(o,r){if(!(o>=0&&o<r))throw new Error("Index out of bounds: "+o)}var He=function(){function o(r){r===void 0&&(r=[]),Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Re}),this._values=r}return Object.defineProperty(o.prototype,"values",{get:function(){return this._values},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._values.indexOf(r)!==-1}}),Object.defineProperty(o.prototype,"removeValue",{enumerable:!1,configurable:!0,writable:!0,value:function(r){for(var e=0,t=this._values.length;e<t;)this._values[e]===r?(this.removeIndex(e),--t):++e}}),Object.defineProperty(o.prototype,"indexOf",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return et(this._values,r)}}),Object.defineProperty(o.prototype,"length",{get:function(){return this._values.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r>=0&&r<this._values.length}}),Object.defineProperty(o.prototype,"getIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._values[r]}}),Object.defineProperty(o.prototype,"_onPush",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:r})}}),Object.defineProperty(o.prototype,"_onInsertIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:r,newValue:e})}}),Object.defineProperty(o.prototype,"_onSetIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:r,oldValue:e,newValue:t})}}),Object.defineProperty(o.prototype,"_onRemoveIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:r,oldValue:e})}}),Object.defineProperty(o.prototype,"_onMoveIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:r,newIndex:e,value:t})}}),Object.defineProperty(o.prototype,"_onClear",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:r})}}),Object.defineProperty(o.prototype,"setIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){Xe(r,this._values.length);var t=this._values[r];return t!==e&&(this._values[r]=e,this._onSetIndex(r,t,e)),t}}),Object.defineProperty(o.prototype,"insertIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return Xe(r,this._values.length+1),Ct(this._values,r,e),this._onInsertIndex(r,e),e}}),Object.defineProperty(o.prototype,"swap",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._values.length;if(Xe(r,t),Xe(e,t),r!==e){var i=this._values[r],a=this._values[e];this._values[r]=a,this._onSetIndex(r,i,a),this._values[e]=i,this._onSetIndex(e,a,i)}}}),Object.defineProperty(o.prototype,"removeIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r){Xe(r,this._values.length);var e=this._values[r];return rr(this._values,r),this._onRemoveIndex(r,e),e}}),Object.defineProperty(o.prototype,"moveValue",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this.indexOf(r);if(t!==-1)if(rr(this._values,t),e==null){var i=this._values.length;this._values.push(r),this._onMoveIndex(t,i,r)}else Ct(this._values,e,r),this._onMoveIndex(t,e,r);else e==null?(this._values.push(r),this._onPush(r)):(Ct(this._values,e,r),this._onInsertIndex(e,r));return r}}),Object.defineProperty(o.prototype,"push",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._values.push(r),this._onPush(r),r}}),Object.defineProperty(o.prototype,"unshift",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this.insertIndex(0,r),r}}),Object.defineProperty(o.prototype,"pushAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;_(r,function(t){e.push(t)})}}),Object.defineProperty(o.prototype,"copyFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.pushAll(r._values)}}),Object.defineProperty(o.prototype,"pop",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this._values.length-1;return r<0?void 0:this.removeIndex(this._values.length-1)}}),Object.defineProperty(o.prototype,"shift",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._values.length?this.removeIndex(0):void 0}}),Object.defineProperty(o.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this,t=this._values;this._values=[],this._onClear(t),_(r,function(i){e._values.push(i),e._onPush(i)})}}),Object.defineProperty(o.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setAll([])}}),Object.defineProperty(o.prototype,Symbol.iterator,{enumerable:!1,configurable:!0,writable:!0,value:function(){var r,e;return J(this,function(t){switch(t.label){case 0:r=this._values.length,e=0,t.label=1;case 1:return e<r?[4,this._values[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return++e,[3,1];case 4:return[2]}})}}),Object.defineProperty(o.prototype,"each",{enumerable:!1,configurable:!0,writable:!0,value:function(r){_(this._values,r)}}),Object.defineProperty(o.prototype,"eachReverse",{enumerable:!1,configurable:!0,writable:!0,value:function(r){qe(this._values,r)}}),o}(),pt=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"_onSetIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.autoDispose&&t.dispose(),o.prototype._onSetIndex.call(this,e,t,i)}}),Object.defineProperty(r.prototype,"_onRemoveIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.autoDispose&&t.dispose(),o.prototype._onRemoveIndex.call(this,e,t)}}),Object.defineProperty(r.prototype,"_onClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.autoDispose&&_(e,function(t){t.dispose()}),o.prototype._onClear.call(this,e)}}),Object.defineProperty(r.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this.autoDispose&&_(this._values,function(e){e.dispose()}))}}),r}(He),ye=function(o){A(r,o);function r(e,t){var i=o.call(this)||this;return Object.defineProperty(i,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.template=e,i.make=t,i}return r}(pt),ci=function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t._container=e,t._events=t.events.onAll(function(i){if(i.type==="clear")_(i.oldValues,function(a){t._onRemoved(a)});else if(i.type==="push")t._onInserted(i.newValue);else if(i.type==="setIndex")t._onRemoved(i.oldValue),t._onInserted(i.newValue,i.index);else if(i.type==="insertIndex")t._onInserted(i.newValue,i.index);else if(i.type==="removeIndex")t._onRemoved(i.oldValue);else if(i.type==="moveIndex")t._onRemoved(i.value),t._onInserted(i.value,i.newIndex);else throw new Error("Unknown IListEvent type")}),t}return Object.defineProperty(r.prototype,"_onInserted",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e._setParent(this._container,!0);var i=this._container._childrenDisplay;t===void 0?i.addChild(e._display):i.addChildAt(e._display,t)}}),Object.defineProperty(r.prototype,"_onRemoved",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}}),Object.defineProperty(r.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._events.dispose(),_(this.values,function(e){e.dispose()}))}}),r}(He),I=function(){function o(r){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=r}return Object.defineProperty(o.prototype,"value",{get:function(){return this._value/100},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"percent",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){return""+this._value+"%"}}),Object.defineProperty(o.prototype,"interpolate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return r+this.value*(e-r)}}),Object.defineProperty(o,"normalize",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){return r instanceof o?r:e===t?new o(0):new o(Math.min(Math.max((r-e)*(1/(t-e)),0),1)*100)}}),o}();function ge(o){return new I(o)}ge(0);var k=ge(100),V=ge(50);function K(o){return Object.keys(o)}function bi(o,r){return K(o).sort(r)}function Ue(o){return Object.assign({},o)}function X(o,r){K(o).forEach(function(e){r(e,o[e])})}function pi(o,r){for(var e in o)if(di(o,e)&&!r(e,o[e]))break}function di(o,r){return{}.hasOwnProperty.call(o,r)}function vi(o){o.parentNode&&o.parentNode.removeChild(o)}function U(o,r,e,t){return o.addEventListener(r,e,t||!1),new Z(function(){o.removeEventListener(r,e,t||!1)})}function Er(o){return U(window,"resize",function(r){o()})}function we(o){switch(o){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function At(o){var r=o.pointerId||0;return r}function gi(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var o=document.createElement("button");o.style.position="fixed",o.style.top="0px",o.style.left="-10000px",document.body.appendChild(o),o.focus(),o.blur(),document.body.removeChild(o)}}function yi(o){o&&o.focus()}function Xt(o){if(we("pointerevents"))return o;if(we("touchevents"))switch(o){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(we("mouseevents"))switch(o){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return o}function Vt(o){if(typeof Touch!="undefined"&&o instanceof Touch)return!0;if(typeof PointerEvent!="undefined"&&o instanceof PointerEvent&&o.pointerType!=null)switch(o.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(o instanceof MouseEvent)}else if(o.type!=null&&o.type.match(/^mouse/))return!1;return!0}function St(o,r,e){o.style[r]=e}function mi(o,r){return o.style[r]}function _i(o,r){for(var e=r;;){if(o===e)return!0;if(e.parentNode===null){if(e.host==null)return!1;e=e.host}else e=e.parentNode}}function Lr(o,r){return o.target&&_i(r.root.dom,o.target)}function Ve(o,r){r?o.style.pointerEvents="auto":o.style.pointerEvents="none"}var kt;function wi(o,r,e){e===void 0&&(e="");var t=document.createElement("style");return t.type="text/css",e!=""&&t.setAttribute("nonce",e),t.textContent=r,o===null?document.head.appendChild(t):o.appendChild(t),t}function Pi(o,r){if(r===void 0&&(r=""),o===null){if(kt==null){var e=document.createElement("style");e.type="text/css",r!=""&&e.setAttribute("nonce",r),document.head.appendChild(e),kt=e.sheet}return kt}else{var e=document.createElement("style");return e.type="text/css",r!=""&&e.setAttribute("nonce",r),o.appendChild(e),e.sheet}}function Oi(o,r){var e=o.cssRules.length;return o.insertRule(r+"{}",e),o.cssRules[e]}(function(o){A(r,o);function r(e,t,i,a){a===void 0&&(a="");var n=o.call(this)||this;return Object.defineProperty(n,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n._root=Pi(e,a),n._rule=Oi(n._root,t),X(i,function(l,s){n.setStyle(l,s)}),n}return Object.defineProperty(r.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=et(this._root.cssRules,this._rule);if(e===-1)throw new Error("Could not dispose StyleRule");this._root.deleteRule(e)}}),Object.defineProperty(r.prototype,"_setVendorPrefixName",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._rule.style;i.setProperty("-webkit-"+e,t,""),i.setProperty("-moz-"+e,t,""),i.setProperty("-ms-"+e,t,""),i.setProperty("-o-"+e,t,""),i.setProperty(e,t,"")}}),Object.defineProperty(r.prototype,"setStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e==="transition"?this._setVendorPrefixName(e,t):this._rule.style.setProperty(e,t,"")}}),r})(Ne);(function(o){A(r,o);function r(e,t,i){i===void 0&&(i="");var a=o.call(this)||this;return Object.defineProperty(a,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a._element=wi(e,t,i),a}return Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._element.parentNode&&this._element.parentNode.removeChild(this._element)}}),r})(Ne);function xi(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function ji(){return xi()?1:void 0}function ee(o,r){return P(o)?o:o!=null&&P(o.value)&&P(r)?r*o.value:0}function Di(o){var r=(""+o).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return r?Math.max(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0}function z(o,r,e){return r===void 0&&(r=0),e===void 0&&(e="0"),typeof o!="string"&&(o=o.toString()),r>o.length?Array(r-o.length+1).join(e)+o:o}function Ti(o){return o.replace(/^[\s]*/,"")}function Ci(o){return o.replace(/[\s]*$/,"")}function ct(o){return Ti(Ci(o))}function Ai(o){if(typeof o=="undefined")return"string";o=o.toLowerCase().replace(/^\[[^\]]*\]/,""),o=o.replace(/\[[^\]]+\]/,""),o=o.trim();var r=o.match(/\/(date|number|duration)$/);return r?r[1]:o==="number"?"number":o==="date"?"date":o==="duration"?"duration":o.match(/[#0]/)?"number":o.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function $t(o){return o.replace(/\/(date|number|duration)$/i,"")}function ir(o){return o&&o.replace(/<[^>]*>/g,"")}function ar(o){return o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function nr(o,r){var e=new Date(o.getFullYear(),0,0),t=o.getTime()-e.getTime()+(e.getTimezoneOffset()-o.getTimezoneOffset())*60*1e3,i=1e3*60*60*24;return Math.floor(t/i)}function $e(o,r){var e=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var i=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-i.getTime())/864e5+1)/7)}function Si(o,r){var e=$e(new Date(o.getFullYear(),o.getMonth(),1)),t=$e(o);return t==1&&(t=53),t-e+1}function ki(o,r,e,t){e===void 0&&(e=1),t===void 0&&(t=!1);var i=new Date(r,0,4,0,0,0,0);t&&i.setUTCFullYear(r);var a=o*7+e-((i.getDay()||7)+3);return a}function ot(o,r){return o>12?o-=12:o===0&&(o=12),r!=null?o+(r-1):o}function lt(o,r,e,t){if(r===void 0&&(r=!1),e===void 0&&(e=!1),t===void 0&&(t=!1),t)return r?"Coordinated Universal Time":"UTC";var i=o.toLocaleString("UTC"),a=o.toLocaleString("UTC",{timeZoneName:r?"long":"short"}).substr(i.length);return e===!1&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),a}function Mi(o){var r=new Date(Date.UTC(2012,0,1,0,0,0,0)),e=new Date(r.toLocaleString("en-US",{timeZone:"UTC"})),t=new Date(r.toLocaleString("en-US",{timeZone:o}));return(t.getTime()-e.getTime())/6e4*-1}function or(o){return o.charAt(0).toUpperCase()+o.slice(1)}function Br(o){var r,e,t,i=o.h,a=o.s,n=o.l;if(a==0)r=e=t=n;else{var l=function(c,v,f){return f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?c+(v-c)*6*f:f<.5?v:f<.6666666666666666?c+(v-c)*(.6666666666666666-f)*6:c},s=n<.5?n*(1+a):n+a-n*a,u=2*n-s;r=l(u,s,i+1/3),e=l(u,s,i),t=l(u,s,i-1/3)}return{r:Math.round(r*255),g:Math.round(e*255),b:Math.round(t*255)}}function Fr(o){var r=o.r/255,e=o.g/255,t=o.b/255,i=Math.max(r,e,t),a=Math.min(r,e,t),n=0,l=0,s=(i+a)/2;if(i===a)n=l=0;else{var u=i-a;switch(l=s>.5?u/(2-i-a):u/(i+a),i){case r:n=(e-t)/u+(e<t?6:0);break;case e:n=(t-r)/u+2;break;case t:n=(r-e)/u+4;break}n/=6}return{h:n,s:l,l:s}}function Ri(o,r){return o&&{r:Math.max(0,Math.min(255,o.r+bt(o.r,r))),g:Math.max(0,Math.min(255,o.g+bt(o.g,r))),b:Math.max(0,Math.min(255,o.b+bt(o.b,r))),a:o.a}}function bt(o,r){var e=r>0?255-o:o;return Math.round(e*r)}function Ei(o,r){if(o){var e=Math.min(Math.max(o.r,o.g,o.b),230),t=bt(e,r);return{r:Math.max(0,Math.min(255,Math.round(o.r+t))),g:Math.max(0,Math.min(255,Math.round(o.g+t))),b:Math.max(0,Math.min(255,Math.round(o.b+t))),a:o.a}}else return o}function lr(o){return(o.r*299+o.g*587+o.b*114)/1e3>=128}function Li(o,r){if(o===void 0||r==1)return o;var e=Fr(o);return e.s=r,Br(e)}function Bi(o,r,e){r===void 0&&(r={r:255,g:255,b:255}),e===void 0&&(e={r:255,g:255,b:255});var t=r,i=e;return lr(e)&&(t=e,i=r),lr(o)?i:t}function Y(o,r){return o||(o=[]),Be(Be([],le(o),!1),le(r),!1).filter(function(e,t,i){return i.indexOf(e)===t})}function Ir(o,r){return!(!r||o.left!=r.left||o.right!=r.right||o.top!=r.top||o.bottom!=r.bottom)}function Yr(o){return o[0]==="#"&&(o=o.substr(1)),o.length==3&&(o=o[0].repeat(2)+o[1].repeat(2)+o[2].repeat(2)),parseInt(o,16)}function Fi(o){o=o.replace(/[ ]/g,"");var r=o.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(r)r.push("1");else if(r=o.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!r)return 0;for(var e="",t=1;t<=3;t++){var i=parseInt(r[t]).toString(16);i.length==1&&(i="0"+i),e+=i}return Yr(e)}function ze(o){return E.fromAny(o)}var E=function(){function o(r){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=r|0}return Object.defineProperty(o.prototype,"hex",{get:function(){return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"r",{get:function(){return this._hex>>>16},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"g",{get:function(){return this._hex>>8&255},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"b",{get:function(){return this._hex&255},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"toCSS",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r===void 0&&(r=1),"rgba("+this.r+", "+this.g+", "+this.b+", "+r+")"}}),Object.defineProperty(o.prototype,"toCSSHex",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"#"+z(this.r.toString(16),2)+z(this.g.toString(16),2)+z(this.b.toString(16),2)}}),Object.defineProperty(o.prototype,"toHSL",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r===void 0&&(r=1),Fr({r:this.r,g:this.g,b:this.b,a:r})}}),Object.defineProperty(o,"fromHSL",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){var i=Br({h:r,s:e,l:t});return this.fromRGB(i.r,i.g,i.b)}}),Object.defineProperty(o.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.toCSSHex()}}),Object.defineProperty(o,"fromHex",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new o(r)}}),Object.defineProperty(o,"fromRGB",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){return new o((t|0)+(e<<8)+(r<<16))}}),Object.defineProperty(o,"fromString",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new o(Yr(r))}}),Object.defineProperty(o,"fromCSS",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new o(Fi(r))}}),Object.defineProperty(o,"fromAny",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(Ie(r)){if(r[0]=="#")return o.fromString(r);if(r.substr(0,3)=="rgb")return o.fromCSS(r)}else{if(P(r))return o.fromHex(r);if(r instanceof o)return o.fromHex(r.hex)}throw new Error("Unknown color syntax: "+r)}}),Object.defineProperty(o,"alternative",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){var i=Bi({r:r.r,g:r.g,b:r.b},e?{r:e.r,g:e.g,b:e.b}:void 0,t?{r:t.r,g:t.g,b:t.b}:void 0);return this.fromRGB(i.r,i.g,i.b)}}),Object.defineProperty(o,"interpolate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i){if(i===void 0&&(i="rgb"),i=="hsl"){var a=e.toHSL(),n=t.toHSL();return o.fromHSL(je(r,a.h,n.h),je(r,a.s,n.s),je(r,a.l,n.l))}else return o.fromRGB(je(r,e.r,t.r),je(r,e.g,t.g),je(r,e.b,t.b))}}),Object.defineProperty(o,"lighten",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=Ri({r:r.r,g:r.g,b:r.b},e);return o.fromRGB(t.r,t.g,t.b)}}),Object.defineProperty(o,"brighten",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=Ei({r:r.r,g:r.g,b:r.b},e);return o.fromRGB(t.r,t.g,t.b)}}),Object.defineProperty(o,"saturate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=Li({r:r.r,g:r.g,b:r.b},e);return o.fromRGB(t.r,t.g,t.b)}}),o}();function sr(o){return te(this,void 0,void 0,function(){var r;return J(this,function(e){switch(e.label){case 0:return o===void 0?[3,2]:(r=[],X(o,function(t,i){r.push(i.waitForStop())}),[4,Promise.all(r)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})}function je(o,r,e){return r+o*(e-r)}function Ii(o,r,e){return o>=1?e:r}function Nr(o,r,e){return new I(je(o,r.percent,e.percent))}function Yi(o,r,e){return E.interpolate(o,r,e)}function Ni(o,r){return typeof o=="number"&&typeof r=="number"?je:o instanceof I&&r instanceof I?Nr:o instanceof E&&r instanceof E?Yi:Ii}var Hr=Math.PI,Xr=Hr/180,Je=180/Hr;function be(o,r,e){if(!P(r)||r<=0){var t=Math.round(o);return e&&t-o==.5&&t--,t}else{var i=Math.pow(10,r);return Math.round(o*i)/i}}function Hi(o,r){if(!P(r)||r<=0)return Math.ceil(o);var e=Math.pow(10,r);return Math.ceil(o*e)/e}function W(o,r,e){return Math.min(Math.max(o,r),e)}function zt(o){return Math.sin(Xr*o)}function Gt(o){return Math.cos(Xr*o)}function Xi(o){return o=o%360,o<0&&(o+=360),o}function Vi(o,r,e,t,i){var a=Number.MAX_VALUE,n=Number.MAX_VALUE,l=-Number.MAX_VALUE,s=-Number.MAX_VALUE,u=[];u.push(Mt(i,e)),u.push(Mt(i,t));for(var h=Math.min(Math.floor(e/90)*90,Math.floor(t/90)*90),c=Math.max(Math.ceil(e/90)*90,Math.ceil(t/90)*90),v=h;v<=c;v+=90)v>=e&&v<=t&&u.push(Mt(i,v));for(var f=0;f<u.length;f++){var d=u[f];d.x<a&&(a=d.x),d.y<n&&(n=d.y),d.x>l&&(l=d.x),d.y>s&&(s=d.y)}return{left:o+a,top:r+n,right:o+l,bottom:r+s}}function Mt(o,r){return{x:o*Gt(r),y:o*zt(r)}}function ur(o){return o}function We(o){return o*o*o}function st(o){return function(r){return 1-o(1-r)}}var zi=function(){function o(r,e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=r,this._settings=e}return Object.defineProperty(o.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];return t!==void 0?t:e}}),Object.defineProperty(o.prototype,"setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._settings[r]=e}}),Object.defineProperty(o.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._userSettings[r]=!0,this.setRaw(r,e)}}),Object.defineProperty(o.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._userSettings[r],delete this._settings[r]}}),Object.defineProperty(o.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;K(r).forEach(function(t){e.set(t,r[t])})}}),Object.defineProperty(o.prototype,"_eachSetting",{enumerable:!1,configurable:!0,writable:!0,value:function(r){X(this._settings,r)}}),Object.defineProperty(o.prototype,"apply",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this,e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;var t=this._entity.states.lookup("default");this._eachSetting(function(i,a){e[i]||(e[i]=!0,r!==t&&(i in t._settings||(t._settings[i]=r._entity.get(i))),r._entity.set(i,a))})}}),Object.defineProperty(o.prototype,"applyAnimate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;r==null&&(r=this._settings.stateAnimationDuration),r==null&&(r=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));var t=this._settings.stateAnimationEasing;t==null&&(t=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",We)));var i=this._entity.states.lookup("default"),a={};a.stateAnimationEasing=!0,a.stateAnimationDuration=!0;var n={};return this._eachSetting(function(l,s){if(!a[l]){a[l]=!0,e!=i&&(l in i._settings||(i._settings[l]=e._entity.get(l)));var u=e._entity.animate({key:l,to:s,duration:r,easing:t});u&&(n[l]=u)}}),n}}),o}(),Gi=function(){function o(r){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=r}return Object.defineProperty(o.prototype,"lookup",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._states[r]}}),Object.defineProperty(o.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._states[r];if(t)return t.setAll(e),t;var i=new zi(this._entity,e);return this._states[r]=i,i}}),Object.defineProperty(o.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._states[r]}}),Object.defineProperty(o.prototype,"apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._states[r];e&&e.apply(),this._entity._applyState(r)}}),Object.defineProperty(o.prototype,"applyAnimate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t,i=this._states[r];return i&&(t=i.applyAnimate(e)),this._entity._applyStateAnimated(r,e),t}}),o}(),Ui=function(){function o(){Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return o}(),me=new Ui;function ke(o,r){return o===r?0:o<r?-1:1}function Vr(o,r,e){for(var t=o.length,i=r.length,a=Math.min(t,i),n=0;n<a;++n){var l=e(o[n],r[n]);if(l!==0)return l}return ke(t,i)}function fr(o,r){return o===r?0:o<r?-1:1}var Wi=function(){function o(r){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=r}return Object.defineProperty(o.prototype,"add",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._callbacks[r];return i===void 0&&(i=this._callbacks[r]=[]),i.push(e),this._entity._markDirtyKey(r),new Z(function(){se(i,e)&&t._entity._markDirtyKey(r)})}}),Object.defineProperty(o.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._callbacks[r];e!==void 0&&(delete this._callbacks[r],e.length!==0&&this._entity._markDirtyKey(r))}}),Object.defineProperty(o.prototype,"enable",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._disabled[r]&&(delete this._disabled[r],this._entity._markDirtyKey(r))}}),Object.defineProperty(o.prototype,"disable",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._disabled[r]||(this._disabled[r]=!0,this._entity._markDirtyKey(r))}}),Object.defineProperty(o.prototype,"fold",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){if(!this._disabled[r]){var t=this._callbacks[r];if(t!==void 0)for(var i=0,a=t.length;i<a;++i)e=t[i](e,this._entity,r)}return e}}),o}(),ut=function(){function o(r,e,t,i,a,n,l){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Re}),this._animation=r,this._from=e,this._to=t,this._duration=i,this._easing=a,this._loops=n,this._interpolate=Ni(e,t),this._oldTime=l}return Object.defineProperty(o.prototype,"to",{get:function(){return this._to},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"from",{get:function(){return this._from},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"stopped",{get:function(){return this._stopped},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}}),Object.defineProperty(o.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._playing=!1,this._oldTime=null}}),Object.defineProperty(o.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}}),Object.defineProperty(o.prototype,"percentage",{get:function(){return this._time/this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"waitForStop",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;return new Promise(function(e,t){if(r._stopped)e();else var i=function(){a.dispose(),e()},a=r.events.on("stopped",i)})}}),Object.defineProperty(o.prototype,"_checkEnded",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._loops>1?(--this._loops,!1):!0}}),Object.defineProperty(o.prototype,"_run",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._oldTime!==null&&(this._time+=r-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=r}}),Object.defineProperty(o.prototype,"_reset",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._oldTime=r,this._time=0}}),Object.defineProperty(o.prototype,"_value",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._interpolate(this._easing(r),this._from,this._to)}}),o}(),Ki=0,zr=function(){function o(r){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++Ki}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=r}return Object.defineProperty(o.prototype,"_checkDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;K(this._settings).forEach(function(e){r._userProperties[e]=!0,r._markDirtyKey(e)})}}),Object.defineProperty(o.prototype,"_runAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;if(this.isDisposed())return!1;var t=!1;return X(this._animatingSettings,function(i,a){if(a._stopped)e._stopAnimation(i);else if(a._playing){a._run(r);var n=a.percentage;n>=1?a._checkEnded()?e.set(i,a._value(1)):(t=!0,a._reset(r),e._set(i,a._value(1))):(t=!0,e._set(i,a._value(n)))}}),X(this._animatingPrivateSettings,function(i,a){if(a._stopped)e._stopAnimationPrivate(i);else if(a._playing){a._run(r);var n=a.percentage;n>=1?a._checkEnded()?e.setPrivate(i,a._value(1)):(t=!0,a._reset(r),e._setPrivate(i,a._value(1))):(t=!0,e._setPrivate(i,a._value(n)))}}),t}}),Object.defineProperty(o.prototype,"_markDirtyKey",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.markDirty()}}),Object.defineProperty(o.prototype,"_markDirtyPrivateKey",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.markDirty()}}),Object.defineProperty(o.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._settingEvents[r];return i===void 0&&(i=this._settingEvents[r]=[]),i.push(e),new Z(function(){se(i,e),i.length===0&&delete t._settingEvents[r]})}}),Object.defineProperty(o.prototype,"onPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._privateSettingEvents[r];return i===void 0&&(i=this._privateSettingEvents[r]=[]),i.push(e),new Z(function(){se(i,e),i.length===0&&delete t._privateSettingEvents[r]})}}),Object.defineProperty(o.prototype,"getRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];return t!==void 0?t:e}}),Object.defineProperty(o.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return this.getRaw(r,e)}}),Object.defineProperty(o.prototype,"_sendKeyEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._settingEvents[r];i!==void 0&&_(i,function(a){a(e,t,r)})}}),Object.defineProperty(o.prototype,"_sendPrivateKeyEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._privateSettingEvents[r];i!==void 0&&_(i,function(a){a(e,t,r)})}}),Object.defineProperty(o.prototype,"_setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this._prevSettings[r]=e,this._sendKeyEvent(r,t)}}),Object.defineProperty(o.prototype,"setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];this._settings[r]=e,t!==e&&this._setRaw(r,t,e)}}),Object.defineProperty(o.prototype,"_set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];this._settings[r]=e,t!==e&&(this._setRaw(r,t,e),this._markDirtyKey(r))}}),Object.defineProperty(o.prototype,"_stopAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._animatingSettings[r];e&&(delete this._animatingSettings[r],e.stop())}}),Object.defineProperty(o.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return this._set(r,e),this._stopAnimation(r),e}}),Object.defineProperty(o.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r in this._settings&&(this._prevSettings[r]=this._settings[r],delete this._settings[r],this._sendKeyEvent(r,void 0),this._markDirtyKey(r)),this._stopAnimation(r)}}),Object.defineProperty(o.prototype,"removeAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;_(K(this._settings),function(e){r.remove(e)})}}),Object.defineProperty(o.prototype,"getPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._privateSettings[r];return t!==void 0?t:e}}),Object.defineProperty(o.prototype,"_setPrivateRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this._prevPrivateSettings[r]=e,this._sendPrivateKeyEvent(r,t)}}),Object.defineProperty(o.prototype,"setPrivateRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._privateSettings[r];this._privateSettings[r]=e,t!==e&&this._setPrivateRaw(r,t,e)}}),Object.defineProperty(o.prototype,"_setPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._privateSettings[r];this._privateSettings[r]=e,t!==e&&(this._setPrivateRaw(r,t,e),this._markDirtyPrivateKey(r))}}),Object.defineProperty(o.prototype,"_stopAnimationPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._animatingPrivateSettings[r];e&&(e.stop(),delete this._animatingPrivateSettings[r])}}),Object.defineProperty(o.prototype,"setPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return this._setPrivate(r,e),this._stopAnimationPrivate(r),e}}),Object.defineProperty(o.prototype,"removePrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r in this._privateSettings&&(this._prevPrivateSettings[r]=this._privateSettings[r],delete this._privateSettings[r],this._markDirtyPrivateKey(r)),this._stopAnimationPrivate(r)}}),Object.defineProperty(o.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;X(r,function(t,i){e.set(t,i)})}}),Object.defineProperty(o.prototype,"animate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.key,t=r.to,i=r.duration||0,a=r.loops||1,n=r.from===void 0?this.get(e):r.from,l=r.easing===void 0?ur:r.easing;if(i===0)this.set(e,t);else if(n===void 0||n===t)this.set(e,t);else{this.set(e,n);var s=this._animatingSettings[e]=new ut(this,n,t,i,l,a,this._animationTime());return this._startAnimation(),s}var u=new ut(this,n,t,i,l,a,null);return u.stop(),u}}),Object.defineProperty(o.prototype,"animatePrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.key,t=r.to,i=r.duration||0,a=r.loops||1,n=r.from===void 0?this.getPrivate(e):r.from,l=r.easing===void 0?ur:r.easing;if(i===0)this.setPrivate(e,t);else if(n===void 0||n===t)this.setPrivate(e,t);else{this.setPrivate(e,n);var s=this._animatingPrivateSettings[e]=new ut(this,n,t,i,l,a,this._animationTime());return this._startAnimation(),s}var u=new ut(this,n,t,i,l,a,null);return u.stop(),u}}),Object.defineProperty(o.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(o.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(o.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._dispose())}}),o}(),fe=function(o){A(r,o);function r(e,t,i,a){a===void 0&&(a=[]);var n=o.call(this,t)||this;if(Object.defineProperty(n,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Gi(n)}),Object.defineProperty(n,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Wi(n)}),Object.defineProperty(n,"events",{enumerable:!0,configurable:!0,writable:!0,value:n._createEvents()}),Object.defineProperty(n,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(n,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(n,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(n,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(n,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(n,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(n,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(n,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(n,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");return n._root=e,n._internalTemplates=a,t.id&&n._registerId(t.id),n}return Object.defineProperty(r,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=new this(e,t,!0);return a._template=i,a._afterNew(),a}}),Object.defineProperty(r,"_new",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){i===void 0&&(i=[]);var a=new this(e,t,!0,i);return a._afterNew(),a}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._checkDirty();var t=!1,i=this._template;i&&(t=!0,i._setObjectTemplate(this)),_(this._internalTemplates,function(a){t=!0,a._setObjectTemplate(e)}),t&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}}),Object.defineProperty(r.prototype,"_afterNewApplyThemes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._checkDirty();var t=this._template;t&&t._setObjectTemplate(this),_(this._internalTemplates,function(i){i._setObjectTemplate(e)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}}),Object.defineProperty(r.prototype,"_createEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Re}}),Object.defineProperty(r.prototype,"classNames",{get:function(){return this.constructor.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){return this.constructor.className},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_setDefault",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e in this._settings||o.prototype.set.call(this,e,t)}}),Object.defineProperty(r.prototype,"_setRawDefault",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e in this._settings||o.prototype.setRaw.call(this,e,t)}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;K(this._dirty).forEach(function(t){e._dirty[t]=!1}),K(this._dirtyPrivate).forEach(function(t){e._dirtyPrivate[t]=!1})}}),Object.defineProperty(r.prototype,"isDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._dirty[e]}}),Object.defineProperty(r.prototype,"isPrivateDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._dirtyPrivate[e]}}),Object.defineProperty(r.prototype,"_markDirtyKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._dirty[e]=!0,o.prototype._markDirtyKey.call(this,e)}}),Object.defineProperty(r.prototype,"_markDirtyPrivateKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._dirtyPrivate[e]=!0,o.prototype._markDirtyKey.call(this,e)}}),Object.defineProperty(r.prototype,"isType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.classNames.indexOf(e)!==-1}}),Object.defineProperty(r.prototype,"_pushPropertyDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._disposerProperties[e];return i===void 0&&(i=this._disposerProperties[e]=[]),i.push(t),t}}),Object.defineProperty(r.prototype,"_disposeProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._disposerProperties[e];t!==void 0&&(_(t,function(i){i.dispose()}),delete this._disposerProperties[e])}}),Object.defineProperty(r.prototype,"template",{get:function(){return this._template},set:function(e){var t=this._template;t!==e&&(this._template=e,t&&t._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._root._addDirtyEntity(this)}}),Object.defineProperty(r.prototype,"_startAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._root._addAnimation(this)}}),Object.defineProperty(r.prototype,"_animationTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._root.animationTime}}),Object.defineProperty(r.prototype,"_applyState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_applyStateAnimated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(r.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.adapters.fold(e,this._settings[e]);return i!==void 0?i:t}}),Object.defineProperty(r.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._userProperties[e]=!0,o.prototype.set.call(this,e,t)}}),Object.defineProperty(r.prototype,"setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._userProperties[e]=!0,o.prototype.setRaw.call(this,e,t)}}),Object.defineProperty(r.prototype,"_setSoft",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._userProperties[e]?t:o.prototype.set.call(this,e,t)}}),Object.defineProperty(r.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){delete this._userProperties[e],this._removeTemplateProperty(e)}}),Object.defineProperty(r.prototype,"setPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._userPrivateProperties[e]=!0,o.prototype.setPrivate.call(this,e,t)}}),Object.defineProperty(r.prototype,"setPrivateRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._userPrivateProperties[e]=!0,o.prototype.setPrivateRaw.call(this,e,t)}}),Object.defineProperty(r.prototype,"removePrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}}),Object.defineProperty(r.prototype,"_setTemplateProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(!this._userProperties[t]){var a=this._findTemplateByKey(t);e===a&&o.prototype.set.call(this,t,i)}}}),Object.defineProperty(r.prototype,"_setTemplatePrivateProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(!this._userPrivateProperties[t]){var a=this._findTemplateByPrivateKey(t);e===a&&o.prototype.setPrivate.call(this,t,i)}}}),Object.defineProperty(r.prototype,"_removeTemplateProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._userProperties[e]){var t=this._findTemplateByKey(e);t?o.prototype.set.call(this,e,t._settings[e]):o.prototype.remove.call(this,e)}}}),Object.defineProperty(r.prototype,"_removeTemplatePrivateProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._userPrivateProperties[e]){var t=this._findTemplateByPrivateKey(e);t?o.prototype.setPrivate.call(this,e,t._privateSettings[e]):o.prototype.removePrivate.call(this,e)}}}),Object.defineProperty(r.prototype,"_walkParents",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e(this._root._rootContainer),e(this)}}),Object.defineProperty(r.prototype,"_applyStateByKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.states.create(e,{}),i={};this._eachTemplate(function(a){var n=a.states.lookup(e);n&&n._apply(t,i)}),X(t._settings,function(a){!i[a]&&!t._userSettings[a]&&t.remove(a)})}}),Object.defineProperty(r.prototype,"_applyTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this._templateDisposers.push(e._apply(this,t)),X(e._settings,function(a,n){!t.settings[a]&&!i._userProperties[a]&&(t.settings[a]=!0,o.prototype.set.call(i,a,n))}),X(e._privateSettings,function(a,n){!t.privateSettings[a]&&!i._userPrivateProperties[a]&&(t.privateSettings[a]=!0,o.prototype.setPrivate.call(i,a,n))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}}),Object.defineProperty(r.prototype,"_findStaticTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._template&&e(this._template))return this._template}}),Object.defineProperty(r.prototype,"_eachTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._findStaticTemplate(function(t){return e(t),!1}),qe(this._internalTemplates,e),_(this._templates,e)}}),Object.defineProperty(r.prototype,"_applyTemplates",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;e===void 0&&(e=!0),e&&this._disposeTemplates();var i={settings:{},privateSettings:{},states:{}};this._eachTemplate(function(a){t._applyTemplate(a,i)}),e&&(X(this._settings,function(a){!t._userProperties[a]&&!i.settings[a]&&o.prototype.remove.call(t,a)}),X(this._privateSettings,function(a){!t._userPrivateProperties[a]&&!i.privateSettings[a]&&o.prototype.removePrivate.call(t,a)}))}}),Object.defineProperty(r.prototype,"_findTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._findStaticTemplate(e);if(t===void 0){var i=si(this._internalTemplates,e);return i===void 0?Mr(this._templates,e):i}else return t}}),Object.defineProperty(r.prototype,"_findTemplateByKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._findTemplate(function(t){return e in t._settings})}}),Object.defineProperty(r.prototype,"_findTemplateByPrivateKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._findTemplate(function(t){return e in t._privateSettings})}}),Object.defineProperty(r.prototype,"_disposeTemplates",{enumerable:!1,configurable:!0,writable:!0,value:function(){_(this._templateDisposers,function(e){e.dispose()}),this._templateDisposers.length=0}}),Object.defineProperty(r.prototype,"_removeTemplates",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;_(this._templates,function(t){t._removeObjectTemplate(e)}),this._templates.length=0}}),Object.defineProperty(r.prototype,"_applyThemes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=!1,i=[],a=[],n=new Set,l=this.get("themeTagsSelf");return l&&_(l,function(s){n.add(s)}),this._walkParents(function(s){s===e._root._rootContainer&&(t=!0),s._defaultThemes.length>0&&i.push(s._defaultThemes);var u=s.get("themes");u&&a.push(u);var h=s.get("themeTags");h&&_(h,function(c){n.add(c)})}),a=i.concat(a),this._removeTemplates(),t&&qe(this.classNames,function(s){var u=[];_(a,function(h){_(h,function(c){var v=c._lookupRules(s);v&&qe(v,function(f){var d=f.tags.every(function(p){return n.has(p)});if(d){var b=fi(u,function(p){var g=ke(f.tags.length,p.tags.length);return g===0?Vr(f.tags,p.tags,ke):g});u.splice(b.index,0,f)}})})}),_(u,function(h){e._templates.push(h.template),h.template._setObjectTemplate(e)})}),this._applyTemplates(),t&&(this._runSetup=!1),t}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDirty("id")){var e=this.get("id");e&&this._registerId(e);var t=this._prevSettings.id;t&&delete me.entitiesById[t]}}}),Object.defineProperty(r.prototype,"_registerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(me.entitiesById[e]&&me.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');me.entitiesById[e]=this}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._disposers.push(e),e}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._dispose.call(this);var t=this._template;t&&t._removeObjectTemplate(this),_(this._internalTemplates,function(a){a._removeObjectTemplate(e)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(function(a){a.dispose()}),X(this._disposerProperties,function(a,n){_(n,function(l){l.dispose()})});var i=this.get("id");i&&delete me.entitiesById[i]}}),Object.defineProperty(r.prototype,"setTimeout",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=setTimeout(function(){i.removeDispose(n),e()},t),n=new Z(function(){clearTimeout(a)});return this._disposers.push(n),n}}),Object.defineProperty(r.prototype,"removeDispose",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDisposed()){var t=et(this._disposers,e);t>-1&&this._disposers.splice(t,1)}e.dispose()}}),Object.defineProperty(r.prototype,"hasTag",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return et(this.get("themeTags",[]),e)!==-1}}),Object.defineProperty(r.prototype,"addTag",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.hasTag(e)){var t=this.get("themeTags",[]);t.push(e),this.set("themeTags",t)}}}),Object.defineProperty(r.prototype,"removeTag",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasTag(e)){var t=this.get("themeTags",[]);de(t,e),this.set("themeTags",t)}}}),Object.defineProperty(r.prototype,"_t",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i,a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];return(i=this._root.language).translate.apply(i,Be([e,t],le(a),!1))}}),Object.defineProperty(r.prototype,"root",{get:function(){return this._root},enumerable:!1,configurable:!0}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]}),r}(zr),Zi=function(){function o(r,e,t){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=r,this._template=e,this._settings=t}return Object.defineProperty(o.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];return t!==void 0?t:e}}),Object.defineProperty(o.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._settings[r]=e,this._template._stateChanged(this._name)}}),Object.defineProperty(o.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._settings[r],this._template._stateChanged(this._name)}}),Object.defineProperty(o.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;K(r).forEach(function(t){e._settings[t]=r[t]}),this._template._stateChanged(this._name)}}),Object.defineProperty(o.prototype,"_apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){X(this._settings,function(t,i){!e[t]&&!r._userSettings[t]&&(e[t]=!0,r.setRaw(t,i))})}}),o}(),qi=function(){function o(r){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=r}return Object.defineProperty(o.prototype,"lookup",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._states[r]}}),Object.defineProperty(o.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._states[r];if(t)return t.setAll(e),t;var i=new Zi(r,this._template,e);return this._states[r]=i,this._template._stateChanged(r),i}}),Object.defineProperty(o.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._states[r],this._template._stateChanged(r)}}),Object.defineProperty(o.prototype,"_apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){X(this._states,function(t,i){var a=e.states[t];a==null&&(a=e.states[t]={});var n=r.states.create(t,{});i._apply(n,a)})}}),o}(),$i=function(){function o(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}return Object.defineProperty(o.prototype,"add",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._callbacks[r];return i===void 0&&(i=this._callbacks[r]=[]),i.push(e),new Z(function(){se(i,e),i.length===0&&delete t._callbacks[r]})}}),Object.defineProperty(o.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._callbacks[r];e!==void 0&&delete this._callbacks[r]}}),Object.defineProperty(o.prototype,"_apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=[];return X(this._callbacks,function(t,i){_(i,function(a){e.push(r.adapters.add(t,a))})}),new oe(e)}}),o}(),ue=function(){function o(r,e){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new qi(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new $i}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Re}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=r}return Object.defineProperty(o,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new o(r,!0)}}),Object.defineProperty(o.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];return t!==void 0?t:e}}),Object.defineProperty(o.prototype,"setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._settings[r]=e}}),Object.defineProperty(o.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this;this._settings[r]!==e&&(this.setRaw(r,e),this._entities.forEach(function(i){i._setTemplateProperty(t,r,e)}))}}),Object.defineProperty(o.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r in this._settings&&(delete this._settings[r],this._entities.forEach(function(e){e._removeTemplateProperty(r)}))}}),Object.defineProperty(o.prototype,"removeAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;X(this._settings,function(e,t){r.remove(e)})}}),Object.defineProperty(o.prototype,"getPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._privateSettings[r];return t!==void 0?t:e}}),Object.defineProperty(o.prototype,"setPrivateRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return this._privateSettings[r]=e,e}}),Object.defineProperty(o.prototype,"setPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this;return this._privateSettings[r]!==e&&(this.setPrivateRaw(r,e),this._entities.forEach(function(i){i._setTemplatePrivateProperty(t,r,e)})),e}}),Object.defineProperty(o.prototype,"removePrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r in this._privateSettings&&(delete this._privateSettings[r],this._entities.forEach(function(e){e._removeTemplatePrivateProperty(r)}))}}),Object.defineProperty(o.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;X(r,function(t,i){e.set(t,i)})}}),Object.defineProperty(o.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._settingEvents[r];return i===void 0&&(i=this._settingEvents[r]=[]),i.push(e),new Z(function(){se(i,e),i.length===0&&delete t._settingEvents[r]})}}),Object.defineProperty(o.prototype,"onPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._privateSettingEvents[r];return i===void 0&&(i=this._privateSettingEvents[r]=[]),i.push(e),new Z(function(){se(i,e),i.length===0&&delete t._privateSettingEvents[r]})}}),Object.defineProperty(o.prototype,"_apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=[];return X(this._settingEvents,function(i,a){_(a,function(n){t.push(r.on(i,n))})}),X(this._privateSettingEvents,function(i,a){_(a,function(n){t.push(r.onPrivate(i,n))})}),this.states._apply(r,e),t.push(this.adapters._apply(r)),t.push(r.events.copyFrom(this.events)),new oe(t)}}),Object.defineProperty(o.prototype,"_setObjectTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._entities.push(r)}}),Object.defineProperty(o.prototype,"_removeObjectTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){de(this._entities,r)}}),Object.defineProperty(o.prototype,"_stateChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._entities.forEach(function(e){e._applyStateByKey(r)})}}),o}(),Ji=function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),t._sprite=e,t}return Object.defineProperty(r.prototype,"_makePointerEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return{type:e,originalEvent:t.event,point:t.point,simulated:t.simulated,native:t.native,target:this._sprite}}}),Object.defineProperty(r.prototype,"_onRenderer",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;var a=this._rendererDisposers[e];if(a===void 0){var n=this._sprite._display.on(e,function(l){t.call(i,l)});a=this._rendererDisposers[e]=new Rr(function(){delete i._rendererDisposers[e],n.dispose()})}return a.increment()}}),Object.defineProperty(r.prototype,"_on",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n,l){var s=o.prototype._on.call(this,e,t,i,a,n,l),u=r.RENDERER_EVENTS[t];return u!==void 0&&(s.disposer=new oe([s.disposer,this._onRenderer(t,u)])),s}}),Object.defineProperty(r.prototype,"stopParentDispatch",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dispatchParents=!1}}),Object.defineProperty(r.prototype,"dispatchParents",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,t),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,t)}finally{this._dispatchParents=i}}}),Object.defineProperty(r,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(e){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",e))&&this.dispatch("click",this._makePointerEvent("click",e))},rightclick:function(e){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",e))},middleclick:function(e){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",e))},dblclick:function(e){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",e))},pointerover:function(e){this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",e))},pointerout:function(e){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",e))},pointerdown:function(e){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",e))},pointerup:function(e){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",e))},globalpointerup:function(e){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",e))},globalpointermove:function(e){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",e))},wheel:function(e){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:e.event,point:e.point})}}}),r}(Re),De=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(e,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(e,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivateRaw("visible",!0),o.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"_markDirtyKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype._markDirtyKey.call(this,e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}}),Object.defineProperty(r.prototype,"_markDirtyPrivateKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype._markDirtyPrivateKey.call(this,e),(e=="x"||e=="y")&&this.markDirtyPosition()}}),Object.defineProperty(r.prototype,"_removeTemplateField",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._templateField&&this._templateField._removeObjectTemplate(this)}}),Object.defineProperty(r.prototype,"_createEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Ji(this)}}),Object.defineProperty(r.prototype,"_processTemplateField",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this.get("templateField");if(t){var i=this.dataItem;if(i){var a=i.dataContext;a&&(e=a[t],!(e instanceof ue)&&e&&(e=ue.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._dataItem;this._dataItem=e,this._processTemplateField();var i="dataitemchanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:t,newDataItem:e})}}),Object.defineProperty(r.prototype,"dataItem",{get:function(){if(this._dataItem)return this._dataItem;for(var e=this._parent;e;){if(e._dataItem)return e._dataItem;e=e._parent}},set:function(e){this._setDataItem(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_addPercentageSizeChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent;e&&(this.get("width")instanceof I||this.get("height")instanceof I?tt(e._percentageSizeChildren,this):se(e._percentageSizeChildren,this))}}),Object.defineProperty(r.prototype,"_addPercentagePositionChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent;e&&(this.get("x")instanceof I||this.get("y")instanceof I?tt(e._percentagePositionChildren,this):se(e._percentagePositionChildren,this))}}),Object.defineProperty(r.prototype,"markDirtyPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._root._addDirtyPosition(this)}}),Object.defineProperty(r.prototype,"updatePivotPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._localBounds;if(e){var t=this.get("centerX");t!=null&&(this._display.pivot.x=e.left+ee(t,e.right-e.left));var i=this.get("centerY");i!=null&&(this._display.pivot.y=e.top+ee(i,e.bottom-e.top))}}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._beforeChanged.call(this),this._handleStates(),this.isDirty("tooltip")){var t=this._prevSettings.tooltip;t&&t.dispose()}if(this.isDirty("layer")&&(this._display.setLayer(this.get("layer")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){var i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0);var a=this._tooltipPointerDp;a&&(a.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this._tooltipPointerDp=new oe([this.events.on("pointerover",function(){e._tooltipMoveDp=e.events.on("globalpointermove",function(n){e.showTooltip(n.point)})}),this.events.on("pointerout",function(){var n=e._tooltipMoveDp;n&&(n.dispose(),e._tooltipMoveDp=void 0)})]))}}}),Object.defineProperty(r.prototype,"_handleStates",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._changed.call(this);var t=this._display,i=this.events;if(this.isDirty("draggable")){var a=this.get("draggable");a?(this.set("interactive",!0),this._dragDp=new oe([i.on("pointerdown",function(f){e.dragStart(f)}),i.on("globalpointermove",function(f){e.dragMove(f)}),i.on("globalpointerup",function(f){e.dragStop(f)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),t.cancelTouch=!!a}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){var n=this.get("tooltipText"),l=this.get("tooltipHTML"),s=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(n||l)&&(s=="click"?this._tooltipDp=new oe([i.on("click",function(){e.setTimeout(function(){return e.showTooltip()},10)}),U(document,"click",function(f){e.hideTooltip()})]):s=="always"||(this._tooltipDp=new oe([i.on("pointerover",function(){e.showTooltip()}),i.on("pointerout",function(){e.hideTooltip()})])))}if(this.isDirty("toggleKey")){var u=this.get("toggleKey");u&&u!="none"?this._toggleDp=i.on("click",function(){e._isDragging||e.set(u,!e.get(u))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(t.alpha=Math.max(0,this.get("opacity",1))),this.isDirty("rotation")&&(this.markDirtyBounds(),t.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),t.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t.visible=!1,this.hideTooltip()):t.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();var h=this.parent;h&&(this.isDirty("width")&&this.get("width")instanceof I||this.isDirty("height")&&this.get("height")instanceof I)&&(h.markDirty(),h._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){var c=this.get("wheelable");c&&this.set("interactive",!0),t.wheelable=!!c}if((this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(t.filter=this.get("filter")),this.isDirty("cursorOverStyle")&&(t.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new oe([i.on("focus",function(){e.showTooltip()}),i.on("blur",function(){e.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(t.exportable=this.get("exportable")),this.isDirty("interactive")){var v=this.events;this.get("interactive")?this._hoverDp=new oe([v.on("click",function(f){Vt(f.originalEvent)&&(e.getPrivate("touchHovering")||e.setTimeout(function(){e._handleOver(),(e.get("tooltipText")||e.get("tooltipHTML"))&&e.showTooltip(),e.setPrivateRaw("touchHovering",!0),e.events.dispatch("pointerover",{type:"pointerover",target:f.target,originalEvent:f.originalEvent,point:f.point,simulated:f.simulated})},10))}),v.on("globalpointerup",function(f){Vt(f.originalEvent)&&(e.getPrivate("touchHovering")&&(e._handleOut(),(e.get("tooltipText")||e.get("tooltipHTML"))&&e.hideTooltip()),e.setPrivateRaw("touchHovering",!1),e.events.dispatch("pointerout",{type:"pointerout",target:f.target,originalEvent:f.originalEvent,point:f.point,simulated:f.simulated})),e._isDown&&e._handleUp(f)}),v.on("pointerover",function(){e._handleOver()}),v.on("pointerout",function(){e._handleOut()}),v.on("pointerdown",function(f){e._handleDown(f)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",!1)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}}),Object.defineProperty(r.prototype,"dragStart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._dragEvent=e,this.events.stopParentDispatch()}}),Object.defineProperty(r.prototype,"dragStop",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;var t="dragstop";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}),Object.defineProperty(r.prototype,"_handleOver",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"))}}),Object.defineProperty(r.prototype,"_handleOut",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"))}}),Object.defineProperty(r.prototype,"_handleUp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;var t=At(e.originalEvent);delete this._downPoints[t],K(this._downPoints).length==0&&(this._isDown=!1)}}}),Object.defineProperty(r.prototype,"_hasMoved",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=At(e.originalEvent),i=this._downPoints[t];if(i){var a=Math.abs(i.x-e.point.x),n=Math.abs(i.y-e.point.y);return a>5||n>5}return!1}}),Object.defineProperty(r.prototype,"_hasDown",{enumerable:!1,configurable:!0,writable:!0,value:function(){return K(this._downPoints).length>0}}),Object.defineProperty(r.prototype,"_handleDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.parent;if(t&&!this.get("draggable")&&t._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;var i=At(e.originalEvent);this._downPoints[i]={x:e.point.x,y:e.point.y}}}}),Object.defineProperty(r.prototype,"dragMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._dragEvent;if(t){if(t.simulated&&!e.simulated)return!0;for(var i=0,a=this.parent;a!=null;)i+=a.get("rotation",0),a=a.parent;var n=e.point.x-t.point.x,l=e.point.y-t.point.y,s=this.events;if(t.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};var u="dragstart";s.isEnabled(u)&&s.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){var h=this._dragPoint;this.set("x",h.x+n*Gt(i)+l*zt(i)),this.set("y",h.y+l*Gt(i)-n*zt(i));var u="dragged";s.isEnabled(u)&&s.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(n,l)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};var u="dragstart";s.isEnabled(u)&&s.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}}),Object.defineProperty(r.prototype,"_updateSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_getBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._localBounds=this._display.getLocalBounds()}}),Object.defineProperty(r.prototype,"depth",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=this.parent,t=0;;)if(e)++t,e=e.parent;else return t}}),Object.defineProperty(r.prototype,"markDirtySize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._sizeDirty=!0,this.markDirty()}}),Object.defineProperty(r.prototype,"markDirtyBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();var t=this.parent;t&&this.get("position")!="absolute"&&(t.get("width")==null||t.get("height")==null||t.get("layout"))&&t.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}}),Object.defineProperty(r.prototype,"markDirtyAccessibility",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._root._invalidateAccessibility(this)}}),Object.defineProperty(r.prototype,"markDirtyLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._display.markDirtyLayer(!0)}}),Object.defineProperty(r.prototype,"markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.markDirty.call(this),this.markDirtyLayer()}}),Object.defineProperty(r.prototype,"_updateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._adjustedLocalBounds,t;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t={left:0,right:0,top:0,bottom:0},this._localBounds=t,this._adjustedLocalBounds=t):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),t=this._adjustedLocalBounds),!e||e.left!==t.left||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom){var i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}}),Object.defineProperty(r.prototype,"_fixMinBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));P(t)&&e.right-e.left<t&&(e.right=e.left+t),P(i)&&e.bottom-e.top<i&&(e.bottom=e.top+i);var a=this.getPrivate("width"),n=this.getPrivate("height");P(a)&&(e.right=e.left+a),P(n)&&(e.bottom=e.top+n)}}),Object.defineProperty(r.prototype,"_removeParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e&&(e.children.removeValue(this),se(e._percentageSizeChildren,this),se(e._percentagePositionChildren,this))}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._clearDirty.call(this),this._sizeDirty=!1,this._statesHandled=!1}}),Object.defineProperty(r.prototype,"hover",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.showTooltip(),this._handleOver()}}),Object.defineProperty(r.prototype,"unhover",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.hideTooltip(),this._handleOut()}}),Object.defineProperty(r.prototype,"showTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getTooltip(),i=this.get("tooltipText"),a=this.get("tooltipHTML");if((i||a)&&t){var n=this.get("tooltipPosition"),l=this.getPrivate("tooltipTarget",this);(n=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(l._getTooltipPoint())),t.set("pointTo",e),t.set("tooltipTarget",l),t.get("x")||t.set("x",e.x),t.get("y")||t.set("y",e.y),i&&t.label.set("text",i),a&&t.label.set("html",a);var s=this.dataItem;if(s&&t.label._setDataItem(s),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}t.label.text.markDirtyText();var u=t.show();return this.setPrivateRaw("showingTooltip",!0),u}}}),Object.defineProperty(r.prototype,"hideTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getTooltip();if(e){var t=e.get("keepTargetHover")&&e.get("stateAnimationDuration",0)==0?400:void 0,i=e.hide(t);return this.setPrivateRaw("showingTooltip",!1),i}}}),Object.defineProperty(r.prototype,"_getTooltipPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._localBounds;if(e){var t=0,i=0;return this.get("isMeasured")?(t=e.left+ee(this.get("tooltipX",0),e.right-e.left),i=e.top+ee(this.get("tooltipY",0),e.bottom-e.top)):(t=ee(this.get("tooltipX",0),this.width()),i=ee(this.get("tooltipY",0),this.height())),{x:t,y:i}}return{x:0,y:0}}}),Object.defineProperty(r.prototype,"getTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltip");if(e)return e;var t=this.parent;if(t)return t.getTooltip()}}),Object.defineProperty(r.prototype,"_updatePosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent,t=this.get("dx",0),i=this.get("dy",0),a=this.get("x"),n=this.getPrivate("x"),l=0,s=0,u=this.get("position");a instanceof I&&(e?a=e.innerWidth()*a.value+e.get("paddingLeft",0):a=0),P(a)?l=a+t:n!=null?l=n:e&&u=="relative"&&(l=e.get("paddingLeft",0)+t);var h=this.get("y"),c=this.getPrivate("y");h instanceof I&&(e?h=e.innerHeight()*h.value+e.get("paddingTop",0):h=0),P(h)?s=h+i:c!=null?s=c:e&&u=="relative"&&(s=e.get("paddingTop",0)+i);var v=this._display;if(v.x!=l||v.y!=s){v.invalidateBounds(),v.x=l,v.y=s;var f="positionchanged";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}}),Object.defineProperty(r.prototype,"x",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("x"),t=this.getPrivate("x"),i=this.parent;return i?e instanceof I?ee(e,i.innerWidth())+i.get("paddingLeft",0):P(e)?e:t!=null?t:i.get("paddingLeft",this._display.x):this._display.x}}),Object.defineProperty(r.prototype,"y",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getPrivate("y");if(e!=null)return e;var t=this.get("y"),i=this.parent;return i?t instanceof I?ee(t,i.innerHeight())+i.get("paddingTop",0):P(t)?t:e!=null?e:i.get("paddingTop",this._display.y):this._display.y}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._dispose.call(this),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);var e=this.get("tooltip");e&&e.dispose(),this.markDirty()}}),Object.defineProperty(r.prototype,"adjustedLocalBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}}),Object.defineProperty(r.prototype,"localBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._localBounds}}),Object.defineProperty(r.prototype,"bounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._adjustedLocalBounds,t=this.x(),i=this.y();return{left:e.left+t,right:e.right+t,top:e.top+i,bottom:e.bottom+i}}}),Object.defineProperty(r.prototype,"globalBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.localBounds(),t=this.toGlobal({x:e.left,y:e.top}),i=this.toGlobal({x:e.right,y:e.top}),a=this.toGlobal({x:e.right,y:e.bottom}),n=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(t.x,i.x,a.x,n.x),top:Math.min(t.y,i.y,a.y,n.y),right:Math.max(t.x,i.x,a.x,n.x),bottom:Math.max(t.y,i.y,a.y,n.y)}}}),Object.defineProperty(r.prototype,"_onShow",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_onHide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"appear",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){var i=this;return J(this,function(a){switch(a.label){case 0:return[4,this.hide(0)];case 1:return a.sent(),t?[2,new Promise(function(n,l){i.setTimeout(function(){n(i.show(e))},t)})]:[2,this.show(e)]}})})}}),Object.defineProperty(r.prototype,"show",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return te(this,void 0,void 0,function(){var t;return J(this,function(i){switch(i.label){case 0:return this._isShowing?[3,2]:(this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e),t=this.states.applyAnimate("default",e),[4,sr(t)]);case 1:i.sent(),this._isShowing=!1,i.label=2;case 2:return[2]}})})}}),Object.defineProperty(r.prototype,"hide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return te(this,void 0,void 0,function(){var t,i;return J(this,function(a){switch(a.label){case 0:return!this._isHiding&&!this._isHidden?(this._isHiding=!0,this._isShowing=!1,t=this.states.lookup("hidden"),t||(t=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e),i=this.states.applyAnimate("hidden",e),[4,sr(i)]):[3,2];case 1:a.sent(),this._isHiding=!1,a.label=2;case 2:return[2]}})})}}),Object.defineProperty(r.prototype,"isHidden",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isHidden}}),Object.defineProperty(r.prototype,"isShowing",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isShowing}}),Object.defineProperty(r.prototype,"isHiding",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isHiding}}),Object.defineProperty(r.prototype,"isHover",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._display.hovering()}}),Object.defineProperty(r.prototype,"isFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._root.focused(this)}}),Object.defineProperty(r.prototype,"isDragging",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isDragging}}),Object.defineProperty(r.prototype,"isVisible",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}}),Object.defineProperty(r.prototype,"isVisibleDeep",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}}),Object.defineProperty(r.prototype,"compositeOpacity",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}}),Object.defineProperty(r.prototype,"width",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("width"),t=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),a=this.getPrivate("width"),n=0;if(P(a))n=a;else if(e==null)this._adjustedLocalBounds&&(n=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof I){var l=this.parent;l?n=l.innerWidth()*e.value:n=this._root.width()*e.value}else P(e)&&(n=e);return P(i)&&(n=Math.max(i,n)),P(t)&&(n=Math.min(t,n)),n}}),Object.defineProperty(r.prototype,"maxWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("maxWidth",this.getPrivate("maxWidth"));if(P(e))return e;var t=this.get("width");if(P(t))return t;var i=this.parent;return i?i.innerWidth():this._root.width()}}),Object.defineProperty(r.prototype,"maxHeight",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("maxHeight",this.getPrivate("maxHeight"));if(P(e))return e;var t=this.get("height");if(P(t))return t;var i=this.parent;return i?i.innerHeight():this._root.height()}}),Object.defineProperty(r.prototype,"height",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("height"),t=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),a=this.getPrivate("height"),n=0;if(P(a))n=a;else if(e==null)this._adjustedLocalBounds&&(n=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof I){var l=this.parent;l?n=l.innerHeight()*e.value:n=this._root.height()*e.value}else P(e)&&(n=e);return P(i)&&(n=Math.max(i,n)),P(t)&&(n=Math.min(t,n)),n}}),Object.defineProperty(r.prototype,"_findStaticTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._templateField&&e(this._templateField)?this._templateField:o.prototype._findStaticTemplate.call(this,e)}}),Object.defineProperty(r.prototype,"_walkParents",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._parent&&this._walkParent(e)}}),Object.defineProperty(r.prototype,"_walkParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._parent&&this._parent._walkParent(e),e(this)}}),Object.defineProperty(r.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!1);var i=this._parent;e!==i&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,t&&(this._removeParent(i),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}}),Object.defineProperty(r.prototype,"getNumberFormatter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get("numberFormatter",this._root.numberFormatter)}}),Object.defineProperty(r.prototype,"getDateFormatter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get("dateFormatter",this._root.dateFormatter)}}),Object.defineProperty(r.prototype,"getDurationFormatter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get("durationFormatter",this._root.durationFormatter)}}),Object.defineProperty(r.prototype,"toGlobal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._display.toGlobal(e)}}),Object.defineProperty(r.prototype,"toLocal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._display.toLocal(e)}}),Object.defineProperty(r.prototype,"_getDownPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._getDownPointId();if(e)return this._downPoints[e]}}),Object.defineProperty(r.prototype,"_getDownPointId",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this._downPoints)return bi(this._downPoints,function(e,t){return e>t?1:e<t?-1:0})[0]}}),Object.defineProperty(r.prototype,"toFront",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}}),Object.defineProperty(r.prototype,"toBack",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent;e&&e.children.moveValue(this,0)}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.classNames.concat([r.className])}),r}(fe),hr=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeGraphics()}),Object.defineProperty(e,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeGraphics()}),Object.defineProperty(e,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._afterNewApplyThemes.call(this)}}),Object.defineProperty(r.prototype,"pattern",{get:function(){return this._pattern},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("color")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fill")||this.isDirty("fillOpacity"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._changed.call(this),this._clear){var e=this.get("repetition",""),t=this.get("width",100),i=this.get("height",100),a=this.get("fill"),n=this.get("fillOpacity",1);this._display.clear(),this._backgroundDisplay.clear(),a&&n>0&&(this._backgroundDisplay.beginFill(a,n),this._backgroundDisplay.drawRect(0,0,t,i),this._backgroundDisplay.endFill()),this._display.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(this._display,this._backgroundDisplay,e,t,i)}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.classNames.concat([r.className])}),r}(fe),cr=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this),this._clear=!0,this.isDirty("src")&&this._load()}}),Object.defineProperty(r.prototype,"_draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._draw.call(this);var e=this._image;if(e){var t=this.get("width",100),i=this.get("height",100),a=this.get("fit","image"),n=0,l=0;a=="pattern"?(n=t,l=i):(n=e.width,l=e.height,a=="image"&&(this.set("width",n),this.set("height",l)));var s=this.get("centered",!0),u=0,h=0;s&&(u=t/2-n/2,h=i/2-l/2),this._display.image(e,n,l,u,h)}}}),Object.defineProperty(r.prototype,"_load",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("src");if(t){var i=new Image;i.src=t,i.decode().then(function(){e._image=i,e._draw(),e.events.isEnabled("loaded")&&e.events.dispatch("loaded",{type:"loaded",target:e})}).catch(function(a){})}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hr.classNames.concat([r.className])}),r}(hr),dt;(function(o){o.ADD="lighter",o.COLOR="color",o.COLOR_BURN="color-burn",o.COLOR_DODGE="color-dodge",o.DARKEN="darken",o.DIFFERENCE="difference",o.DST_OVER="destination-over",o.EXCLUSION="exclusion",o.HARD_LIGHT="hard-light",o.HUE="hue",o.LIGHTEN="lighten",o.LUMINOSITY="luminosity",o.MULTIPLY="multiply",o.NORMAL="source-over",o.OVERLAY="overlay",o.SATURATION="saturation",o.SCREEN="screen",o.SOFT_LIGHT="soft-light",o.SRC_ATOP="source-atop",o.XOR="xor"})(dt||(dt={}));var Qi=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset"],re=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeGraphics()}),Object.defineProperty(e,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._beforeChanged.call(this),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this.isDirty("fillGradient")){var t=this.get("fillGradient");if(t){this._display.isMeasured=!0;var i=t.get("target");i&&(this._disposers.push(i.events.on("boundschanged",function(){e._markDirtyKey("fill")})),this._disposers.push(i.events.on("positionchanged",function(){e._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){var t=this.get("strokeGradient");if(t){this._display.isMeasured=!0;var i=t.get("target");i&&(this._disposers.push(i.events.on("boundschanged",function(){e._markDirtyKey("stroke")})),this._disposers.push(i.events.on("positionchanged",function(){e._markDirtyKey("stroke")})))}}}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._changed.call(this),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();var e=this.get("strokeDasharray");P(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);var t=this.get("strokeDashoffset");t&&this._display.setLineDashOffset(t);var i=this.get("blendMode",dt.NORMAL);this._display.blendMode=i;var a=this.get("draw");a&&a(this._display,this);var n=this.get("svgPath");n!=null&&this._display.svgPath(n)}}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._afterChanged.call(this),this._clear){var t=this.get("fill"),i=this.get("fillGradient"),a=this.get("fillPattern"),n=this.get("fillOpacity"),l=this.get("stroke"),s=this.get("strokeGradient"),u=this.get("strokePattern"),h=this.get("shadowColor"),c=this.get("shadowBlur"),v=this.get("shadowOffsetX"),f=this.get("shadowOffsetY"),d=this.get("shadowOpacity");if(h&&(c||v||f)&&this._display.shadow(h,c,v,f,d),a){var b=!1;t&&(!a.get("fill")||a.get("fillInherited"))&&(a.set("fill",t),a.set("fillInherited",!0),b=!0),l&&(!a.get("color")||a.get("colorInherited"))&&(a.set("color",l),a.set("colorInherited",!0),b=!0),b&&a._changed();var p=a.pattern;p&&(this._display.beginFill(p,n),this._display.endFill(),a instanceof cr&&a.events.once("loaded",function(){e._clear=!0,e.markDirty()}))}else if(i){if(t){var g=i.get("stops",[]);g.length&&_(g,function(x){(!x.color||x.colorInherited)&&t&&(x.color=t,x.colorInherited=!0),(x.opacity==null||x.opacityInherited)&&(x.opacity=n,x.opacityInherited=!0)})}var y=i.getFill(this);y&&(this._display.beginFill(y,n),this._display.endFill())}else t&&(this._display.beginFill(t,n),this._display.endFill());if(l||s||u){var m=this.get("strokeOpacity"),j=this.get("strokeWidth",1),C=this.get("lineJoin");if(u){var b=!1;l&&(!u.get("color")||u.get("colorInherited"))&&(u.set("color",l),u.set("colorInherited",!0),b=!0),b&&u._changed();var p=u.pattern;p&&(this._display.lineStyle(j,p,m,C),this._display.endStroke(),u instanceof cr&&u.events.once("loaded",function(){e._clear=!0,e.markDirty()}))}else if(s){var g=s.get("stops",[]);g.length&&_(g,function(O){(!O.color||O.colorInherited)&&l&&(O.color=l,O.colorInherited=!0),(O.opacity==null||O.opacityInherited)&&(O.opacity=m,O.opacityInherited=!0)});var y=s.getFill(this);y&&(this._display.lineStyle(j,y,m,C),this._display.endStroke())}else l&&(this._display.lineStyle(j,l,m,C),this._display.endStroke())}}this._clear=!1}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:De.classNames.concat([r.className])}),r}(De),Oe=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._changed.call(this),this._clear&&!this.get("draw")&&this._draw()}}),Object.defineProperty(r.prototype,"_draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._display.drawRect(0,0,this.width(),this.height())}}),Object.defineProperty(r.prototype,"_updateSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.markDirty(),this._clear=!0}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re);function Pe(o,r){o.get("reverseChildren",!1)?o.children.eachReverse(r):o.children.each(r)}var Ye=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.classNames.concat([r.className])}),r}(fe),Ut=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"updateContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("paddingLeft",0),i=e.innerWidth(),a=0;Pe(e,function(l){if(l.isVisible()&&l.get("position")=="relative"){var s=l.get("width");if(s instanceof I){a+=s.value;var u=i*s.value,h=l.get("minWidth",l.getPrivate("minWidth",-1/0));h>u&&(i-=h,a-=s.value);var c=l.get("maxWidth",l.getPrivate("maxWidth",1/0));u>c&&(i-=c,a-=s.value)}else P(s)||(s=l.width()),i-=s+l.get("marginLeft",0)+l.get("marginRight",0)}}),i<0&&(i=.01),Pe(e,function(l){if(l.isVisible()&&l.get("position")=="relative"){var s=l.get("width");if(s instanceof I){var u=i*s.value/a-l.get("marginLeft",0)-l.get("marginRight",0),h=l.get("minWidth",l.getPrivate("minWidth",-1/0)),c=l.get("maxWidth",l.getPrivate("maxWidth",1/0));u=Math.min(Math.max(h,u),c),l.setPrivate("width",u)}}});var n=t;Pe(e,function(l){if(l.get("position")=="relative")if(l.isVisible()){var s=l.adjustedLocalBounds(),u=l.get("marginLeft",0),h=l.get("marginRight",0),c=l.get("maxWidth"),v=s.left,f=s.right;c&&f-v>c&&(f=v+c);var d=n+u-v;l.setPrivate("x",d),n=d+f+h}else l.setPrivate("x",void 0)})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ye.classNames.concat([r.className])}),r}(Ye),Wt=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"updateContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("paddingTop",0),i=e.innerHeight(),a=0;Pe(e,function(l){if(l.isVisible()&&l.get("position")=="relative"){var s=l.get("height");if(s instanceof I){a+=s.value;var u=i*s.value,h=l.get("minHeight",l.getPrivate("minHeight",-1/0));h>u&&(i-=h,a-=s.value);var c=l.get("maxHeight",l.getPrivate("maxHeight",1/0));u>c&&(i-=c,a-=s.value)}else P(s)||(s=l.height()),i-=s+l.get("marginTop",0)+l.get("marginBottom",0)}}),i<0&&(i=.01),Pe(e,function(l){if(l.isVisible()&&l.get("position")=="relative"){var s=l.get("height");if(s instanceof I){var u=i*s.value/a-l.get("marginTop",0)-l.get("marginBottom",0),h=l.get("minHeight",l.getPrivate("minHeight",-1/0)),c=l.get("maxHeight",l.getPrivate("maxHeight",1/0));u=Math.min(Math.max(h,u),c),l.setPrivate("height",u)}}});var n=t;Pe(e,function(l){if(l.get("position")=="relative")if(l.isVisible()){var s=l.adjustedLocalBounds(),u=l.get("marginTop",0),h=s.top,c=s.bottom,v=l.get("maxHeight");v&&c-h>v&&(c=h+v);var f=l.get("marginBottom",0),d=n+u-h;l.setPrivate("y",d),n=d+c+f}else l.setPrivate("y",void 0)})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ye.classNames.concat([r.className])}),r}(Ye),vt=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._setRawDefault("maxColumns",Number.MAX_VALUE),o.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"updateContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("paddingLeft",0),i=e.get("paddingRight",0),a=e.get("paddingTop",0),n=e.maxWidth()-t-i,l=n,s=1;Pe(e,function(b){if(b.get("visible")&&b.getPrivate("visible")&&!b.get("forceHidden")&&b.get("position")!="absolute"){var p=b.width();p<l&&(l=p),p>s&&(s=p)}}),l=W(l,1,n),s=W(s,1,n);var u=1;this.get("fixedWidthGrid")?u=n/s:u=n/l,u=Math.max(1,Math.floor(u)),u=Math.min(this.get("maxColumns",Number.MAX_VALUE),u);var h=this.getColumnWidths(e,u,s,n),c=a,v=0,f=0;u=h.length;var d=t;Pe(e,function(b){if(b.get("position")=="relative"&&b.isVisible()){var p=b.get("marginTop",0),g=b.get("marginBottom",0),y=b.adjustedLocalBounds(),m=b.get("marginLeft",0),j=b.get("marginRight",0),C=d+m-y.left,x=c+p-y.top;b.setPrivate("x",C),b.setPrivate("y",x),d+=h[v]+j,f=Math.max(f,b.height()+p+g),v++,v>=u&&(v=0,d=t,c+=f)}})}}),Object.defineProperty(r.prototype,"getColumnWidths",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var n=this,l=0,s=[],u=0;return Pe(e,function(h){var c=h.adjustedLocalBounds();h.get("position")!="absolute"&&h.isVisible()&&(n.get("fixedWidthGrid")?s[u]=i:s[u]=Math.max(s[u]|0,c.right-c.left+h.get("marginLeft",0)+h.get("marginRight",0)),u<e.children.length-1&&(u++,u==t&&(u=0)))}),_(s,function(h){l+=h}),l>a?t>2?(t-=1,this.getColumnWidths(e,t,i,a)):[a]:s}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ye.classNames.concat([r.className])}),r}(Ye),_e=function(){function o(){}return Object.defineProperty(o,"escape",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}}),Object.defineProperty(o,"unescape",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}}),Object.defineProperty(o,"cleanUp",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}}),Object.defineProperty(o,"chunk",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=[];r=this.escape(r);for(var a=e?r.split("'"):[r],n=0;n<a.length;n++){var l=a[n];if(l!=="")if(n%2===0){l=l.replace(/\]\[/g,"]"+Ce+"["),l=l.replace(/\[\]/g,"[ ]");for(var s=l.split(/[\[\]]+/),u=0;u<s.length;u++){var h=this.cleanUp(this.unescape(s[u]));h!==Ce&&h!==""&&(u%2===0?i.push({type:"value",text:h}):i.push({type:t?"value":"format",text:"["+h+"]"}))}}else for(var s=l.split(/[\[\]]+/),u=0;u<s.length;u++){var h=this.cleanUp(this.unescape(s[u]));h!==""&&(u%2===0?i.push({type:"text",text:h}):this.isImage(h)?i.push({type:"image",text:"["+h+"]"}):i.push({type:"format",text:"["+h+"]"}))}}return i}}),Object.defineProperty(o,"isImage",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return!!r.match(/img[ ]?:/)}}),Object.defineProperty(o,"getTextStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e={};if(r==""||r=="[ ]")return{};var t=r.match(/('[^']*')|("[^"]*")/gi);if(t)for(var i=0;i<t.length;i++)r=r.replace(t[i],t[i].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var a=r.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!a)return{};for(var i=0;i<a.length;i++)if(a[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))e.fontWeight=a[i];else if(a[i].match(/^(underline|line-through)$/i))e.textDecoration=a[i];else if(a[i]!="/")if(!a[i].match(/:/))e.fill=E.fromString(a[i]);else{var n=a[i].replace("+"," ").split(/:[ ]*/);e[n[0]]=n[1]}return e}}),Object.defineProperty(o,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"}),o}();function rt(o,r){if(r!=null){r=""+r,r=_e.escape(r);var e=r.match(/\{([^}]+)\}/g),t=void 0;if(e)for(t=0;t<e.length;t++){var i=e[t].replace(/\{([^}]+)\}/,"$1"),a=Kt(o,i);a==null&&(a=""),r=r.split(e[t]).join(a)}r=_e.unescape(r)}else r="";return r}function Kt(o,r,e){for(var t,i=o.dataItem,a=[],n=/([^.]+)\(([^)]*)\)|([^.]+)/g,l;l=n.exec(r),l!==null;)if(l[3]){a.push({prop:l[3]});var s=o.getDateFormatter().get("dateFields",[]),u=o.getNumberFormatter().get("numericFields",[]),h=o.getDurationFormatter().get("durationFields",[]);s.indexOf(l[3])!==-1?a.push({method:"formatDate",params:[]}):u.indexOf(l[3])!==-1?a.push({method:"formatNumber",params:[]}):h.indexOf(l[3])!==-1&&a.push({method:"formatDuration",params:[]})}else{var c=[];if(ct(l[2])!="")for(var v=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,f=void 0;f=v.exec(l[2]),f!==null;)c.push(f[1]||f[2]||f[3]);a.push({method:l[1],params:c})}if(i){t=Se(o,a,i._settings),(t==null||wt(t))&&(t=Se(o,a,i));var d=i.dataContext;t==null&&d&&(t=Se(o,a,d),t==null&&(t=Se(o,[{prop:r}],d)),t==null&&d.dataContext&&(t=Se(o,a,d.dataContext))),t==null&&i.component&&i.component.dataItem!==i&&(t=Kt(i.component,r))}return t==null&&(t=Se(o,a,o)),t==null&&o.parent&&(t=Kt(o.parent,r)),t}function ea(o,r){var e=o.getPrivate("customData");if(wt(e))return e[r]}function Se(o,r,e,t){for(var i=e,a=!1,n=0,l=r.length;n<l;n++){var s=r[n];if(s.prop){if(i instanceof De){var u=i.get(s.prop);u==null&&(u=i.getPrivate(s.prop)),u==null&&(u=i[s.prop]),u==null&&(u=ea(i,s.prop)),i=u}else if(i.get){var u=i.get(s.prop);u==null&&(u=i[s.prop]),i=u}else i=i[s.prop];if(i==null)return}else switch(s.method){case"formatNumber":var h=pe(i);h!=null&&(i=o.getNumberFormatter().format(h,t||s.params[0]||void 0),a=!0);break;case"formatDate":var c=ai(i);if(!Yt(c)||Te(c.getTime()))return;c!=null&&(i=o.getDateFormatter().format(c,t||s.params[0]||void 0),a=!0);break;case"formatDuration":var v=pe(i);v!=null&&(i=o.getDurationFormatter().format(v,t||s.params[0]||void 0,s.params[1]||void 0),a=!0);break;case"urlEncode":case"encodeURIComponent":i=encodeURIComponent(i);break;default:i[s.method]&&i[s.method].apply(e,s.params);break}}if(!a){var f=[{method:"",params:t}];if(t==null)P(i)?(f[0].method="formatNumber",f[0].params=""):Yt(i)&&(f[0].method="formatDate",f[0].params="");else{var d=Ai(t);d==="number"?f[0].method="formatNumber":d==="date"?f[0].method="formatDate":d==="duration"&&(f[0].method="formatDuration")}f[0].method&&(i=Se(o,f,i))}return i}var L=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeContainer()}),Object.defineProperty(e,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeContainer()}),Object.defineProperty(e,"children",{enumerable:!0,configurable:!0,writable:!0,value:new ci(e)}),Object.defineProperty(e,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._afterNew.call(this),this._display.addChild(this._childrenDisplay)}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){qe(this.allChildren(),function(e){e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),o.prototype._dispose.call(this)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._changed.call(this),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(function(i){i.removePrivate("x"),i.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(function(i){i.markDirtyPosition()}),this.isDirty("maskContent")){var e=this._childrenDisplay,t=this._contentMask;this.get("maskContent")?t||(t=Oe.new(this._root,{width:this.width(),height:this.height()}),this._contentMask=t,e.addChildAt(t._display,0),e.mask=t._display):t&&(e.removeChild(t._display),e.mask=null,t.dispose(),this._contentMask=void 0)}}}),Object.defineProperty(r.prototype,"_updateSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._updateSize.call(this),_(this._percentageSizeChildren,function(e){e._updateSize()}),_(this._percentagePositionChildren,function(e){e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}}),Object.defineProperty(r.prototype,"updateBackground",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("background"),t=this._localBounds;if(t&&!this.isHidden()){var i=t.left,a=t.top,n=t.right-i,l=t.bottom-a,s=this.get("maxWidth"),u=this.get("maxHeight");u&&l>u&&(l=u),s&&n>s&&(n=s);var h=this.width(),c=this.height();e&&(e.setAll({width:n,height:l,x:i,y:a}),this._display.interactive&&(e._display.interactive=!0));var v=this._contentMask;v&&v.setAll({width:h,height:c});var f=this.get("verticalScrollbar");if(f){f.set("height",c),f.set("x",h-f.width()-f.get("marginRight",0)),f.set("end",f.get("start",0)+c/this._contentHeight);var d=f.get("background");d&&d.setAll({width:f.width(),height:c});var b=!0;this._contentHeight<=c&&(b=!1),f.setPrivate("visible",b)}}}}),Object.defineProperty(r.prototype,"_applyThemes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return o.prototype._applyThemes.call(this)?(this.eachChildren(function(e){e._applyThemes()}),!0):!1}}),Object.defineProperty(r.prototype,"_applyState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype._applyState.call(this,e),this.get("setStateOnChildren")&&this.eachChildren(function(t){t.states.apply(e)})}}),Object.defineProperty(r.prototype,"_applyStateAnimated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){o.prototype._applyStateAnimated.call(this,e,t),this.get("setStateOnChildren")&&this.eachChildren(function(i){i.states.applyAnimate(e,t)})}}),Object.defineProperty(r.prototype,"innerWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}}),Object.defineProperty(r.prototype,"innerHeight",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}}),Object.defineProperty(r.prototype,"_getBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("width"),t=this.get("height"),i=this.getPrivate("width"),a=this.getPrivate("height"),n={left:0,top:0,right:this.width(),bottom:this.height()},l=this.get("layout"),s=!1,u=!1;if((l instanceof Ut||l instanceof vt)&&(s=!0),l instanceof Wt&&(u=!0),!((e!=null||i!=null)&&(t!=null||a!=null)&&!this.get("verticalScrollbar"))){var h=Number.MAX_VALUE,c=h,v=-h,f=h,d=-h,b=this.get("paddingLeft",0),p=this.get("paddingTop",0),g=this.get("paddingRight",0),y=this.get("paddingBottom",0);this.children.each(function(m){if(m.get("position")!="absolute"&&m.get("isMeasured")){var j=m.adjustedLocalBounds(),C=m.x(),x=m.y(),T=C+j.left,O=C+j.right,w=x+j.top,D=x+j.bottom;s&&(T-=m.get("marginLeft",0),O+=m.get("marginRight",0)),u&&(w-=m.get("marginTop",0),D+=m.get("marginBottom",0)),T<c&&(c=T),O>v&&(v=O),w<f&&(f=w),D>d&&(d=D)}}),c==h&&(c=0),v==-h&&(v=0),f==h&&(f=0),d==-h&&(d=0),n.left=c-b,n.top=f-p,n.right=v+g,n.bottom=d+y}this._contentWidth=n.right-n.left,this._contentHeight=n.bottom-n.top,P(e)&&(n.left=0,n.right=e),P(i)&&(n.left=0,n.right=i),P(t)&&(n.top=0,n.bottom=t),P(a)&&(n.top=0,n.bottom=a),this._localBounds=n}}),Object.defineProperty(r.prototype,"_updateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("layout");e&&e.updateContainer(this),o.prototype._updateBounds.call(this),this.updateBackground()}}),Object.defineProperty(r.prototype,"markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.markDirty.call(this),this._root._addDirtyParent(this)}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.innerWidth(),t=this.innerHeight();if(e!=this._prevWidth||t!=this._prevHeight){var i=this.get("layout"),a=!1,n=!1;i&&((i instanceof Ut||i instanceof vt)&&(a=!0),i instanceof Wt&&(n=!0)),_(this._percentageSizeChildren,function(l){if(!a){var s=l.get("width");s instanceof I&&l.setPrivate("width",s.value*e)}if(!n){var u=l.get("height");u instanceof I&&l.setPrivate("height",u.value*t)}}),_(this._percentagePositionChildren,function(l){l.markDirtyPosition(),l.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=t,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(this.isDirty("html")){var t=this.get("html");t&&t!==""?this._root._setHTMLContent(this,rt(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){var i=this.get("verticalScrollbar");if(i){i._setParent(this),i.children.removeValue(i.startGrip),i.children.removeValue(i.endGrip),this.set("maskContent",!0),this.set("paddingRight",i.width()+i.get("marginRight",0)+i.get("marginLeft",0));var a=this.get("background");a||(a=this.set("background",Oe.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",function(h){var c=h.originalEvent;if(Lr(c,e))c.preventDefault();else return;var v=c.deltaY/5e3,f=i.get("start",0),d=i.get("end",1);f+v>0&&d+v<1&&(i.set("start",f+v),i.set("end",d+v))}),this._disposers.push(this._vsbd0),this._vsbd1=i.events.on("rangechanged",function(){var h=e._contentHeight,c=e._childrenDisplay,v=e._contentMask;c.y=-i.get("start")*h,c.markDirtyLayer(),v&&(v._display.y=-c.y,c.mask=v._display)}),this._disposers.push(this._vsbd1),this._display.addChild(i._display)}else{var n=this._prevSettings.verticalScrollbar;if(n){this._display.removeChild(n._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();var l=this._childrenDisplay;l.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){var n=this._prevSettings.background;n&&this._display.removeChild(n._display);var a=this.get("background");a instanceof De&&(a.set("isMeasured",!1),a._setParent(this),this._display.addChildAt(a._display,0))}if(this.isDirty("mask")){var s=this.get("mask"),n=this._prevSettings.mask;if(n&&(this._display.removeChild(n._display),n!=s&&n.dispose()),s){var u=s.parent;u&&u.children.removeValue(s),s._setParent(this),this._display.addChildAt(s._display,0),this._childrenDisplay.mask=s._display}}}}),Object.defineProperty(r.prototype,"_processTemplateField",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._processTemplateField.call(this),this.children.each(function(e){e._processTemplateField()})}}),Object.defineProperty(r.prototype,"walkChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.children.each(function(t){t instanceof r&&t.walkChildren(e),e(t)})}}),Object.defineProperty(r.prototype,"eachChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("background");t&&e(t);var i=this.get("verticalScrollbar");i&&e(i);var a=this.get("mask");a&&e(a),this.children.values.forEach(function(n){e(n)})}}),Object.defineProperty(r.prototype,"allChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=[];return this.eachChildren(function(t){e.push(t)}),e}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e!==this._dataItem;o.prototype._setDataItem.call(this,e);var i=this.get("html","");i&&i!==""&&t&&this._root._setHTMLContent(this,rt(this,i))}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:De.classNames.concat([r.className])}),r}(De),Gr=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeTextStyle()}),Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeText("",e.textStyle)}),Object.defineProperty(e,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale"]}),Object.defineProperty(e,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_updateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.get("text"))o.prototype._updateBounds.call(this);else{var e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._changed.call(this),this._display.clear();var t=this.textStyle;if(this.isDirty("opacity")){var i=this.get("opacity",1);this._display.alpha=i}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isDirty("width")&&(t.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(t.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(t.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(t.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(t.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(t.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){var a=this.get("fill");a&&(t.fill=a)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(t.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(t.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),_(this._textStyles,function(n){e._dirty[n]&&(t[n]=e.get(n),e.markDirtyBounds())}),t.fontSize=this.get("fontSize"),t.fontFamily=this.get("fontFamily"),this._display.style=t,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}}),Object.defineProperty(r.prototype,"_getText",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("text","");return this.get("populateText")?rt(this,e):e}}),Object.defineProperty(r.prototype,"markDirtyText",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype._setDataItem.call(this,e),this.get("populateText")&&this.markDirtyText()}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:De.classNames.concat([r.className])}),r}(De),ta=function(){function o(){var r=this;Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(function(e){_(e,function(t){_(r._targets,function(i){i.target===t.target&&i.callback()})})})}return Object.defineProperty(o.prototype,"addTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._observer.observe(r,{box:"border-box"}),this._targets.push({target:r,callback:e})}}),Object.defineProperty(o.prototype,"removeTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._observer.unobserve(r),Pt(this._targets,function(e){return e.target!==r})}}),o}(),ra=function(){function o(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(o.prototype,"addTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this;if(this._timer===null){var i=null,a=function(){var l=Date.now();(i===null||l>i+o.delay)&&(i=l,_(t._targets,function(s){var u=s.target.getBoundingClientRect();(u.width!==s.size.width||u.height!==s.size.height)&&(s.size=u,s.callback())})),t._targets.length===0?t._timer=null:t._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}var n={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:r,callback:e,size:n})}}),Object.defineProperty(o.prototype,"removeTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(r){Pt(this._targets,function(e){return e.target!==r}),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}),Object.defineProperty(o,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200}),o}(),ft=null;function ia(){return ft===null&&(typeof ResizeObserver!="undefined"?ft=new ta:ft=new ra),ft}var aa=function(){function o(r,e){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=ia(),this._element=r,this._listener=Er(e),this._sensor.addTarget(r,e)}return Object.defineProperty(o.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(o.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}}),Object.defineProperty(o.prototype,"sensor",{get:function(){return this._sensor},enumerable:!1,configurable:!0}),o}(),na=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.classNames.concat([r.className])}),r}(fe),Me=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting"]}),e}return Object.defineProperty(r.prototype,"text",{get:function(){return this._text},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._afterNew.call(this),this._makeText(),_(this._textKeys,function(t){var i=e.get(t);i!=null&&e._text.set(t,i)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",function(){e._setMaxDimentions()}),this.onPrivate("maxHeight",function(){e._setMaxDimentions()})}}),Object.defineProperty(r.prototype,"_makeText",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._text=this.children.push(Gr.new(this._root,{}))}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._updateChildren.call(this),_(this._textKeys,function(a){e._text.set(a,e.get(a))}),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),this.get("html","")!==""?this._text.set("text",""):this._text.set("text",this.get("text")),this.isDirty("textAlign")||this.isDirty("width")){var t=this.get("textAlign"),i=void 0;this.get("width")!=null?t=="right"?i=k:t=="center"?i=V:i=0:t=="left"||t=="start"?i=this.get("paddingLeft"):(t=="right"||t=="end")&&(i=-this.get("paddingRight")),this.text.set("x",i)}}}),Object.defineProperty(r.prototype,"_setMaxDimentions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("rotation"),t=e==90||e==270||e==-90,i=this.get("maxWidth",this.getPrivate("maxWidth",1/0));P(i)?this.text.set(t?"maxHeight":"maxWidth",i-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(t?"maxHeight":"maxWidth",void 0);var a=this.get("maxHeight",this.getPrivate("maxHeight",1/0));P(a)?this.text.set(t?"maxWidth":"maxHeight",a-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(t?"maxWidth":"maxHeight",void 0)}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype._setDataItem.call(this,e),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}}),Object.defineProperty(r.prototype,"getText",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._text._getText()}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:L.classNames.concat([r.className])}),r}(L),Rt=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._changed.call(this),this._clear){this.markDirtyBounds();var e=this.width(),t=this.height();if(e>0&&t>0){var i=this.get("cornerRadius",8);i=W(i,0,Math.min(e/2,t/2));var a=this.get("pointerX",0),n=this.get("pointerY",0),l=this.get("pointerBaseWidth",15)/2,s=0,u=0,h=e,c=0,v=e,f=t,d=0,b=t,p=(a-s)*(f-u)-(n-u)*(v-s),g=(a-d)*(c-b)-(n-b)*(h-d),y=this._display;if(y.moveTo(i,0),p>0&&g>0){var m=Math.round(W(a,i+l,e-l-i));n=W(n,-1/0,0),y.lineTo(m-l,0),y.lineTo(a,n),y.lineTo(m+l,0)}if(y.lineTo(e-i,0),y.arcTo(e,0,e,i,i),p>0&&g<0){var j=Math.round(W(n,i+l,t-l-i));a=W(a,e,1/0),y.lineTo(e,i),y.lineTo(e,Math.max(j-l,i)),y.lineTo(a,n),y.lineTo(e,j+l)}if(y.lineTo(e,t-i),y.arcTo(e,t,e-i,t,i),p<0&&g<0){var m=Math.round(W(a,i+l,e-l-i));n=W(n,t,1/0),y.lineTo(e-i,t),y.lineTo(m+l,t),y.lineTo(a,n),y.lineTo(m-l,t)}if(y.lineTo(i,t),y.arcTo(0,t,0,t-i,i),p<0&&g>0){var j=Math.round(W(n,i+l,t-i-l));a=W(a,-1/0,0),y.lineTo(0,t-i),y.lineTo(0,j+l),y.lineTo(a,n),y.lineTo(0,Math.max(j-l,i))}y.lineTo(0,i),y.arcTo(0,0,i,0,i)}}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),br=function(o){A(r,o);function r(e,t,i,a){a===void 0&&(a=[]);var n=o.call(this,e,t,i,a)||this;Object.defineProperty(n,"_arrangeDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0});var l=e.tooltipRoot;return l&&(n._root=l),n}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._settings.themeTags=Y(this._settings.themeTags,["tooltip"]),o.prototype._afterNew.call(this),this.set("background",Rt.new(this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(Me.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",function(){e._updateBackground()})),this.on("bounds",function(){e._updateBackground()}),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._root._tooltips.push(this)}}),Object.defineProperty(r.prototype,"label",{get:function(){return this._label},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.dispose.call(this),de(this._root._tooltips,this)}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._updateChildren.call(this);var e=this.get("labelText");e!=null&&this.label.set("text",this.get("labelText"));var t=this.get("labelHTML");t!=null&&this.label.set("html",this.get("labelHTML"))}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._changed.call(this),this.isDirty("pointTo")&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover")){var t=this.get("keepTargetHover");if(t){var i=this.get("background");this._keepHoverDp=new oe([i.events.on("pointerover",function(a){var n=e.get("tooltipTarget");n&&n.hover()}),i.events.on("pointerout",function(a){var n=e.get("tooltipTarget");n&&n.unhover()})])}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}}}),Object.defineProperty(r.prototype,"_onShow",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._onShow.call(this),this.updateBackgroundColor()}}),Object.defineProperty(r.prototype,"updateBackgroundColor",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("tooltipTarget"),i=this.get("background"),a,n;t&&i&&(a=t.get("fill"),n=t.get("stroke"),a==null&&(a=n),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),a!=null&&i.set("fill",a),this._fillDp=t.on("fill",function(l){l!=null&&(i.set("fill",l),e._updateTextColor(l))})),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),a!=null&&i.set("stroke",a),this._strokeDp=t.on("fill",function(l){l!=null&&i.set("stroke",l)})),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),a!=null&&this.label.set("fill",a),this._labelDp=t.on("fill",function(l){l!=null&&e.label.set("fill",l)}))),this._updateTextColor(a)}}),Object.defineProperty(r.prototype,"_updateTextColor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.get("autoTextColor")&&(e==null&&(e=this.get("background").get("fill")),e==null&&(e=this._root.interfaceColors.get("background")),e instanceof E&&this.label.set("fill",E.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype._setDataItem.call(this,e),this.label._setDataItem(e)}}),Object.defineProperty(r.prototype,"_updateBackground",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.updateBackground.call(this);var e=this._root.container;if(e){var t=.5,i=.5,a=this.get("centerX");a instanceof I&&(t=a.value);var n=this.get("centerY");n instanceof I&&(i=n.value);var l=e.width(),s=e.height(),u=this.parent,h=0,c=0;u&&(h=u.x(),c=u.y());var v=this.get("bounds",{left:-h,top:-c,right:l-h,bottom:s-c});this._updateBounds();var f=this.width(),d=this.height();f===0&&(f=this._w),d===0&&(d=this._h);var b=this.get("pointTo",{x:l/2,y:s/2}),p=b.x,g=b.y,y=this.get("pointerOrientation"),m=this.get("background"),j=0,C=0,x=0;m instanceof Rt&&(j=m.get("pointerLength",0),C=m.get("strokeWidth",0)/2,x=C);var T=0,O=0,w=v.right-v.left,D=v.bottom-v.top;y=="horizontal"||y=="left"||y=="right"?(C=0,y=="horizontal"?p>v.left+w/2?(p-=f*(1-t)+j,x*=-1):p+=f*t+j:y=="left"?p+=f*(1-t)+j:(p-=f*t+j,x*=-1)):(x=0,y=="vertical"?g>v.top+d/2+j?g-=d*(1-i)+j:(g+=d*i+j,C*=-1):y=="down"?g-=d*(1-i)+j:(g+=d*i+j,C*=-1)),p=W(p,v.left+f*t,v.left+w-f*(1-t))+x,g=W(g,v.top+d*i,v.top+D-d*(1-i))-C,T=b.x-p+f*t+x,O=b.y-g+d*i-C,this._fx=p,this._fy=g;var S=this.get("animationDuration",0);if(S>0&&this.get("visible")&&this.get("opacity")>.1){var M=this.get("animationEasing");this.animate({key:"x",to:p,duration:S,easing:M}),this.animate({key:"y",to:g,duration:S,easing:M})}else this.set("x",p),this.set("y",g);m instanceof Rt&&(m.set("pointerX",T),m.set("pointerY",O)),f>0&&(this._w=f),d>0&&(this._h=d)}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:L.classNames.concat([r.className])}),r}(L),oa=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);var e="_big_number_suffix_",t="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(t+"24")},{number:1e-21,suffix:this._t(t+"21")},{number:1e-18,suffix:this._t(t+"18")},{number:1e-15,suffix:this._t(t+"15")},{number:1e-12,suffix:this._t(t+"12")},{number:1e-9,suffix:this._t(t+"9")},{number:1e-6,suffix:this._t(t+"6")},{number:.001,suffix:this._t(t+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),o.prototype._setDefaults.call(this)}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this)}}),Object.defineProperty(r.prototype,"format",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){(t==null||Ie(t)&&t.toLowerCase()==="number")&&(t=this.get("numberFormat",""));var a,n=Number(e);if(wt(t))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),t).format(n):new Intl.NumberFormat(void 0,t).format(n)}catch{return"Invalid"}else{t=$t(t);var l=this.parseFormat(t,this._root.language),s=void 0;n>this.get("negativeBase")?s=l.positive:n<this.get("negativeBase")?s=l.negative:s=l.zero,i!=null&&!s.mod&&(s=Ue(s),s.decimals.active=n==0?0:i),a=s.template.split(Ce).join(this.applyFormat(n,s))}return a}}),Object.defineProperty(r.prototype,"parseFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=t.translateEmpty("_thousandSeparator"),n=t.translateEmpty("_decimalSeparator"),l={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:a},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:a},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:a},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1}};e=e.replace("||",Le);var s=e.split("|");return l.positive.source=s[0],typeof s[2]=="undefined"?l.zero=l.positive:l.zero.source=s[2],typeof s[1]=="undefined"?l.negative=l.positive:l.negative.source=s[1],X(l,function(u,h){if(!h.parsed){var c=h.source;c.toLowerCase()==="number"&&(c=i.get("numberFormat","#,###.#####"));for(var v=_e.chunk(c,!0),f=0;f<v.length;f++){var d=v[f];if(d.text=d.text.replace(Le,"|"),d.type==="value"){var b=d.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(b)if(b===null||b[0]==="")h.template+=d.text;else{var p=b[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);p&&(h.mod=p[0].toLowerCase(),h.modSpacing=!!b[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));var g=b[0].split(".");if(g[0]!==""){h.thousands.active=(g[0].match(/0/g)||[]).length,h.thousands.passive=(g[0].match(/\#/g)||[]).length+h.thousands.active;var y=g[0].split(",");y.length===1||(h.thousands.interval=(y.pop()||"").length,h.thousands.interval===0&&(h.thousands.interval=-1))}typeof g[1]=="undefined"||(h.decimals.active=(g[1].match(/0/g)||[]).length,h.decimals.passive=(g[1].match(/\#/g)||[]).length+h.decimals.active),h.template+=d.text.split(b[0]).join(Ce)}}else h.template+=d.text}h.parsed=!0}}),l}}),Object.defineProperty(r.prototype,"applyFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e<0;e=Math.abs(e);var a="",n="",l=t.mod?t.mod.split(""):[];if(l.indexOf("b")!==-1){var s=this.applyPrefix(e,this.get("bytePrefixes"),l.indexOf("!")!==-1);e=s[0],a=s[1],n=s[2],t.modSpacing&&(n=" "+n)}else if(l.indexOf("a")!==-1){var u=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),l.indexOf("!")!==-1);e=u[0],a=u[1],n=u[2],t.modSpacing&&(n=" "+n)}else if(l.indexOf("p")!==-1){var h=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(h)),a=this._root.language.translate("_percentPrefix"),n=this._root.language.translate("_percentSuffix"),a==""&&n==""&&(n="%")}else if(l.indexOf("%")!==-1){var h=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(h)),n="%"}else if(l.indexOf("\u2030")!==-1){var h=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(h)),n="\u2030"}if(l.indexOf("e")!==-1){var c=void 0;t.decimals.passive>=0?c=e.toExponential(t.decimals.passive).split("e"):c=e.toExponential().split("e"),e=Number(c[0]),n="e"+c[1],t.modSpacing&&(n=" "+n)}else if(t.decimals.passive===0)e=Math.round(e);else if(t.decimals.passive>0){var v=Math.pow(10,t.decimals.passive);e=Math.round(e*v)/v}var f="",d=ni(e).split("."),b=d[0];if(b.length<t.thousands.active&&(b=Array(t.thousands.active-b.length+1).join("0")+b),t.thousands.interval>0){for(var p=[],g=b.split("").reverse().join(""),y=0,m=b.length;y<=m;y+=t.thousands.interval){var j=g.substr(y,t.thousands.interval).split("").reverse().join("");j!==""&&p.unshift(j)}b=p.join(t.thousands.separator)}f+=b,d.length===1&&d.push("");var C=d[1];return C.length<t.decimals.active&&(C+=Array(t.decimals.active-C.length+1).join("0")),C!==""&&(f+=t.decimals.separator+C),f===""&&(f="0"),e!==0&&i&&l.indexOf("s")===-1&&(f="-"+f),a&&(f=a+f),n&&(f+=n),f}}),Object.defineProperty(r.prototype,"applyPrefix",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){i===void 0&&(i=!1);for(var a=e,n="",l="",s=!1,u=1,h=0,c=t.length;h<c;h++)t[h].number<=e&&(t[h].number===0?a=0:(a=e/t[h].number,u=t[h].number),n=t[h].prefix,l=t[h].suffix,s=!0);return!s&&i&&t.length&&e!=0&&(a=e/t[0].number,n=t[0].prefix,l=t[0].suffix,s=!0),s&&(a=parseFloat(a.toPrecision(Math.min(u.toString().length+Math.floor(a).toString().replace(/[^0-9]*/g,"").length,21)))),[a,n,l]}}),Object.defineProperty(r.prototype,"escape",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.replace("||",Le)}}),Object.defineProperty(r.prototype,"unescape",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.replace(Le,"|")}}),r}(fe);function Ur(o,r){var e=0,t=0,i=1,a=0,n=0,l=0,s=0,u=0;return o.formatToParts(r).forEach(function(h){switch(h.type){case"year":e=+h.value;break;case"month":t=+h.value-1;break;case"day":i=+h.value;break;case"hour":a=+h.value;break;case"minute":n=+h.value;break;case"second":l=+h.value;break;case"fractionalSecond":s=+h.value;break;case"weekday":switch(h.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6;break}}}),a===24&&(a=0),{year:e,month:t,day:i,hour:a,minute:n,second:l,millisecond:s,weekday:u}}function pr(o,r){var e=Ur(o,r),t=e.year,i=e.month,a=e.day,n=e.hour,l=e.minute,s=e.second,u=e.millisecond;return Date.UTC(t,i,a,n,l,s,u)}var la=function(){function o(r,e){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=r,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}return Object.defineProperty(o,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new this(r,!0)}}),Object.defineProperty(o.prototype,"convertLocal",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this.offsetUTC(r),t=r.getTimezoneOffset(),i=new Date(r);i.setUTCMinutes(i.getUTCMinutes()-(e-t));var a=i.getTimezoneOffset();return t!=a&&i.setUTCMinutes(i.getUTCMinutes()+a-t),i}}),Object.defineProperty(o.prototype,"offsetUTC",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=pr(this._utc,r),t=pr(this._dtf,r);return(e-t)/6e4}}),Object.defineProperty(o.prototype,"parseDate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return Ur(this._dtf,r)}}),o}(),sa=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),o.prototype._setDefaults.call(this)}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this)}}),Object.defineProperty(r.prototype,"format",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){(typeof t=="undefined"||t==="")&&(t=this.get("dateFormat","yyyy-MM-dd"));var i,a=e;if(wt(t))try{var n=this.get("intlLocales");return n?new Intl.DateTimeFormat(n,t).format(a):new Intl.DateTimeFormat(void 0,t).format(a)}catch{return"Invalid"}var l=this.parseFormat(t),s=this._root.timezone;return s&&!this._root.utc&&(a=s.convertLocal(a)),P(a.getTime())?(i=this.applyFormat(a,l),this.get("capitalize")&&(i=i.replace(/^.{1}/,i.substr(0,1).toUpperCase())),i):"Invalid date"}}),Object.defineProperty(r.prototype,"applyFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=t.template,a,n,l,s,u,h,c,v,f=e.getTime();this._root.utc?(a=e.getUTCFullYear(),n=e.getUTCMonth(),l=e.getUTCDay(),s=e.getUTCDate(),u=e.getUTCHours(),h=e.getUTCMinutes(),c=e.getUTCSeconds(),v=e.getUTCMilliseconds()):(a=e.getFullYear(),n=e.getMonth(),l=e.getDay(),s=e.getDate(),u=e.getHours(),h=e.getMinutes(),c=e.getSeconds(),v=e.getMilliseconds());for(var d=0,b=t.parts.length;d<b;d++){var p="";switch(t.parts[d]){case"G":p=this._t(a<0?"_era_bc":"_era_ad");break;case"yyyy":p=Math.abs(a).toString(),a<0&&(p+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":p=Math.abs(a).toString().substr(-t.parts[d].length),a<0&&(p+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var g=$e(e),y=a;g==1&&l>4&&y--,t.parts[d]=="YYYY"?p=Math.abs(y).toString():p=Math.abs(y).toString().substr(-t.parts[d].length),y<0&&(p+=this._t("_era_bc"));break;case"u":break;case"q":p=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":p=this._t(this._getMonth(n)).substr(0,1);break;case"MMMM":p=this._t(this._getMonth(n));break;case"MMM":p=this._t(this._getShortMonth(n));break;case"MM":p=z(n+1,2,"0");break;case"M":p=(n+1).toString();break;case"ww":p=z($e(e,this._root.utc),2,"0");break;case"w":p=$e(e,this._root.utc).toString();break;case"W":p=Si(e,this._root.utc).toString();break;case"dd":p=z(s,2,"0");break;case"d":p=s.toString();break;case"DD":case"DDD":p=z(nr(e,this._root.utc).toString(),t.parts[d].length,"0");break;case"D":p=nr(e,this._root.utc).toString();break;case"F":break;case"g":break;case"t":p=this._root.language.translateFunc("_dateOrd").call(this,s);break;case"E":p=(l||7).toString();break;case"EE":p=z((l||7).toString(),2,"0");break;case"EEE":case"eee":p=this._t(this._getShortWeekday(l));break;case"EEEE":case"eeee":p=this._t(this._getWeekday(l));break;case"EEEEE":case"eeeee":p=this._t(this._getShortWeekday(l)).substr(0,1);break;case"e":case"ee":p=(l-(this._root.locale.firstDayOfWeek||1)+1).toString(),t.parts[d]=="ee"&&(p=z(p,2,"0"));break;case"a":u>=12?p=this._t("PM"):p=this._t("AM");break;case"aa":u>=12?p=this._t("P.M."):p=this._t("A.M.");break;case"aaa":u>=12?p=this._t("P"):p=this._t("A");break;case"h":p=ot(u).toString();break;case"hh":p=z(ot(u),2,"0");break;case"H":p=u.toString();break;case"HH":p=z(u,2,"0");break;case"K":p=ot(u,0).toString();break;case"KK":p=z(ot(u,0),2,"0");break;case"k":p=(u+1).toString();break;case"kk":p=z(u+1,2,"0");break;case"m":p=h.toString();break;case"mm":p=z(h,2,"0");break;case"s":p=c.toString();break;case"ss":p=z(c,2,"0");break;case"S":case"SS":case"SSS":p=Math.round(v/1e3*Math.pow(10,t.parts[d].length)).toString();break;case"x":p=f.toString();break;case"n":case"nn":case"nnn":p=z(v,t.parts[d].length,"0");break;case"z":p=lt(e,!1,!1,this._root.utc);break;case"zz":p=lt(e,!0,!1,this._root.utc);break;case"zzz":p=lt(e,!1,!0,this._root.utc);break;case"zzzz":p=lt(e,!0,!0,this._root.utc);break;case"Z":case"ZZ":var m=this._root.utc?"UTC":this._root.timezone;m instanceof la&&(m=m.name);var j=m?Mi(m):e.getTimezoneOffset(),C=Math.abs(j)/60,x=Math.floor(C),T=C*60-x*60;this._root.utc&&(x=0,T=0),t.parts[d]=="Z"?(p="GMT",p+=j>0?"-":"+",p+=z(x,2)+":"+z(T,2)):(p=j>0?"-":"+",p+=z(x,2)+z(T,2));break;case"i":p=e.toISOString();break;case"I":p=e.toUTCString();break}i=i.replace(Ce,p)}return i}}),Object.defineProperty(r.prototype,"parseFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t={template:"",parts:[]},i=_e.chunk(e,!0),a=0;a<i.length;a++){var n=i[a];if(n.type==="value"){if(n.text.match(/^date$/i)){var l=this.get("dateFormat","yyyy-MM-dd");Ie(l)||(l="yyyy-MM-dd"),n.text=l}var s=n.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(s)for(var u=0;u<s.length;u++)t.parts.push(s[u]),n.text=n.text.replace(s[u],Ce)}t.template+=n.text}return t}}),Object.defineProperty(r.prototype,"_months",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}}),Object.defineProperty(r.prototype,"_getMonth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._months()[e]}}),Object.defineProperty(r.prototype,"_shortMonths",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}}),Object.defineProperty(r.prototype,"_getShortMonth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._shortMonths()[e]}}),Object.defineProperty(r.prototype,"_weekdays",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}),Object.defineProperty(r.prototype,"_getWeekday",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._weekdays()[e]}}),Object.defineProperty(r.prototype,"_shortWeekdays",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}}),Object.defineProperty(r.prototype,"_getShortWeekday",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._shortWeekdays()[e]}}),Object.defineProperty(r.prototype,"parse",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(e instanceof Date)return e;if(P(e))return new Date(e);Ie(e)||(e=e.toString());var i,a="";t=$t(t),t=t.substr(0,e.length);for(var n=this.parseFormat(t),l={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},s={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},u=0,h=0,c=0;c<n.parts.length;c++){switch(h=c+u+1,n.parts[c]){case"yyyy":case"YYYY":a+="([0-9]{4})",l.year=h;break;case"yyy":case"YYY":a+="([0-9]{3})",l.year3=h;break;case"yy":case"YY":a+="([0-9]{2})",l.year2=h;break;case"y":case"Y":a+="([0-9]{1})",l.year1=h;break;case"MMMM":a+="("+this.getStringList(this._months()).join("|")+")",l.monthLong=h;break;case"MMM":a+="("+this.getStringList(this._shortMonths()).join("|")+")",l.monthShort=h;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",l.month=h;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",l.week=h;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",l.day=h;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",l.yearDay=h;break;case"dddd":a+="("+this.getStringList(this._weekdays()).join("|")+")",l.weekdayLong=h;break;case"ddd":a+="("+this.getStringList(this._shortWeekdays()).join("|")+")",l.weekdayShort=h;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",l.am=h;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",l.hour12Base1=h;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",l.hourBase0=h;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",l.hour12Base0=h;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",l.hourBase1=h;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",l.minute=h;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",l.second=h;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",l.millisecond=h,l.millisecondDigits=n.parts[c].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",l.millisecond=h;break;case"x":a+="([0-9]{1,})",l.timestamp=h;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",l.zone=h;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",l.zone=h;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",l.iso=h,u+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":u--;break}a+="[^0-9]*"}var v=new RegExp(a),f=e.match(v);if(f){if(l.year>-1&&(s.year=parseInt(f[l.year])),l.year3>-1){var d=parseInt(f[l.year3]);d+=1e3,s.year=d}if(l.year2>-1){var d=parseInt(f[l.year2]);d>50?d+=1e3:d+=2e3,s.year=d}if(l.year1>-1){var d=parseInt(f[l.year1]);d=Math.floor(new Date().getFullYear()/10)*10+d,s.year=d}if(l.monthLong>-1&&(s.month=this.resolveMonth(f[l.monthLong])),l.monthShort>-1&&(s.month=this.resolveShortMonth(f[l.monthShort])),l.month>-1&&(s.month=parseInt(f[l.month])-1),l.week>-1&&l.day===-1&&(s.month=0,s.day=ki(parseInt(f[l.week]),s.year,1,this._root.utc)),l.day>-1&&(s.day=parseInt(f[l.day])),l.yearDay>-1&&(s.month=0,s.day=parseInt(f[l.yearDay])),l.hourBase0>-1&&(s.hour=parseInt(f[l.hourBase0])),l.hourBase1>-1&&(s.hour=parseInt(f[l.hourBase1])-1),l.hour12Base0>-1){var d=parseInt(f[l.hour12Base0]);d==11&&(d=0),l.am>-1&&!this.isAm(f[l.am])&&(d+=12),s.hour=d}if(l.hour12Base1>-1){var d=parseInt(f[l.hour12Base1]);d==12&&(d=0),l.am>-1&&!this.isAm(f[l.am])&&(d+=12),s.hour=d}if(l.minute>-1&&(s.minute=parseInt(f[l.minute])),l.second>-1&&(s.second=parseInt(f[l.second])),l.millisecond>-1){var d=parseInt(f[l.millisecond]);l.millisecondDigits==2?d*=10:l.millisecondDigits==1&&(d*=100),s.millisecond=d}if(l.timestamp>-1){s.timestamp=parseInt(f[l.timestamp]);var b=new Date(s.timestamp);s.year=b.getUTCFullYear(),s.month=b.getUTCMonth(),s.day=b.getUTCDate(),s.hour=b.getUTCHours(),s.minute=b.getUTCMinutes(),s.second=b.getUTCSeconds(),s.millisecond=b.getUTCMilliseconds()}l.zone>-1&&(s.offset=this.resolveTimezoneOffset(new Date(s.year,s.month,s.day),f[l.zone])),l.iso>-1&&(s.year=pe(f[l.iso+0]),s.month=pe(f[l.iso+1])-1,s.day=pe(f[l.iso+2]),s.hour=pe(f[l.iso+3]),s.minute=pe(f[l.iso+4]),s.second=pe(f[l.iso+5]),s.millisecond=pe(f[l.iso+6]),f[l.iso+7]=="Z"||f[l.iso+7]=="z"?s.utc=!0:f[l.iso+7]!=""&&(s.offset=this.resolveTimezoneOffset(new Date(s.year,s.month,s.day),f[l.iso+7]))),s.utc?i=new Date(Date.UTC(s.year,s.month,s.day,s.hour,s.minute,s.second,s.millisecond)):i=new Date(s.year,s.month,s.day,s.hour,s.minute+s.offset,s.second,s.millisecond)}else i=new Date(e);return i}}),Object.defineProperty(r.prototype,"resolveTimezoneOffset",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(i){var a=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),n=a[1],l=a[2],s=a[3],u=parseInt(l)*60+parseInt(s);n=="+"&&(u*=-1);var h=(e||new Date).getTimezoneOffset(),c=u-h;return c}return 0}}),Object.defineProperty(r.prototype,"resolveMonth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e),t>-1)?t:0}}),Object.defineProperty(r.prototype,"resolveShortMonth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._shortMonths().indexOf(e);return t>-1||(t=this._months().indexOf(e),t>-1)||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e),t>-1)?t:0}}),Object.defineProperty(r.prototype,"isAm",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getStringList(["AM","A.M.","A"]);return t.indexOf(e.toUpperCase())>-1}}),Object.defineProperty(r.prototype,"getStringList",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=[],i=0;i<e.length;i++)this._root.language?t.push(ar(this._t(e[i]))):t.push(ar(e[i]));return t}}),r}(fe),ua=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}}),e}return Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="_duration_millisecond",t="_duration_second",i="_duration_minute",a="_duration_hour",n="_duration_day",l="_duration_week",s="_duration_month",u="_duration_year",h="_second",c="_minute",v="_hour",f="_day",d="_week",b="_week",p="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+h),minute:this._t(e+c),hour:this._t(e+v),day:this._t(e+f),week:this._t(e+d),month:this._t(e+b),year:this._t(e+p)},second:{second:this._t(t),minute:this._t(t+c),hour:this._t(t+v),day:this._t(t+f),week:this._t(t+d),month:this._t(t+b),year:this._t(t+p)},minute:{minute:this._t(i),hour:this._t(i+v),day:this._t(i+f),week:this._t(i+d),month:this._t(i+b),year:this._t(i+p)},hour:{hour:this._t(a),day:this._t(a+f),week:this._t(a+d),month:this._t(a+b),year:this._t(a+p)},day:{day:this._t(n),week:this._t(n+d),month:this._t(n+b),year:this._t(n+p)},week:{week:this._t(l),month:this._t(l+b),year:this._t(l+p)},month:{month:this._t(s),year:this._t(s+p)},year:{year:this._t(u)}}),o.prototype._setDefaults.call(this)}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this)}}),Object.defineProperty(r.prototype,"format",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=i||this.get("baseUnit");(typeof t=="undefined"||t==="")&&(this.get("durationFormat")!=null?t=this.get("durationFormat"):t=this.getFormat(pe(e),void 0,a)),t=$t(t);var n=this.parseFormat(t,a),l=Number(e),s;l>this.get("negativeBase")?s=n.positive:l<this.get("negativeBase")?s=n.negative:s=n.zero;var u=this.applyFormat(l,s);return s.color!==""&&(u="["+s.color+"]"+u+"[/]"),u}}),Object.defineProperty(r.prototype,"parseFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=t||this.get("baseUnit"),n={positive:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1}};e=e.replace("||",Le);var l=e.split("|");return n.positive.source=l[0],typeof l[2]=="undefined"?n.zero=n.positive:n.zero.source=l[2],typeof l[1]=="undefined"?n.negative=n.positive:n.negative.source=l[1],X(n,function(s,u){if(!u.parsed){var h=u.source,c=[];c=u.source.match(/^\[([^\]]*)\]/),c&&c.length&&c[0]!==""&&(h=u.source.substr(c[0].length),u.color=c[1]);for(var v=_e.chunk(h,!0),f=0;f<v.length;f++){var d=v[f];if(d.text=d.text.replace(Le,"|"),d.type==="value"){d.text.match(/[yYMdDwhHKkmsSn]+a/)&&(u.absolute=!0,d.text=d.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var b=d.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(b)for(var p=0;p<b.length;p++)b[p]==null&&(b[p]=i._unitAliases[b[p]]),u.parts.push(b[p]),d.text=d.text.replace(b[p],Ce)}u.template+=d.text}u.parsed=!0}}),n}}),Object.defineProperty(r.prototype,"applyFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);for(var a=this.toTimeStamp(e,t.baseUnit),n=t.template,l=0,s=t.parts.length;l<s;l++){var u=t.parts[l],h=this._toTimeUnit(u.substr(0,1)),c=u.length,v=Math.floor(a/this._getUnitValue(h));n=n.replace(Ce,z(v,c,"0")),a-=v*this._getUnitValue(h)}return i&&(n="-"+n),n}}),Object.defineProperty(r.prototype,"toTimeStamp",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return e*this._getUnitValue(t)}}),Object.defineProperty(r.prototype,"_toTimeUnit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}}),Object.defineProperty(r.prototype,"getFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),t!=null&&e!=t){e=Math.abs(e),t=Math.abs(t);var a=this.getValueUnit(Math.max(e,t),i);return this.get("durationFormats")[i][a]}else{var n=this.getValueUnit(e,i);return this.get("durationFormats")[i][n]}}}),Object.defineProperty(r.prototype,"getValueUnit",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t||(t=this.get("baseUnit"));var i,a=this.getMilliseconds(e,t);return pi(this._getUnitValues(),function(n,l){if(n==t||i){var s=a/l;if(s<=1)return i||(i=n),!1;i=n}return!0}),i}}),Object.defineProperty(r.prototype,"getMilliseconds",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}}),Object.defineProperty(r.prototype,"_getUnitValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._getUnitValues()[e]}}),Object.defineProperty(r.prototype,"_getUnitValues",{enumerable:!1,configurable:!0,writable:!0,value:function(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}),r}(fe),Wr={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(o){var r="th";if(o<11||o>13)switch(o%10){case 1:r="st";break;case 2:r="nd";break;case 3:r="rd";break}return r},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""},fa=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivate("defaultLocale",Wr),o.prototype._setDefaults.call(this)}}),Object.defineProperty(r.prototype,"translate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];t||(t=this._root.locale||this.getPrivate("defaultLocale"));var n=e,l=t[e];if(l===null)n="";else if(l!=null)l&&(n=l);else if(t!==this.getPrivate("defaultLocale"))return this.translate.apply(this,Be([e,this.getPrivate("defaultLocale")],le(i),!1));if(i.length)for(var s=i.length,u=0;u<s;++u)n=n.split("%"+(u+1)).join(i[u]);return n}}),Object.defineProperty(r.prototype,"translateAny",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return this.translate.apply(this,Be([e,t],le(i),!1))}}),Object.defineProperty(r.prototype,"setTranslationAny",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=i||this._root.locale;a[e]=t}}),Object.defineProperty(r.prototype,"translateEmpty",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var n=this.translate.apply(this,Be([e,t],le(i),!1));return n==e?"":n}}),Object.defineProperty(r.prototype,"translateFunc",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):function(){return""}}}),Object.defineProperty(r.prototype,"translateAll",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;return this.isDefault()?e:Nt(e,function(a){return i.translate(a,t)})}}),Object.defineProperty(r.prototype,"isDefault",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getPrivate("defaultLocale")===this._root.locale}}),r}(fe),Jt=function(){function o(r,e){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=r,!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}return Object.defineProperty(o,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=new this(r,!0);return e.setupDefaultRules(),e}}),Object.defineProperty(o.prototype,"setupDefaultRules",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(o.prototype,"_lookupRules",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._rules[r]}}),Object.defineProperty(o.prototype,"ruleRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){e===void 0&&(e=[]);var t=this._rules[r];t||(t=this._rules[r]=[]),e.sort(ke);var i=ui(t,function(s){var u=ke(s.tags.length,e.length);return u===0?Vr(s.tags,e,ke):u}),a=i.index,n=i.found;if(n)return t[a].template;var l=ue.new({});return t.splice(a,0,{tags:e,template:l}),l}}),Object.defineProperty(o.prototype,"rule",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return e===void 0&&(e=[]),this.ruleRaw(r,e)}}),o}();function R(o,r,e,t){o.set(r,e.get(t)),e.on(t,function(i){o.set(r,i)})}var ha=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"setupDefaultRules",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.setupDefaultRules.call(this);var e=this._root.language,t=this._root.interfaceColors,i=this._root.horizontalLayout,a=this._root.verticalLayout,n=this.rule.bind(this);n("InterfaceColors").setAll({stroke:E.fromHex(15066597),fill:E.fromHex(15987699),primaryButton:E.fromHex(6788316),primaryButtonHover:E.fromHex(6779356),primaryButtonDown:E.fromHex(6872182),primaryButtonActive:E.fromHex(6872182),primaryButtonText:E.fromHex(16777215),primaryButtonStroke:E.fromHex(16777215),secondaryButton:E.fromHex(14277081),secondaryButtonHover:E.fromHex(10724259),secondaryButtonDown:E.fromHex(9276813),secondaryButtonActive:E.fromHex(15132390),secondaryButtonText:E.fromHex(0),secondaryButtonStroke:E.fromHex(16777215),grid:E.fromHex(0),background:E.fromHex(16777215),alternativeBackground:E.fromHex(0),text:E.fromHex(0),alternativeText:E.fromHex(16777215),disabled:E.fromHex(11382189),positive:E.fromHex(5288704),negative:E.fromHex(11730944)});{var l=n("ColorSet");l.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[E.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),l.setPrivate("currentStep",0),l.setPrivate("currentPass",0)}n("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:st(We)}),n("Component").setAll({interpolationDuration:0,interpolationEasing:st(We)}),n("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:V,tooltipY:V,tooltipPosition:"fixed",isMeasured:!0}),n("Sprite").states.create("default",{visible:!0,opacity:1}),n("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),n("Graphics").setAll({strokeWidth:1}),n("Chart").setAll({width:k,height:k,interactiveChildren:!1}),n("Sprite",["horizontal","center"]).setAll({centerX:V,x:V}),n("Sprite",["vertical","center"]).setAll({centerY:V,y:V}),n("Container",["horizontal","layout"]).setAll({layout:i}),n("Container",["vertical","layout"]).setAll({layout:a}),n("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),n("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),n("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),n("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),n("LinearGradient").setAll({rotation:90}),n("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:vt.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),n("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{var l=n("Rectangle",["legend","item","background"]);l.setAll({fillOpacity:0}),R(l,"fill",t,"background")}n("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:V,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),n("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:k,height:k,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{var l=n("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});R(l,"fill",t,"disabled"),R(l,"stroke",t,"disabled")}n("Label",["legend","label"]).setAll({centerY:V,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{var l=n("Label",["legend","label"]).states.create("disabled",{});R(l,"fill",t,"disabled")}n("Label",["legend","value","label"]).setAll({centerY:V,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:k,populateText:!0});{var l=n("Label",["legend","value","label"]).states.create("disabled",{});R(l,"fill",t,"disabled")}n("HeatLegend").setAll({stepCount:1}),n("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),n("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:k,width:15}),n("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:k,height:15}),n("HeatLegend",["vertical"]).setAll({height:k}),n("HeatLegend",["horizontal"]).setAll({width:k}),n("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),n("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{var l=n("Label");l.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),R(l,"fill",t,"text")}n("RadialLabel").setAll({textType:"regular",centerY:V,centerX:V,inside:!1,radius:0,baseRadius:k,orientation:"auto",textAlign:"center"}),n("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),n("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),n("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{var l=n("Tick");l.setAll({strokeOpacity:.15,isMeasured:!1,length:5,position:"absolute"}),R(l,"stroke",t,"grid")}n("Bullet").setAll({locationX:.5,locationY:.5}),n("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:V,centerY:V,animationEasing:st(We),exportable:!1});{var l=n("PointedRectangle",["tooltip","background"]);l.setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:E.fromHex(16777215)})}{var l=n("Label",["tooltip"]);l.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),R(l,"fill",t,"alternativeText")}n("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),n("Button").states.create("hover",{}),n("Button").states.create("down",{stateAnimationDuration:0}),n("Button").states.create("active",{});{var l=n("RoundedRectangle",["button","background"]);R(l,"fill",t,"primaryButton"),R(l,"stroke",t,"primaryButtonStroke")}{var l=n("RoundedRectangle",["button","background"]).states.create("hover",{});R(l,"fill",t,"primaryButtonHover")}{var l=n("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});R(l,"fill",t,"primaryButtonDown")}{var l=n("RoundedRectangle",["button","background"]).states.create("active",{});R(l,"fill",t,"primaryButtonActive")}{var l=n("Graphics",["button","icon"]);R(l,"stroke",t,"primaryButtonText")}{var l=n("Label",["button"]);R(l,"fill",t,"primaryButtonText")}n("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:k,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{var l=n("RoundedRectangle",["background","button","zoom"]);l.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),R(l,"fill",t,"primaryButton")}{var l=n("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});R(l,"fill",t,"primaryButtonHover")}{var l=n("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});R(l,"fill",t,"primaryButtonDown")}{var l=n("Graphics",["icon","button","zoom"]);l.setAll({strokeOpacity:.7,draw:function(u){u.moveTo(0,0),u.lineTo(12,0)}}),R(l,"stroke",t,"primaryButtonText")}n("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:V,centerY:V,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{var l=n("RoundedRectangle",["background","resize","button"]);l.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),R(l,"fill",t,"secondaryButton"),R(l,"stroke",t,"secondaryButtonStroke")}{var l=n("RoundedRectangle",["background","resize","button"]).states.create("hover",{});R(l,"fill",t,"secondaryButtonHover")}{var l=n("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});R(l,"fill",t,"secondaryButtonDown")}{var l=n("Graphics",["resize","button","icon"]);l.setAll({strokeOpacity:.7,draw:function(u){u.moveTo(0,0),u.lineTo(0,12),u.moveTo(4,0),u.lineTo(4,12)}}),R(l,"stroke",t,"secondaryButtonText")}n("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),n("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),n("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{var l=n("RoundedRectangle",["play","background"]);l.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),R(l,"fill",t,"primaryButton")}{var l=n("Graphics",["play","icon"]);l.setAll({stateAnimationDuration:0,dx:1,draw:function(u){u.moveTo(0,-5),u.lineTo(8,0),u.lineTo(0,5),u.lineTo(0,-5)}}),R(l,"fill",t,"primaryButtonText")}n("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),n("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:function(s){s.moveTo(-4,-5),s.lineTo(-1,-5),s.lineTo(-1,5),s.lineTo(-4,5),s.lineTo(-4,-5),s.moveTo(4,-5),s.lineTo(1,-5),s.lineTo(1,5),s.lineTo(4,5),s.lineTo(4,-5)}}),n("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{var l=n("RoundedRectangle",["switch","background"]);l.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),R(l,"fill",t,"primaryButton")}{var l=n("Circle",["switch","icon"]);l.setAll({radius:8,centerY:0,centerX:0,dx:0}),R(l,"fill",t,"primaryButtonText")}n("Graphics",["switch","icon"]).states.create("active",{dx:16}),n("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:st(We)}),n("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:k}),n("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:k}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{var l=n("RoundedRectangle",["scrollbar","main","background"]);l.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),R(l,"fill",t,"fill")}{var l=n("RoundedRectangle",["scrollbar","thumb"]);l.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),R(l,"fill",t,"secondaryButton")}{var l=n("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});R(l,"fill",t,"secondaryButtonHover")}{var l=n("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});R(l,"fill",t,"secondaryButtonDown")}n("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:V,width:k,centerX:V,ariaLabel:e.translate("Use up and down arrows to move selection")}),n("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:V,centerY:V,height:k,ariaLabel:e.translate("Use left and right arrows to move selection")});{var l=n("PointedRectangle",["axis","tooltip","background"]);l.setAll({cornerRadius:0}),R(l,"fill",t,"alternativeBackground")}n("Label",["axis","tooltip"]).setAll({role:void 0}),n("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),n("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),n("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),n("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),n("Star").setAll({spikes:5,innerRadius:5,radius:10}),n("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),n("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),n("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),n("SpriteResizer").setAll({rotationStep:10});{var l=n("Container",["resizer","grip"]);l.states.create("hover",{})}{var l=n("RoundedRectangle",["resizer","grip"]);l.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),R(l,"fill",t,"background"),R(l,"stroke",t,"alternativeBackground")}{var l=n("RoundedRectangle",["resizer","grip","outline"]);l.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),l.states.create("hover",{fillOpacity:.3}),R(l,"fill",t,"alternativeBackground")}n("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),n("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{var l=n("Rectangle",["resizer","rectangle"]);l.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),R(l,"stroke",t,"alternativeBackground")}}}),r}(Jt),Et=function(){function o(r,e,t,i,a,n){r===void 0&&(r=1),e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=1),a===void 0&&(a=0),n===void 0&&(n=0),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=r,this.b=e,this.c=t,this.d=i,this.tx=a,this.ty=n}return Object.defineProperty(o.prototype,"setTransform",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i,a,n){n===void 0&&(n=1),this.a=Math.cos(a)*n,this.b=Math.sin(a)*n,this.c=-Math.sin(a)*n,this.d=Math.cos(a)*n,this.tx=r-(t*this.a+i*this.c),this.ty=e-(t*this.b+i*this.d)}}),Object.defineProperty(o.prototype,"apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return{x:this.a*r.x+this.c*r.y+this.tx,y:this.b*r.x+this.d*r.y+this.ty}}}),Object.defineProperty(o.prototype,"applyInverse",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=1/(this.a*this.d+this.c*-this.b);return{x:this.d*e*r.x+-this.c*e*r.y+(this.ty*this.c-this.tx*this.d)*e,y:this.a*e*r.y+-this.b*e*r.x+(-this.ty*this.a+this.tx*this.b)*e}}}),Object.defineProperty(o.prototype,"append",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this.a,t=this.b,i=this.c,a=this.d;this.a=r.a*e+r.b*i,this.b=r.a*t+r.b*a,this.c=r.c*e+r.d*i,this.d=r.c*t+r.d*a,this.tx=r.tx*e+r.ty*i+this.tx,this.ty=r.tx*t+r.ty*a+this.ty}}),Object.defineProperty(o.prototype,"prepend",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var t=this.a,i=this.c;this.a=t*r.a+this.b*r.c,this.b=t*r.b+this.b*r.d,this.c=i*r.a+this.d*r.c,this.d=i*r.b+this.d*r.d}this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty}}),Object.defineProperty(o.prototype,"copyFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty}}),o}(),ca=function(){function o(r,e){var t=[],i=!0,a=!1,n=void 0;try{for(var l=r[Symbol.iterator](),s;!(i=(s=l.next()).done)&&(t.push(s.value),!(e&&t.length===e));i=!0);}catch(u){a=!0,n=u}finally{try{!i&&l.return&&l.return()}finally{if(a)throw n}}return t}return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return o(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Qe=Math.PI*2,Lt=function(r,e,t,i,a,n,l){var s=r.x,u=r.y;s*=e,u*=t;var h=i*s-a*u,c=a*s+i*u;return{x:h+n,y:c+l}},ba=function(r,e){var t=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),i=Math.cos(r),a=Math.sin(r),n=Math.cos(r+e),l=Math.sin(r+e);return[{x:i-a*t,y:a+i*t},{x:n+l*t,y:l-n*t},{x:n,y:l}]},dr=function(r,e,t,i){var a=r*i-e*t<0?-1:1,n=r*t+e*i;return n>1&&(n=1),n<-1&&(n=-1),a*Math.acos(n)},pa=function(r,e,t,i,a,n,l,s,u,h,c,v){var f=Math.pow(a,2),d=Math.pow(n,2),b=Math.pow(c,2),p=Math.pow(v,2),g=f*d-f*p-d*b;g<0&&(g=0),g/=f*p+d*b,g=Math.sqrt(g)*(l===s?-1:1);var y=g*a/n*v,m=g*-n/a*c,j=h*y-u*m+(r+t)/2,C=u*y+h*m+(e+i)/2,x=(c-y)/a,T=(v-m)/n,O=(-c-y)/a,w=(-v-m)/n,D=dr(1,0,x,T),S=dr(x,T,O,w);return s===0&&S>0&&(S-=Qe),s===1&&S<0&&(S+=Qe),[j,C,D,S]},da=function(r){var e=r.px,t=r.py,i=r.cx,a=r.cy,n=r.rx,l=r.ry,s=r.xAxisRotation,u=s===void 0?0:s,h=r.largeArcFlag,c=h===void 0?0:h,v=r.sweepFlag,f=v===void 0?0:v,d=[];if(n===0||l===0)return[];var b=Math.sin(u*Qe/360),p=Math.cos(u*Qe/360),g=p*(e-i)/2+b*(t-a)/2,y=-b*(e-i)/2+p*(t-a)/2;if(g===0&&y===0)return[];n=Math.abs(n),l=Math.abs(l);var m=Math.pow(g,2)/Math.pow(n,2)+Math.pow(y,2)/Math.pow(l,2);m>1&&(n*=Math.sqrt(m),l*=Math.sqrt(m));var j=pa(e,t,i,a,n,l,c,f,b,p,g,y),C=ca(j,4),x=C[0],T=C[1],O=C[2],w=C[3],D=Math.abs(w)/(Qe/4);Math.abs(1-D)<1e-7&&(D=1);var S=Math.max(Math.ceil(D),1);w/=S;for(var M=0;M<S;M++)d.push(ba(O,w)),O+=w;return d.map(function(B){var N=Lt(B[0],n,l,p,b,x,T),$=N.x,ie=N.y,ae=Lt(B[1],n,l,p,b,x,T),H=ae.x,F=ae.y,Q=Lt(B[2],n,l,p,b,x,T),ne=Q.x,xe=Q.y;return{x1:$,y1:ie,x2:H,y2:F,x:ne,y:xe}})};function va(o,r,e){if(r!==e)throw new Error("Required "+e+" arguments for "+o+" but got "+r)}function Ke(o,r,e){if(r<e)throw new Error("Required at least "+e+" arguments for "+o+" but got "+r)}function ce(o,r,e){if(Ke(o,r,e),r%e!==0)throw new Error("Arguments for "+o+" must be in pairs of "+e)}function vr(o){if(o===0||o===1)return o;throw new Error("Flag must be 0 or 1")}function ga(o){for(var r=[0,0,0],e=0;e<24;e++)r[e%3]<<=1,r[e%3]|=o&1,o>>=1;return(r[2]|0)+(r[1]<<8)+(r[0]<<16)}function ht(o,r){for(;!(o.interactive&&!r(o));)if(o._parent)o=o._parent;else break}function gr(o,r,e){return U(o,Xt(r),function(t){var i=t.touches;i?(i.length==0&&(i=t.changedTouches),e(Ht(i))):e([t])})}function yr(o){var r=document.createElement("canvas");r.width=1,r.height=1;var e=r.getContext("2d",{willReadFrequently:!0});e.drawImage(o,0,0,1,1);try{return e.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+o.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Ze(o){o.width=0,o.height=0,o.style.width="0px",o.style.height="0px"}var ya=function(){function o(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}return Object.defineProperty(o.prototype,"x",{get:function(){return this._x},set:function(r){this._x=r},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"y",{get:function(){return this._y},set:function(r){this._y=r},enumerable:!1,configurable:!0}),o}(),Ot=function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(t,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(t,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(t,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new ya}),Object.defineProperty(t,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Et}),Object.defineProperty(t,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new Et}),Object.defineProperty(t,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Et}),Object.defineProperty(t,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t._renderer=e,t}return Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._renderer._removeObject(this)}}),Object.defineProperty(r.prototype,"getCanvas",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getLayer().view}}),Object.defineProperty(r.prototype,"getLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=this;;){if(e._layer)return e._layer;if(e._parent)e=e._parent;else return this._renderer.defaultLayer}}}),Object.defineProperty(r.prototype,"setLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!0),e==null?this._layer=void 0:(this._layer=this._renderer.getLayer(e,t),this._layer.visible=t,this._parent&&this._parent.registerChildLayer(this._layer))}}),Object.defineProperty(r.prototype,"markDirtyLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getLayer().dirty=!0}}),Object.defineProperty(r.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.invalidateBounds()}}),Object.defineProperty(r.prototype,"invalidateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._localBounds=void 0}}),Object.defineProperty(r.prototype,"_addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_getColorId",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}}),Object.defineProperty(r.prototype,"_isInteractive",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.inactive==!1&&(this.interactive||this._renderer._forceInteractive>0)}}),Object.defineProperty(r.prototype,"_isInteractiveMask",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isInteractive()}}),Object.defineProperty(r.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(;;){if(e===this)return!0;if(e._parent)e=e._parent;else return!1}}}),Object.defineProperty(r.prototype,"toGlobal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._matrix.apply(e)}}),Object.defineProperty(r.prototype,"toLocal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._matrix.applyInverse(e)}}),Object.defineProperty(r.prototype,"getLocalMatrix",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}}),Object.defineProperty(r.prototype,"getLocalBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._localBounds){var e=1e7;this._localBounds={left:e,top:e,right:-e,bottom:-e},this._addBounds(this._localBounds)}return this._localBounds}}),Object.defineProperty(r.prototype,"getAdjustedBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._setMatrix();var t=this.getLocalMatrix(),i=t.apply({x:e.left,y:e.top}),a=t.apply({x:e.right,y:e.top}),n=t.apply({x:e.right,y:e.bottom}),l=t.apply({x:e.left,y:e.bottom});return{left:Math.min(i.x,a.x,n.x,l.x),top:Math.min(i.y,a.y,n.y,l.y),right:Math.max(i.x,a.x,n.x,l.x),bottom:Math.max(i.y,a.y,n.y,l.y)}}}),Object.defineProperty(r.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){return this.interactive?this._renderer._addEvent(this,e,t,i):new Z(function(){})}}),Object.defineProperty(r.prototype,"_setMatrix",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}}),Object.defineProperty(r.prototype,"_transform",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._matrix;e.setTransform(i.a*t,i.b*t,i.c*t,i.d*t,i.tx*t,i.ty*t)}}),Object.defineProperty(r.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();var i=this._renderer.resolution,a=this._renderer.layers,n=this._renderer._ghostContext,l=this.mask;l&&l._setMatrix(),_(a,function(s){if(s){var u=s.context;u.save(),l&&(l._transform(u,s.scale||i),l._runPath(u),u.clip()),u.globalAlpha=t.compoundAlpha*t.alpha,t._transform(u,s.scale||i),t.filter&&(u.filter=t.filter)}}),n.save(),l&&this._isInteractiveMask()&&(l._transform(n,i),l._runPath(n),n.clip()),this._transform(n,i),this._render(e),n.restore(),_(a,function(s){s&&s.context.restore()})}}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.exportable===!1){var t=this._layer||e;t.tainted=!0}}}),Object.defineProperty(r.prototype,"hovering",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._renderer._hovering.has(this)}}),Object.defineProperty(r.prototype,"dragging",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return this._renderer._dragging.some(function(t){return t.value===e})}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getLayer().dirty=!0}}),Object.defineProperty(r.prototype,"shouldCancelTouch",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._renderer;return e.tapToActivate&&!e._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}}),r}(Ne),ma=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return Object.defineProperty(r.prototype,"_isInteractiveMask",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.interactiveChildren||o.prototype._isInteractiveMask.call(this)}}),Object.defineProperty(r.prototype,"addChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}}),Object.defineProperty(r.prototype,"addChildAt",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}}),Object.defineProperty(r.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e._parent=void 0,se(this._children,e)}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;o.prototype._render.call(this,e);var i=this._renderer;this.interactive&&this.interactiveChildren&&++i._forceInteractive;var a=this._layer||e;_(this._children,function(n){n.compoundAlpha=t.compoundAlpha*t.alpha,n.render(a)}),this.interactive&&this.interactiveChildren&&--i._forceInteractive}}),Object.defineProperty(r.prototype,"registerChildLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._childLayers||(this._childLayers=[]),tt(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}}),Object.defineProperty(r.prototype,"markDirtyLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e===void 0&&(e=!1),o.prototype.markDirtyLayer.call(this),e&&this._childLayers&&_(this._childLayers,function(t){return t.dirty=!0})}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.dispose.call(this),this._childLayers&&_(this._childLayers,function(e){e.dirty=!0})}}),r}(Ot);function G(o,r){o.left=Math.min(o.left,r.x),o.top=Math.min(o.top,r.y),o.right=Math.max(o.right,r.x),o.bottom=Math.max(o.bottom,r.y)}var q=function(){function o(){}return Object.defineProperty(o.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){}}),Object.defineProperty(o.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(r){}}),Object.defineProperty(o.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(r){}}),o}(),Bt=function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t!==void 0?e.fillStyle=t:e.fillStyle=this.color}}),r}(q),_a=function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}),r}(q),wa=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.stroke()}}),r}(q),Ft=function(o){A(r,o);function r(e,t,i){var a=o.call(this)||this;return Object.defineProperty(a,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(a,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(a,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i}),a}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t!==void 0?e.strokeStyle=t:e.strokeStyle=this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin)}}),r}(q),Pa=function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.setLineDash(this.dash)}}),r}(q),Oa=function(o){A(r,o);function r(e){var t=o.call(this)||this;return Object.defineProperty(t,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.lineDashOffset=this.dashOffset}}),r}(q),xa=function(o){A(r,o);function r(e,t,i,a){var n=o.call(this)||this;return Object.defineProperty(n,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(n,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(n,"height",{enumerable:!0,configurable:!0,writable:!0,value:a}),n}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.rect(this.x,this.y,this.width,this.height)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.x,i=this.y,a=t+this.width,n=i+this.height;G(e,{x:t,y:i}),G(e,{x:a,y:i}),G(e,{x:t,y:n}),G(e,{x:a,y:n})}}),r}(q),ja=function(o){A(r,o);function r(e,t,i){var a=o.call(this)||this;return Object.defineProperty(a,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(a,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(a,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),a}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){G(e,{x:this.x-this.radius,y:this.y-this.radius}),G(e,{x:this.x+this.radius,y:this.y+this.radius})}}),r}(q),Da=function(o){A(r,o);function r(e,t,i,a){var n=o.call(this)||this;return Object.defineProperty(n,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(n,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(n,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:a}),n}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){G(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),G(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}),r}(q),Ta=function(o){A(r,o);function r(e,t,i,a,n,l){var s=o.call(this)||this;return Object.defineProperty(s,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(s,"cy",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(s,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(s,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(s,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(s,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:l}),s}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Vi(this.cx,this.cy,this.startAngle*Je,this.endAngle*Je,this.radius);G(e,{x:t.left,y:t.top}),G(e,{x:t.right,y:t.bottom})}}),r}(q),Ca=function(o){A(r,o);function r(e,t,i,a,n){var l=o.call(this)||this;return Object.defineProperty(l,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(l,"y1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(l,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"y2",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(l,"radius",{enumerable:!0,configurable:!0,writable:!0,value:n}),l}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),r}(q),Aa=function(o){A(r,o);function r(e,t){var i=o.call(this)||this;return Object.defineProperty(i,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(i,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),i}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.lineTo(this.x,this.y)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){G(e,{x:this.x,y:this.y})}}),r}(q),Sa=function(o){A(r,o);function r(e,t){var i=o.call(this)||this;return Object.defineProperty(i,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(i,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),i}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.moveTo(this.x,this.y)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){G(e,{x:this.x,y:this.y})}}),r}(q),ka=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.closePath()}}),r}(q),Ma=function(o){A(r,o);function r(e,t,i,a,n,l){var s=o.call(this)||this;return Object.defineProperty(s,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(s,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(s,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(s,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(s,"toX",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(s,"toY",{enumerable:!0,configurable:!0,writable:!0,value:l}),s}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){G(e,{x:this.cpX,y:this.cpY}),G(e,{x:this.cpX2,y:this.cpY2}),G(e,{x:this.toX,y:this.toY})}}),r}(q),Ra=function(o){A(r,o);function r(e,t,i,a){var n=o.call(this)||this;return Object.defineProperty(n,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(n,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(n,"toY",{enumerable:!0,configurable:!0,writable:!0,value:a}),n}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){G(e,{x:this.cpX,y:this.cpY}),G(e,{x:this.toX,y:this.toY})}}),r}(q),Ea=function(o){A(r,o);function r(e,t,i,a,n){var l=o.call(this)||this;return Object.defineProperty(l,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(l,"blur",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(l,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(l,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:n}),l}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}}),r}(q),La=function(o){A(r,o);function r(e,t,i,a,n){var l=o.call(this)||this;return Object.defineProperty(l,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(l,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(l,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"x",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(l,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),l}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){G(e,{x:this.x,y:this.y}),G(e,{x:this.width,y:this.height})}}),r}(q),Ba=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:dt.NORMAL}),Object.defineProperty(e,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.clear.call(this),this._operations.length=0}}),Object.defineProperty(r.prototype,"_pushOp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._operations.push(e)}}),Object.defineProperty(r.prototype,"beginFill",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=1),this._fillAlpha=t,e?e instanceof E?this._pushOp(new Bt(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new Bt(e))):this._pushOp(new Bt("rgba(0, 0, 0, "+t+")"))}}),Object.defineProperty(r.prototype,"endFill",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._pushOp(new _a(this._hasShadows))}}),Object.defineProperty(r.prototype,"endStroke",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._pushOp(new wa)}}),Object.defineProperty(r.prototype,"lineStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){e===void 0&&(e=0),i===void 0&&(i=1),this._strokeAlpha=i,t?t instanceof E?this._pushOp(new Ft(e,t.toCSS(i),a)):this._pushOp(new Ft(e,t,a)):this._pushOp(new Ft(e,"rgba(0, 0, 0, "+i+")",a))}}),Object.defineProperty(r.prototype,"setLineDash",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._pushOp(new Pa(e||[]))}}),Object.defineProperty(r.prototype,"setLineDashOffset",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e===void 0&&(e=0),this._pushOp(new Oa(e))}}),Object.defineProperty(r.prototype,"drawRect",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){this._pushOp(new xa(e,t,i,a))}}),Object.defineProperty(r.prototype,"drawCircle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this._pushOp(new ja(e,t,i))}}),Object.defineProperty(r.prototype,"drawEllipse",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){this._pushOp(new Da(e,t,i,a))}}),Object.defineProperty(r.prototype,"arc",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n,l){l===void 0&&(l=!1),this._pushOp(new Ta(e,t,i,a,n,l))}}),Object.defineProperty(r.prototype,"arcTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n){this._pushOp(new Ca(e,t,i,a,n))}}),Object.defineProperty(r.prototype,"lineTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._pushOp(new Aa(e,t))}}),Object.defineProperty(r.prototype,"moveTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._pushOp(new Sa(e,t))}}),Object.defineProperty(r.prototype,"bezierCurveTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n,l){this._pushOp(new Ma(e,t,i,a,n,l))}}),Object.defineProperty(r.prototype,"quadraticCurveTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){this._pushOp(new Ra(e,t,i,a))}}),Object.defineProperty(r.prototype,"closePath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._pushOp(new ka)}}),Object.defineProperty(r.prototype,"shadow",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n){t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),this._hasShadows=!0,this._pushOp(new Ea(n?e.toCSS(n):e.toCSS(this._fillAlpha||this._strokeAlpha),t,i,a))}}),Object.defineProperty(r.prototype,"image",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n){this._pushOp(new La(e,t,i,a,n))}}),Object.defineProperty(r.prototype,"svgPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=this,i=0,a=0,n=null,l=null,s=null,u=null,h=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,c=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g,v;(v=h.exec(e))!==null;){for(var f=v[1],d=v[2],b=[];(v=c.exec(d))!==null;)b.push(+v[1]);switch(f!=="S"&&f!=="s"&&f!=="C"&&f!=="c"&&(n=null,l=null),f!=="Q"&&f!=="q"&&f!=="T"&&f!=="t"&&(s=null,u=null),f){case"M":ce(f,b.length,2),i=b[0],a=b[1],this.moveTo(i,a);for(var p=2;p<b.length;p+=2)i=b[p],a=b[p+1],this.lineTo(i,a);break;case"m":ce(f,b.length,2),i+=b[0],a+=b[1],this.moveTo(i,a);for(var p=2;p<b.length;p+=2)i+=b[p],a+=b[p+1],this.lineTo(i,a);break;case"L":ce(f,b.length,2);for(var p=0;p<b.length;p+=2)i=b[p],a=b[p+1],this.lineTo(i,a);break;case"l":ce(f,b.length,2);for(var p=0;p<b.length;p+=2)i+=b[p],a+=b[p+1],this.lineTo(i,a);break;case"H":Ke(f,b.length,1);for(var p=0;p<b.length;++p)i=b[p],this.lineTo(i,a);break;case"h":Ke(f,b.length,1);for(var p=0;p<b.length;++p)i+=b[p],this.lineTo(i,a);break;case"V":Ke(f,b.length,1);for(var p=0;p<b.length;++p)a=b[p],this.lineTo(i,a);break;case"v":Ke(f,b.length,1);for(var p=0;p<b.length;++p)a+=b[p],this.lineTo(i,a);break;case"C":ce(f,b.length,6);for(var p=0;p<b.length;p+=6){var g=b[p],y=b[p+1];n=b[p+2],l=b[p+3],i=b[p+4],a=b[p+5],this.bezierCurveTo(g,y,n,l,i,a)}break;case"c":ce(f,b.length,6);for(var p=0;p<b.length;p+=6){var g=b[p]+i,y=b[p+1]+a;n=b[p+2]+i,l=b[p+3]+a,i+=b[p+4],a+=b[p+5],this.bezierCurveTo(g,y,n,l,i,a)}break;case"S":ce(f,b.length,4),(n===null||l===null)&&(n=i,l=a);for(var p=0;p<b.length;p+=4){var g=2*i-n,y=2*a-l;n=b[p],l=b[p+1],i=b[p+2],a=b[p+3],this.bezierCurveTo(g,y,n,l,i,a)}break;case"s":ce(f,b.length,4),(n===null||l===null)&&(n=i,l=a);for(var p=0;p<b.length;p+=4){var g=2*i-n,y=2*a-l;n=b[p]+i,l=b[p+1]+a,i+=b[p+2],a+=b[p+3],this.bezierCurveTo(g,y,n,l,i,a)}break;case"Q":ce(f,b.length,4);for(var p=0;p<b.length;p+=4)s=b[p],u=b[p+1],i=b[p+2],a=b[p+3],this.quadraticCurveTo(s,u,i,a);break;case"q":ce(f,b.length,4);for(var p=0;p<b.length;p+=4)s=b[p]+i,u=b[p+1]+a,i+=b[p+2],a+=b[p+3],this.quadraticCurveTo(s,u,i,a);break;case"T":ce(f,b.length,2),(s===null||u===null)&&(s=i,u=a);for(var p=0;p<b.length;p+=2)s=2*i-s,u=2*a-u,i=b[p],a=b[p+1],this.quadraticCurveTo(s,u,i,a);break;case"t":ce(f,b.length,2),(s===null||u===null)&&(s=i,u=a);for(var p=0;p<b.length;p+=2)s=2*i-s,u=2*a-u,i+=b[p],a+=b[p+1],this.quadraticCurveTo(s,u,i,a);break;case"A":case"a":var m=f==="a";ce(f,b.length,7);for(var p=0;p<b.length;p+=7){var j=b[p+5],C=b[p+6];m&&(j+=i,C+=a);var x=da({px:i,py:a,rx:b[p],ry:b[p+1],xAxisRotation:b[p+2],largeArcFlag:vr(b[p+3]),sweepFlag:vr(b[p+4]),cx:j,cy:C});_(x,function(O){t.bezierCurveTo(O.x1,O.y1,O.x2,O.y2,O.x,O.y),i=O.x,a=O.y})}break;case"Z":case"z":va(f,b.length,0),this.closePath();break}}}}),Object.defineProperty(r.prototype,"_runPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.beginPath(),_(this._operations,function(t){t.path(e)})}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype._render.call(this,e);var t=this._layer||e,i=t.dirty,a=this._isInteractive();if(i||a){var n=t.context,l=this._renderer._ghostContext;i&&(n.globalCompositeOperation=this.blendMode,n.beginPath());var s;a&&(l.beginPath(),s=this._getColorId()),_(this._operations,function(u){i&&(u.path(n),u.colorize(n,void 0)),a&&(u.path(l),u.colorize(l,s))})}}}),Object.defineProperty(r.prototype,"renderDetached",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.visible){this._setMatrix(),e.save();var t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),_(this._operations,function(i){i.path(e),i.colorize(e,void 0)}),e.restore()}}}),Object.defineProperty(r.prototype,"_addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.visible&&this.isMeasured&&_(this._operations,function(t){t.addBounds(e)})}}),r}(Ot),Kr=function(o){A(r,o);function r(e,t,i){var a=o.call(this,e)||this;return Object.defineProperty(a,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(a,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),a.text=t,a.style=i,a}return Object.defineProperty(r.prototype,"invalidateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.invalidateBounds.call(this),this._textInfo=void 0}}),Object.defineProperty(r.prototype,"_shared",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}}),Object.defineProperty(r.prototype,"_prerender",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1),o.prototype._render.call(this,e);var a=e.context,n=this._renderer._ghostContext,l=this.style,s=this._getFontStyle(void 0,i);a.font=s,this._isInteractive()&&!t&&(n.font=s),l.fill&&(l.fill instanceof E?a.fillStyle=l.fill.toCSS():a.fillStyle=l.fill),l.shadowColor&&(e.context.shadowColor=l.shadowColor.toCSS(l.shadowOpacity||1)),l.shadowBlur&&(e.context.shadowBlur=l.shadowBlur),l.shadowOffsetX&&(e.context.shadowOffsetX=l.shadowOffsetX),l.shadowOffsetY&&(e.context.shadowOffsetY=l.shadowOffsetY),this._shared(a),this._isInteractive()&&!t&&(n.fillStyle=this._getColorId(),this._shared(n))}}),Object.defineProperty(r.prototype,"_getFontStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!1);var i=this.style,a=[];return e&&e.fontVariant?a.push(e.fontVariant):i.fontVariant&&a.push(i.fontVariant),t||(e&&e.fontWeight?a.push(e.fontWeight):i.fontWeight&&a.push(i.fontWeight)),e&&e.fontStyle?a.push(e.fontStyle):i.fontStyle&&a.push(i.fontStyle),e&&e.fontSize?(P(e.fontSize)&&(e.fontSize=e.fontSize+"px"),a.push(e.fontSize)):i.fontSize&&(P(i.fontSize)&&(i.fontSize=i.fontSize+"px"),a.push(i.fontSize)),e&&e.fontFamily?a.push(e.fontFamily):i.fontFamily?a.push(i.fontFamily):a.length&&a.push("Arial"),a.join(" ")}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this._layer||e;if(this._textInfo||this._measure(i),this._textVisible){var a=this._isInteractive(),n=i.context,l=i.dirty,s=this._renderer._ghostContext;n.save(),s.save(),this._prerender(i),_(this._textInfo,function(u,h){_(u.textChunks,function(c,v){if(c.style&&(n.save(),s.save(),n.font=c.style,t._isInteractive()&&(s.font=c.style)),c.fill&&(n.save(),n.fillStyle=c.fill.toCSS()),l&&n.fillText(c.text,c.offsetX,u.offsetY+c.offsetY),c.textDecoration=="underline"||c.textDecoration=="line-through"){var f=1,d=1,b=c.height,p=c.offsetX;switch(t.style.textAlign){case"right":case"end":p-=c.width;break;case"center":p-=c.width/2;break}if(c.style){var g=_e.getTextStyle(c.style);switch(g.fontWeight){case"bolder":case"bold":case"700":case"800":case"900":f=2;break}}b&&(d=b/20);var y=void 0;c.textDecoration=="line-through"?y=f+u.offsetY+c.offsetY-c.height/2:y=f+d*1.5+u.offsetY+c.offsetY,n.save(),n.beginPath(),c.fill?n.strokeStyle=c.fill.toCSS():t.style.fill&&t.style.fill instanceof E&&(n.strokeStyle=t.style.fill.toCSS()),n.lineWidth=f*d,n.moveTo(p,y),n.lineTo(p+c.width,y),n.stroke(),n.restore()}a&&t.interactive&&s.fillText(c.text,c.offsetX,u.offsetY+c.offsetY),c.fill&&n.restore(),c.style&&(n.restore(),s.restore())})}),n.restore(),s.restore()}}}),Object.defineProperty(r.prototype,"_addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.visible&&this.isMeasured){var t=this._measure(this.getLayer());G(e,{x:t.left,y:t.top}),G(e,{x:t.right,y:t.bottom})}}}),Object.defineProperty(r.prototype,"_measure",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.context,a=this._renderer._ghostContext,n=this.style.direction=="rtl";this._textInfo=[];var l=this.style.oversizedBehavior,s=this.style.maxWidth,u=P(s)&&l=="truncate",h=P(s)&&(l=="wrap"||l=="wrap-no-break");i.save(),a.save(),this._prerender(e,!0,!0);var c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",v=this.text.toString().replace(/\r/g,"").split(/\n/),f=!0,d=0,b=0,p=0,g;_(v,function(j,C){var x;j==""?x=[{type:"value",text:""}]:x=_e.chunk(j,!1,t.style.ignoreFormatting);for(var T=function(){var O={offsetY:p,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},w=t._measureText(c,i),D=w.actualBoundingBoxAscent+w.actualBoundingBoxDescent;O.height=D,O.ascent=w.actualBoundingBoxAscent;var S,M=t.style.textDecoration,B,N,$=!1,ie=!0,ae=[],H;Sr(x,function(F,Q){if(F.type=="format")if(F.text=="[/]")f||(i.restore(),a.restore(),f=!0),B=void 0,g=void 0,N=void 0,M=t.style.textDecoration,H=void 0,S=F.text;else{f||(i.restore(),a.restore());var ne=_e.getTextStyle(F.text),xe=t._getFontStyle(ne);i.save(),a.save(),i.font=xe,g=xe,S=F.text,ne.textDecoration&&(M=ne.textDecoration),ne.fill&&(B=ne.fill),ne.width&&(N=pe(ne.width)),ne.verticalAlign&&(H=ne.verticalAlign),f=!1;var ve=t._measureText(c,i),Ee=ve.actualBoundingBoxAscent+ve.actualBoundingBoxDescent;Ee>O.height&&(O.height=Ee),ve.actualBoundingBoxAscent>O.ascent&&(O.ascent=ve.actualBoundingBoxAscent)}else if(F.type=="value"&&!$){var he=t._measureText(F.text,i),Ae=he.actualBoundingBoxLeft+he.actualBoundingBoxRight;if(u){var Zr=ie||t.style.breakWords||!1,Qt=t.style.ellipsis||"",er=t._measureText(Qt,i),qr=er.actualBoundingBoxLeft+er.actualBoundingBoxRight;if(O.width+Ae>s){var xt=s-O.width-qr;F.text=t._truncateText(i,F.text,xt,Zr),F.text+=Qt,$=!0}}else if(h&&O.width+Ae>s){var xt=s-O.width,at=t._truncateText(i,F.text,xt,!1,ie&&t.style.oversizedBehavior!="wrap-no-break");if(at=="")return t._textVisible=!0,!1;ae=x.slice(Q+1),ct(at)!=ct(F.text)&&(ae.unshift({type:"value",text:F.text.substr(at.length)}),S&&ae.unshift({type:"format",text:S})),F.text=ct(at),x=[],$=!0}var jt=1,Dt=1;if(g&&N&&N>Ae){var nt=Ae/N;switch(t.style.textAlign){case"right":case"end":jt=nt;break;case"center":jt=nt,Dt=nt;break;default:Dt=nt}Ae=N}var Tt=he.actualBoundingBoxAscent+he.actualBoundingBoxDescent;Tt>O.height&&(O.height=Tt),he.actualBoundingBoxAscent>O.ascent&&(O.ascent=he.actualBoundingBoxAscent),O.width+=Ae,O.left+=he.actualBoundingBoxLeft/jt,O.right+=he.actualBoundingBoxRight/Dt,O.textChunks.push({style:g,fill:B,text:F.text,width:Ae,height:Tt,left:he.actualBoundingBoxLeft,right:he.actualBoundingBoxRight,ascent:he.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:M,verticalAlign:H}),ie=!1}return!0}),t.style.lineHeight instanceof I?(O.height*=t.style.lineHeight.value,O.ascent*=t.style.lineHeight.value):(O.height*=t.style.lineHeight||1.2,O.ascent*=t.style.lineHeight||1.2),d<O.left&&(d=O.left),b<O.right&&(b=O.right),t._textInfo.push(O),p+=O.height,x=ae||[]};x.length>0;)T()}),f||(i.restore(),a.restore()),_(this._textInfo,function(j,C){var x=0;_(j.textChunks,function(T){if(T.offsetX=x+T.left-j.left,T.offsetY+=j.height-j.height*(t.style.baselineRatio||.19),x+=T.width,T.verticalAlign)switch(T.verticalAlign){case"super":T.offsetY-=j.height/2-T.height/2;break;case"sub":T.offsetY+=T.height/2;break}})});var y={left:n?-b:-d,top:0,right:n?d:b,bottom:p};if(l!=="none"){var m=this._fitRatio(y);if(m<1)if(l=="fit")P(this.style.minScale)&&m<this.style.minScale?this._textVisible=!1:((!this._originalScale||this._originalScale==1)&&(this._originalScale=this.scale),this.scale=m,this._textVisible=!0);else if(l=="hide")this._textVisible=!1;else{switch(this.style.textAlign){case"right":case"end":y.left=-s,y.right=0;break;case"center":y.left=-s/2,y.right=s/2;break;default:y.left=0,y.right=s}this.scale=this._originalScale||1,this._originalScale=void 0,this._textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this._textVisible=!0}return i.restore(),a.restore(),y}}),Object.defineProperty(r.prototype,"_fitRatio",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.style.maxWidth,i=this.style.maxHeight;if(!P(t)&&!P(i))return 1;var a=e.right-e.left,n=e.bottom-e.top;return Math.min(t/a||1,i/n||1)}}),Object.defineProperty(r.prototype,"_truncateText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n){a===void 0&&(a=!1),n===void 0&&(n=!0);var l;do{if(a)t=t.slice(0,-1);else{var s=t.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if(s==""&&n)a=!0;else{if(s=="")return t;t=s}}var u=this._measureText(t,e);l=u.actualBoundingBoxLeft+u.actualBoundingBoxRight}while(l>i&&t!="");return t}}),Object.defineProperty(r.prototype,"_measureText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=t.measureText(e),a={};if(i.actualBoundingBoxAscent==null){var n=document.createElement("div");n.innerText=e,n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000000px;",n.style.fontFamily=this.style.fontFamily||"",n.style.fontSize=this.style.fontSize+"",document.body.appendChild(n);var l=n.getBoundingClientRect();document.body.removeChild(n);var s=l.height,u=i.width,h=0,c=u;a={actualBoundingBoxAscent:s,actualBoundingBoxDescent:0,actualBoundingBoxLeft:h,actualBoundingBoxRight:c,fontBoundingBoxAscent:s,fontBoundingBoxDescent:0,width:u}}else a={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};var v=i.width;switch(this.style.textAlign){case"right":case"end":a.actualBoundingBoxLeft=v,a.actualBoundingBoxRight=0;break;case"center":a.actualBoundingBoxLeft=v/2,a.actualBoundingBoxRight=v/2;break;default:a.actualBoundingBoxLeft=0,a.actualBoundingBoxRight=v}return a}}),r}(Ot),Fa=function(){function o(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:ge(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}return o}(),Ia=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(e,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(e,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){switch(this.textType){case"circular":this._renderCircular(e);break;default:o.prototype._render.call(this,e);break}}}),Object.defineProperty(r.prototype,"_renderCircular",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._layer||e;this._prerender(t);var i=this._isInteractive(),a=t.context,n=t.dirty,l=this._renderer._ghostContext;a.save(),i&&l.save();var s=this.radius||0,u=this.startAngle||0,h=0,c=this.orientation,v=c=="auto"?"auto":c=="inward",f=this.inside,d=this.style.textAlign||"left",b=this.kerning||0,p=d=="left"?1:-1,g=!this._textReversed;if(this._textInfo||this._measure(t),v=="auto"){var y=0,m=0;_(this._textInfo,function(j,C){var x=u+j.width/(s-j.height)/2*-p;x>y&&(y=x)}),d=="left"?m=(y+h/2)*Je:d=="right"?m=(y-h/2)*Je:m=u*Je,m=Xi(m),v=m>=270||m<=90}v==!0&&g&&(this._textInfo.reverse(),this._textReversed=!0),_(this._textInfo,function(j,C){var x=j.height;f||(s+=x),(p==-1&&v||p==1&&!v)&&g&&j.textChunks.reverse();var T=u;h=0,d=="center"&&(T+=j.width/(s-x)/2*-p,h=T-u),T+=Math.PI*(v?0:1),a.save(),i&&l.save(),a.rotate(T),i&&l.rotate(T);var O=0;_(j.textChunks,function(w,D){var S=w.text,M=w.width;O=M/2/(s-x)*p,a.rotate(O),i&&l.rotate(O),w.style&&(a.save(),l.save(),a.font=w.style,i&&(l.font=w.style)),w.fill&&(a.save(),a.fillStyle=w.fill.toCSS()),a.textBaseline="middle",a.textAlign="center",i&&(l.textBaseline="middle",l.textAlign="center"),n&&a.fillText(S,0,(v?1:-1)*(0-s+x/2)),i&&l.fillText(S,0,(v?1:-1)*(0-s+x/2)),w.fill&&a.restore(),w.style&&(a.restore(),l.restore()),O=(M/2+b)/(s-x)*p,a.rotate(O),i&&l.rotate(O)}),a.restore(),i&&l.restore(),f&&(s-=x)}),a.restore(),i&&l.restore()}}),Object.defineProperty(r.prototype,"_measure",{enumerable:!1,configurable:!0,writable:!0,value:function(e){switch(this.textType){case"circular":return this._measureCircular(e);default:return o.prototype._measure.call(this,e)}}}),Object.defineProperty(r.prototype,"_measureCircular",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.context,a=this._renderer._ghostContext,n=this.style.direction=="rtl";this._textInfo=[],this._textReversed=!1,i.save(),a.save(),this._prerender(e,!0);var l=this.text.toString().replace(/\r/g,"").split(/\n/),s=!0,u=0;return _(l,function(h,c){var v=_e.chunk(h,!1,t.style.ignoreFormatting),f={offsetY:u,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},d,b,p;_(v,function(g,y){if(g.type=="format")if(g.text=="[/]")s||(i.restore(),a.restore(),s=!0),b=void 0,d=void 0,p=void 0;else{var m=_e.getTextStyle(g.text),j=t._getFontStyle(m);i.save(),a.save(),i.font=j,d=j,m.fill&&(b=m.fill),m.width&&(p=pe(m.width)),s=!1}else if(g.type=="value"){var C=g.text.match(/./ug)||[];n&&C.reverse();for(var x=0;x<C.length;x++){var T=C[x],O=t._measureText(T,i),w=O.width;d&&p&&p>w&&(w=p);var D=O.actualBoundingBoxAscent+O.actualBoundingBoxDescent;if(D>f.height&&(f.height=D),O.actualBoundingBoxAscent>f.ascent&&(f.ascent=O.actualBoundingBoxAscent),f.width+=w,f.left+=O.actualBoundingBoxLeft,f.right+=O.actualBoundingBoxRight,f.textChunks.push({style:d,fill:b,text:T,width:w,height:D+O.actualBoundingBoxDescent,left:O.actualBoundingBoxLeft,right:O.actualBoundingBoxRight,ascent:O.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0}),n)break}}}),t.style.lineHeight instanceof I?f.height*=t.style.lineHeight.value:f.height*=t.style.lineHeight||1.2,t._textInfo.push(f),u+=f.height}),s||(i.restore(),a.restore()),_(this._textInfo,function(h){_(h.textChunks,function(c){c.offsetY+=Math.round((h.height-c.height+(h.ascent-c.ascent))/2)})}),i.restore(),a.restore(),{left:0,top:0,right:0,bottom:0}}}),r}(Kr),Ya=function(o){A(r,o);function r(e,t){var i=o.call(this,e)||this;return Object.defineProperty(i,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.image=t,i}return Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._dispose.call(this),this._imageMask&&Ze(this._imageMask)}}),Object.defineProperty(r.prototype,"getLocalBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._localBounds){var e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(o.prototype._render.call(this,e),this.image){var t=this._layer||e;if(this.tainted===void 0&&(this.tainted=yr(this.image),t.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(t.dirty){this.shadowColor&&(t.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(t.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(t.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(t.context.shadowOffsetY=this.shadowOffsetY);var i=this.width||this.image.naturalWidth,a=this.height||this.image.naturalHeight;t.context.drawImage(this.image,0,0,i,a)}if(this.interactive&&this._isInteractive()){var n=this._getMask(this.image);this._renderer._ghostContext.drawImage(n,0,0)}}}}),Object.defineProperty(r.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.clear.call(this),this.image=void 0,this._imageMask=void 0}}),Object.defineProperty(r.prototype,"_getMask",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._imageMask===void 0){var t=this.width||e.naturalWidth,i=this.height||e.naturalHeight,a=document.createElement("canvas");a.width=t,a.height=i;var n=a.getContext("2d");n.imageSmoothingEnabled=!1,n.fillStyle=this._getColorId(),n.fillRect(0,0,t,i),yr(e)||(n.globalCompositeOperation="destination-in",n.drawImage(e,0,0,t,i)),this._imageMask=a}return this._imageMask}}),r}(Ot),Na=function(){function o(r,e,t){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),we("touchevents")&&r instanceof Touch?this.id=r.identifier:this.id=null}return o}(),Ha=function(o){A(r,o);function r(e){var t=o.call(this)||this;if(Object.defineProperty(t,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(t,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(t,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:t.getLayer(0)}),Object.defineProperty(t,"_ghostView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_ghostContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(t,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:t._patternCanvas.getContext("2d")}),Object.defineProperty(t,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_clientWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_clientHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(t,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(t,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e==null?t.resolution=window.devicePixelRatio:t.resolution=e,t.view.style.position="absolute",t.view.appendChild(t._layerDom),t._disposers.push(new Z(function(){X(t._events,function(a,n){n.disposer.dispose()}),_(t.layers,function(a){Ze(a.view),a.exportableView&&Ze(a.exportableView)}),Ze(t._ghostView),Ze(t._patternCanvas)})),t._ghostView=document.createElement("canvas"),t._ghostContext=t._ghostView.getContext("2d",{alpha:!1,willReadFrequently:!0}),t._ghostContext.imageSmoothingEnabled=!1,t._ghostView.style.position="absolute",t._ghostView.style.top="0px",t._ghostView.style.left="0px",t._disposers.push(U(t._ghostView,"click",function(a){var n=t.getEvent(a),l=t._getHitTarget(n.point,n.bbox);console.debug(l)})),t._disposers.push(Er(function(){e==null&&(t.resolution=window.devicePixelRatio)})),we("touchevents")){var i=function(a){t._dragging.length!==0&&Sr(t._dragging,function(n){return n.value.shouldCancelTouch()?(a.preventDefault(),!1):!0}),t._touchActiveTimeout&&t._delayTouchDeactivate()};t._disposers.push(U(window,"touchstart",i,{passive:!1})),t._disposers.push(U(t.view,"touchstart",i,{passive:!1})),t._disposers.push(U(t.view,"touchmove",function(){t._touchActiveTimeout&&t._delayTouchDeactivate()},{passive:!0})),t._disposers.push(U(window,"click",function(a){t._touchActive=!1},{passive:!0})),t._disposers.push(U(t.view,"click",function(a){window.setTimeout(function(){t._touchActive=!0,t._delayTouchDeactivate()},100)},{passive:!0}))}return we("wheelevents")&&t._disposers.push(U(t.view,"wheel",function(a){var n=!1;t._hovering.forEach(function(l){if(l.wheelable)return n=!0,!1}),n&&a.preventDefault()},{passive:!1})),t}return Object.defineProperty(r.prototype,"_delayTouchDeactivate",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(function(){e._touchActive=!1},this.tapToActivateTimeout))}}),Object.defineProperty(r.prototype,"debugGhostView",{get:function(){return!!this._ghostView.parentNode},set:function(e){e?this._ghostView.parentNode||this.view.appendChild(this._ghostView):this._ghostView.parentNode&&this._ghostView.parentNode.removeChild(this._ghostView)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"createLinearGradient",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this.defaultLayer.context.createLinearGradient(e,t,i,a)}}),Object.defineProperty(r.prototype,"createRadialGradient",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n,l){return this.defaultLayer.context.createRadialGradient(e,t,i,a,n,l)}}),Object.defineProperty(r.prototype,"createPattern",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n){return this._patternCanvas.width=a,this._patternCanvas.height=n,this._patternContext.clearRect(0,0,a,n),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}}),Object.defineProperty(r.prototype,"makeContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new ma(this)}}),Object.defineProperty(r.prototype,"makeGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Ba(this)}}),Object.defineProperty(r.prototype,"makeText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return new Kr(this,e,t)}}),Object.defineProperty(r.prototype,"makeTextStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Fa}}),Object.defineProperty(r.prototype,"makeRadialText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return new Ia(this,e,t)}}),Object.defineProperty(r.prototype,"makePicture",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new Ya(this,e)}}),Object.defineProperty(r.prototype,"resize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this._clientWidth=e,this._clientHeight=t,this._width=Math.floor(e*this.resolution),this._height=Math.floor(t*this.resolution),_(this.layers,function(a){a&&(a.dirty=!0,a.width!=null?(a.view.width=a.width,a.view.style.width=a.width+"px"):(a.view.width=i._width,a.view.style.width=e+"px"),a.height!=null?(a.view.height=a.height,a.view.style.height=a.height+"px"):(a.view.height=i._height,a.view.style.height=t+"px"))}),this._ghostView.width=this._width,this._ghostView.height=this._height,this._ghostView.style.width=e+"px",this._ghostView.style.height=t+"px",this.view.style.width=e+"px",this.view.style.height=t+"px"}}),Object.defineProperty(r.prototype,"createDetachedLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e===void 0&&(e=!1);var t=document.createElement("canvas"),i=t.getContext("2d",{willReadFrequently:e}),a={view:t,context:i,order:0,visible:!0,width:void 0,height:void 0,dirty:!0,tainted:!1};return t.style.position="absolute",t.style.top="0px",t.style.left="0px",a}}),Object.defineProperty(r.prototype,"getLayerByOrder",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=this.layers,i=t.length,a=0;a<i;a++){var n=t[a];if(n.order==e)return n}}}),Object.defineProperty(r.prototype,"getLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!0);var i=this.getLayerByOrder(e);if(i)return i;var a=this.createDetachedLayer(e==99);a.order=e,a.visible=t,a.visible&&this._width&&(a.view.width=this._width,a.view.style.width=this._clientWidth+"px",a.view.height=this._height,a.view.style.height=this._clientHeight+"px");var n=this.layers;n.push(a),n.sort(function(c,v){return c.order>v.order?1:c.order<v.order?-1:0});for(var l=n.length,s=et(n,a),u,h=s+1;h<l;h++)if(n[h].visible){u=n[h];break}return a.visible&&(u===void 0?this._layerDom.appendChild(a.view):this._layerDom.insertBefore(a.view,u.view)),a}}),Object.defineProperty(r.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(this._dirtyLayers.length=0,_(this.layers,function(a){if(a&&a.dirty&&a.visible){var n=a.context;t._dirtyLayers.push(a),n.save(),n.clearRect(0,0,t._width,t._height)}}),this._ghostContext.save(),this._ghostContext.fillStyle="#000",this._ghostContext.fillRect(0,0,this._width,this._height),e.render(this.defaultLayer),this._ghostContext.restore(),_(this.layers,function(a){if(a){var n=a.context;n.beginPath(),n.moveTo(0,0),n.stroke()}}),_(this._dirtyLayers,function(a){a.context.restore(),a.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){var i=this._lastPointerMoveEvent.native;_(this._lastPointerMoveEvent.events,function(a){t._dispatchGlobalMousemove(a,i)})}}}),Object.defineProperty(r.prototype,"paintId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ga(++this._colorId),i=E.fromHex(t).toCSS();return this._colorMap[i]=e,i}}),Object.defineProperty(r.prototype,"_removeObject",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e._colorId!==void 0&&delete this._colorMap[e._colorId]}}),Object.defineProperty(r.prototype,"getEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!0);var i=t?this.view.getBoundingClientRect():new DOMRect(0,0,0,0);return new Na(e,e.clientX||e.clientY?{x:e.clientX-(e.clientX?i.left:0),y:e.clientY-(e.clientY?i.top:0)}:{x:0,y:0},i)}}),Object.defineProperty(r.prototype,"_getHitTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(e.x<0||e.x>t.width||e.y<0||e.y>t.height)){var i=this._ghostContext.getImageData(Math.round(e.x/t.width*this._width),Math.round(e.y/t.height*this._height),1,1);if(i.data[0]===0&&i.data[1]===0&&i.data[2]===0)return!1;var a=E.fromRGB(i.data[0],i.data[1],i.data[2]).toCSS(),n=this._colorMap[a];return n}}}),Object.defineProperty(r.prototype,"_withEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._events[e];if(i!==void 0){i.dispatching=!0;try{t(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,Pt(i.callbacks,function(a){return!a.disposed}),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[e]))}}}}),Object.defineProperty(r.prototype,"_dispatchEventAll",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){!this.interactionsEnabled||this._withEvents(e,function(i){_(i.callbacks,function(a){a.disposed||a.callback.call(a.context,t)})})}}),Object.defineProperty(r.prototype,"_dispatchEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(!this.interactionsEnabled)return!1;var a=!1;return this._withEvents(e,function(n){_(n.callbacks,function(l){!l.disposed&&l.object===t&&(l.callback.call(l.context,i),a=!0)})}),a}}),Object.defineProperty(r.prototype,"_dispatchMousedown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.button;if(!(i!=0&&i!=2&&i!=1&&i!==void 0)){var a=this.getEvent(e),n=this._getHitTarget(a.point,a.bbox);if(n){var l=a.id,s=!1;ht(n,function(u){var h={id:l,value:u};if(t._mousedown.push(h),!s&&t._dispatchEvent("pointerdown",u,a)){s=!0;var c=t._dragging.some(function(v){return v.value===u&&v.id===l});c||t._dragging.push(h)}return!0})}}}}),Object.defineProperty(r.prototype,"_dispatchGlobalMousemove",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=this.getEvent(e),n=this._getHitTarget(a.point,a.bbox);a.native=t,n?(this._hovering.forEach(function(l){l.contains(n)||(i._hovering.delete(l),l.cursorOverStyle&&St(document.body,"cursor",l._replacedCursorStyle),i._dispatchEvent("pointerout",l,a))}),a.native&&ht(n,function(l){return i._hovering.has(l)||(i._hovering.add(l),l.cursorOverStyle&&(l._replacedCursorStyle=mi(document.body,"cursor"),St(document.body,"cursor",l.cursorOverStyle)),i._dispatchEvent("pointerover",l,a)),!0})):(this._hovering.forEach(function(l){l.cursorOverStyle&&St(document.body,"cursor",l._replacedCursorStyle),i._dispatchEvent("pointerout",l,a)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",a)}}),Object.defineProperty(r.prototype,"_dispatchGlobalMouseup",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.getEvent(e);i.native=t,this._dispatchEventAll("globalpointerup",i)}}),Object.defineProperty(r.prototype,"_dispatchDragMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(this._dragging.length!==0){var i=this.getEvent(e),a=i.id;this._dragging.forEach(function(n){n.id===a&&t._dispatchEvent("pointermove",n.value,i)})}}}),Object.defineProperty(r.prototype,"_dispatchDragEnd",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.button,a;if(i==0||i===void 0)a="click";else if(i==2)a="rightclick";else if(i==1)a="middleclick";else return;var n=this.getEvent(e),l=n.id;if(this._mousedown.length!==0){var s=this._getHitTarget(n.point,n.bbox);s&&this._mousedown.forEach(function(u){u.id===l&&u.value.contains(s)&&t._dispatchEvent(a,u.value,n)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(function(u){u.id===l&&t._dispatchEvent("pointerup",u.value,n)}),this._dragging.length=0)}}),Object.defineProperty(r.prototype,"_dispatchDoubleClick",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this.getEvent(e),a=this._getHitTarget(i.point,i.bbox);a&&ht(a,function(n){return!t._dispatchEvent("dblclick",n,i)})}}),Object.defineProperty(r.prototype,"_dispatchWheel",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this.getEvent(e),a=this._getHitTarget(i.point,i.bbox);a&&ht(a,function(n){return!t._dispatchEvent("wheel",n,i)})}}),Object.defineProperty(r.prototype,"_makeSharedEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;if(this._listeners[e]===void 0){var a=t();this._listeners[e]=new Rr(function(){delete i._listeners[e],a.dispose()})}return this._listeners[e].increment()}}),Object.defineProperty(r.prototype,"_onPointerEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=!1,a=null;function n(){a=null,i=!1}return new oe([new Z(function(){a!==null&&clearTimeout(a),n()}),U(this.view,Xt(e),function(l){i=!0,a!==null&&clearTimeout(a),a=window.setTimeout(n,0)}),gr(window,e,function(l){a!==null&&(clearTimeout(a),a=null),t(l,i),i=!1})])}}),Object.defineProperty(r.prototype,"_initEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",function(){var i=function(a,n){t._lastPointerMoveEvent={events:a,native:n},_(a,function(l){t._dispatchGlobalMousemove(l,n)})};return new oe([t._onPointerEvent("pointerdown",i),t._onPointerEvent("pointermove",i)])});case"globalpointerup":return this._makeSharedEvent("pointerup",function(){var i=t._onPointerEvent("pointerup",function(n,l){_(n,function(s){t._dispatchGlobalMouseup(s,l)}),t._lastPointerMoveEvent={events:n,native:l}}),a=t._onPointerEvent("pointercancel",function(n,l){_(n,function(s){t._dispatchGlobalMouseup(s,l)}),t._lastPointerMoveEvent={events:n,native:l}});return new Z(function(){i.dispose(),a.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",function(){var i=gr(t.view,"pointerdown",function(s){_(s,function(u){t._dispatchMousedown(u)})}),a=t._onPointerEvent("pointermove",function(s){_(s,function(u){t._dispatchDragMove(u)})}),n=t._onPointerEvent("pointerup",function(s){_(s,function(u){t._dispatchDragEnd(u)})}),l=t._onPointerEvent("pointercancel",function(s){_(s,function(u){t._dispatchDragEnd(u)})});return new Z(function(){i.dispose(),a.dispose(),n.dispose(),l.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",function(){return t._onPointerEvent("dblclick",function(i){_(i,function(a){t._dispatchDoubleClick(a)})})});case"wheel":return this._makeSharedEvent("wheel",function(){return U(window,Xt("wheel"),function(i){t._dispatchWheel(i)},{passive:!1})})}}}),Object.defineProperty(r.prototype,"_addEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var n=this,l=this._events[t];l===void 0&&(l=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});var s={object:e,context:a,callback:i,disposed:!1};return l.callbacks.push(s),new Z(function(){s.disposed=!0,l.dispatching?l.cleanup=!0:(se(l.callbacks,s),l.callbacks.length===0&&(l.disposer.dispose(),delete n._events[t]))})}}),Object.defineProperty(r.prototype,"getCanvas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this.render(e),t||(t={});var a=this.resolution;if(t.minWidth&&t.minWidth>this._width){var n=t.minWidth/this._width;n>a&&(a=n*this.resolution)}if(t.minHeight&&t.minHeight>this._height){var n=t.minHeight/this._height;n>a&&(a=n*this.resolution)}if(t.maxWidth&&t.maxWidth<this._width){var l=t.maxWidth/this._width;l<a&&(a=l*this.resolution)}if(t.maxHeight&&t.maxHeight>this._height){var l=t.maxHeight/this._height;l<a&&(a=l*this.resolution)}t.maintainPixelRatio&&(a/=this.resolution);var s=[],u=!1,h=this._width,c=this._height,v=document.createElement("canvas");a!=this.resolution&&(u=!0,h=this._width*a/this.resolution,c=this._height*a/this.resolution),v.width=h,v.height=c,v.style.position="fixed",v.style.top="-10000px",this.view.appendChild(v),s.push(v);var f=v.getContext("2d"),d=0,b=0,p=!1;return _(this.layers,function(g){g&&g.visible&&(g.tainted||u)&&(p=!0,g.exportableView=g.view,g.exportableContext=g.context,g.view=document.createElement("canvas"),g.view.style.position="fixed",g.view.style.top="-10000px",i.view.appendChild(g.view),s.push(g.view),g.view.width=h,g.view.height=c,g.context=g.view.getContext("2d"),g.dirty=!0,g.scale=a)}),p&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),_(this.layers,function(g){g&&g.visible&&(f.drawImage(g.view,0,0),g.exportableView&&(g.view=g.exportableView,g.exportableView=void 0),g.exportableContext&&(g.context=g.exportableContext,g.exportableContext=void 0),d<g.view.clientWidth&&(d=g.view.clientWidth),b<g.view.clientHeight&&(b=g.view.clientHeight),g.scale=void 0)}),v.style.width=d+"px",v.style.height=b+"px",_(s,function(g){g.style.position="",g.style.top="",i.view.removeChild(g)}),v}}),r}(hi);function mr(o,r){o==null?requestAnimationFrame(r):setTimeout(function(){requestAnimationFrame(r)},1e3/o)}var Xa=function(){function o(r,e,t){if(e===void 0&&(e={}),Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Re}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:fa.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:Wr}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:oa.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:sa.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:ua.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Wt.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Ut.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:vt.new(this,{})}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tooltipRoot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");e.useSafeResolution==null&&(e.useSafeResolution=!0);var i;e.useSafeResolution&&(i=ji()),this._renderer=new Ha(i);var a;if(r instanceof HTMLElement?a=r:a=document.getElementById(r),_(me.rootElements,function(h){if(h.dom===a)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=na.new(this,{}),a===null)throw new Error("Could not find HTML element with id `"+r+"`");this.dom=a;var n=document.createElement("div");n.style.position="relative",n.style.height="100%",a.appendChild(n);var l=e.tooltipContainerBounds;if(l){var s=document.createElement("div");Ve(s,!1);var u=s.style;u.position="absolute",u.top=-l.top+"px",u.left=-l.left+"px",u.width="calc(100% + "+(l.left+l.right)+"px)",u.height="calc(100% + "+(l.top+l.bottom)+"px)",u.zIndex="1",n.appendChild(s),this.tooltipRoot=new o(s,{},!0),this.tooltipRoot._init(),this.tooltipRoot.tooltipContainer.setAll({x:l.left,y:l.top})}this._inner=n,this._updateComputedStyles(),me.rootElements.push(this)}return Object.defineProperty(o,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=new o(r,e,!0);return t._init(),t}}),Object.defineProperty(o.prototype,"moveDOM",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e;if(r instanceof HTMLElement?e=r:e=document.getElementById(r),e){for(;this.dom.childNodes.length>0;)e.appendChild(this.dom.childNodes[0]);this.dom=e,this._initResizeSensor(),this.resize()}}}),Object.defineProperty(o.prototype,"_handleLogo",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this._logo){var r=this.dom.offsetWidth,e=this.dom.offsetHeight;r<=150||e<=60?this._logo.hide():this._logo.show()}}}),Object.defineProperty(o.prototype,"_showBranding",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._logo){var r=this.tooltipContainer.children.push(L.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:ge(100),centerY:k,tooltipText:"Created using amCharts 5",tooltipX:k,cursorOverStyle:"pointer",background:Oe.new(this,{fill:ze(4671320),fillOpacity:0,tooltipY:5})})),e=this.tooltipRoot;e||(e=this);var t=br.new(e,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});t.label.setAll({fontSize:12}),t.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),r.set("tooltip",t),r.events.on("click",function(){window.open("https://www.amcharts.com/","_blank")}),r.states.create("hover",{});var i=r.children.push(re.new(this,{stroke:ze(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"}));i.states.create("hover",{stroke:ze(3976191)});var a=r.children.push(re.new(this,{stroke:ze(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"}));a.states.create("hover",{stroke:ze(4671320)}),this._logo=r,this._handleLogo()}}}),Object.defineProperty(o.prototype,"_init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this,e=this._renderer,t=this.dom.getBoundingClientRect(),i=Math.floor(t.width),a=Math.floor(t.height),n=L.new(this,{visible:!0,width:i,height:a});this._rootContainer=n,this._rootContainer._defaultThemes.push(ha.new(this));var l=n.children.push(L.new(this,{visible:!0,width:k,height:k}));this.container=l,e.resize(i,a),this._inner.appendChild(e.view),this._initResizeSensor(),this._htmlElementContainer=document.createElement("div"),this._htmlElementContainer.style.position="absolute",this._htmlElementContainer.style.pointerEvents="none",this._htmlElementContainer.style.overflow="hidden",this._inner.appendChild(this._htmlElementContainer);var s=document.createElement("div");s.setAttribute("role","alert"),s.style.zIndex="-100000",s.style.opacity="0",s.style.position="absolute",s.style.top="0",this._readerAlertElement=s,this._inner.appendChild(this._readerAlertElement);var u=document.createElement("div");u.style.position="absolute",u.style.pointerEvents="none",u.style.top="0px",u.style.left="0px",u.style.overflow="hidden",u.style.width=i+"px",u.style.height=a+"px",u.setAttribute("role","application"),Ve(u,!1),this._focusElementContainer=u,this._inner.appendChild(this._focusElementContainer),this._tooltipElementContainer=document.createElement("div"),this._inner.appendChild(this._tooltipElementContainer),we("keyboardevents")&&(this._disposers.push(U(window,"keydown",function(h){h.keyCode==16&&(r._isShift=!0)})),this._disposers.push(U(window,"keyup",function(h){h.keyCode==16&&(r._isShift=!1)})),this._disposers.push(U(u,"keydown",function(h){var c=r._focusedSprite;if(c){h.keyCode==27&&(gi(),r._focusedSprite=void 0);var v=0,f=0;switch(h.keyCode){case 13:h.preventDefault();var d=e.getEvent(new MouseEvent("click"));c.events.dispatch("click",{type:"click",originalEvent:d.event,point:d.point,simulated:!0,target:c});return;case 37:v=-6;break;case 39:v=6;break;case 38:f=-6;break;case 40:f=6;break;default:return}if(v!=0||f!=0){if(h.preventDefault(),!c.isDragging()){r._keyboardDragPoint={x:0,y:0};var d=e.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));c.events.isEnabled("pointerdown")&&c.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:d.event,point:d.point,simulated:!0,target:c})}var b=r._keyboardDragPoint;b.x+=v,b.y+=f;var p=e.getEvent(new MouseEvent("mousemove",{clientX:b.x,clientY:b.y}),!1);c.events.isEnabled("globalpointermove")&&c.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:p.event,point:p.point,simulated:!0,target:c})}}})),this._disposers.push(U(u,"keyup",function(h){if(r._focusedSprite){var c=r._focusedSprite,v=h.keyCode;switch(v){case 37:case 39:case 38:case 40:if(c.isDragging()){var f=r._keyboardDragPoint,d=e.getEvent(new MouseEvent("mouseup",{clientX:f.x,clientY:f.y}));c.events.isEnabled("globalpointerup")&&c.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:d.event,point:d.point,simulated:!0,target:c}),r._keyboardDragPoint=void 0;return}else if(c.get("focusableGroup")){var b=c.get("focusableGroup"),p=r._tabindexes.filter(function(m){return m.get("focusableGroup")==b}),g=p.indexOf(c),y=p.length-1;g+=v==39||v==40?1:-1,g<0?g=y:g>y&&(g=0),yi(p[g].getPrivate("focusElement").dom)}break}}}))),this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}}),Object.defineProperty(o.prototype,"_initResizeSensor",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new aa(this.dom,function(){r.autoResize&&r.resize()}),this._disposers.push(this._resizeSensorDisposer)}}),Object.defineProperty(o.prototype,"resize",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this.dom,e=r.getBoundingClientRect(),t=Math.floor(e.width),i=Math.floor(e.height);if(t>0&&i>0){var a=this._htmlElementContainer;a.style.width=t+"px",a.style.height=i+"px";var n=this._focusElementContainer;n.style.width=t+"px",n.style.height=i+"px",this._renderer.resize(t,i);var l=this._rootContainer;l.setPrivate("width",t),l.setPrivate("height",i),this._render(),this._handleLogo()}}}),Object.defineProperty(o.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}}),Object.defineProperty(o.prototype,"_runTickers",{enumerable:!1,configurable:!0,writable:!0,value:function(r){_(this._tickers,function(e){e(r)})}}),Object.defineProperty(o.prototype,"_runAnimations",{enumerable:!1,configurable:!0,writable:!0,value:function(r){Pt(this._animations,function(e){return e._runAnimation(r)})}}),Object.defineProperty(o.prototype,"_runDirties",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var r=this,e={};this._isDirtyParents;)this._isDirtyParents=!1,K(this._dirtyParents).forEach(function(l){var s=r._dirtyParents[l];delete r._dirtyParents[l],s.isDisposed()||(e[s.uid]=s,s._prepareChildren())});K(e).forEach(function(l){e[l]._updateChildren()});var t=[];K(this._dirty).forEach(function(l){var s=r._dirty[l];s.isDisposed()?delete r._dirty[s.uid]:(t.push(s),s._beforeChanged())}),t.forEach(function(l){l._changed(),delete r._dirty[l.uid],l._clearDirty()}),this._isDirty=!1;var i={},a=[];K(this._dirtyBounds).forEach(function(l){var s=r._dirtyBounds[l];delete r._dirtyBounds[l],s.isDisposed()||(i[s.uid]=s.depth(),a.push(s))}),a.sort(function(l,s){return ke(i[s.uid],i[l.uid])}),a.forEach(function(l){l._updateBounds()});var n=this._dirtyPositions;K(n).forEach(function(l){var s=n[l];delete n[l],s.isDisposed()||s._updatePosition()}),t.forEach(function(l){l._afterChanged()})}}),Object.defineProperty(o.prototype,"_renderFrame",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:r}),this._checkComputedStyles(),this._runTickers(r),this._runAnimations(r),this._runDirties(),this._render(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:r}),this._tickers.length===0&&this._animations.length===0&&!this._isDirty}}),Object.defineProperty(o.prototype,"_runTicker",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(!this.isDisposed()){this.animationTime=r;var e=this._renderFrame(r);e?(this._ticker=null,this.animationTime=null):mr(this.fps,this._ticker)}}}),Object.defineProperty(o.prototype,"_runTickerNow",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isDisposed())for(;;){var r=performance.now();this.animationTime=r;var e=this._renderFrame(r);if(e){this.animationTime=null;break}}}}),Object.defineProperty(o.prototype,"_startTicker",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this._ticker===null&&(this.animationTime=null,this._ticker=function(e){r._runTicker(e)},mr(this.fps,this._ticker))}}),Object.defineProperty(o.prototype,"_addDirtyEntity",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._dirty[r.uid]===void 0&&(this._isDirty=!0,this._dirty[r.uid]=r,this._startTicker())}}),Object.defineProperty(o.prototype,"_addDirtyParent",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._dirtyParents[r.uid]===void 0&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[r.uid]=r,this._startTicker())}}),Object.defineProperty(o.prototype,"_addDirtyBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._dirtyBounds[r.uid]===void 0&&(this._isDirty=!0,this._dirtyBounds[r.uid]=r,this._startTicker())}}),Object.defineProperty(o.prototype,"_addDirtyPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._dirtyPositions[r.uid]===void 0&&(this._isDirty=!0,this._dirtyPositions[r.uid]=r,this._startTicker())}}),Object.defineProperty(o.prototype,"_addAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._animations.indexOf(r)===-1&&(this._animations.push(r),this._startTicker())}}),Object.defineProperty(o.prototype,"_markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._isDirty=!0}}),Object.defineProperty(o.prototype,"_markDirtyRedraw",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this.events.once("frameended",function(){r._isDirty=!0,r._startTicker()})}}),Object.defineProperty(o.prototype,"eachFrame",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;return this._tickers.push(r),this._startTicker(),new Z(function(){se(e._tickers,r)})}}),Object.defineProperty(o.prototype,"markDirtyGlobal",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;r||(r=this.container),console.log(this.width()),r.walkChildren(function(t){t instanceof L&&e.markDirtyGlobal(t),t.markDirty(),t.markDirtyBounds()})}}),Object.defineProperty(o.prototype,"width",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Math.floor(this.dom.getBoundingClientRect().width)}}),Object.defineProperty(o.prototype,"height",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Math.floor(this.dom.getBoundingClientRect().height)}}),Object.defineProperty(o.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._isDisposed){this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),_(this._disposers,function(e){e.dispose()}),this._inner&&vi(this._inner);var r=this.tooltipRoot;r&&r.dispose(),de(me.rootElements,this)}}}),Object.defineProperty(o.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isDisposed}}),Object.defineProperty(o.prototype,"readerAlert",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._readerAlertElement.innerHTML=ir(r)}}),Object.defineProperty(o.prototype,"setThemes",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._rootContainer.set("themes",r);var e=this.tooltipRoot;e&&(e._rootContainer.set("themes",r),e.tooltipContainer._applyThemes());var t=this.tooltipContainer;t&&t._applyThemes();var i=this.interfaceColors;i&&i._applyThemes()}}),Object.defineProperty(o.prototype,"_addTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.tooltipContainer){var r=this._rootContainer.children.push(L.new(this,{position:"absolute",isMeasured:!1,width:k,height:k,layer:30}));this.tooltipContainer=r;var e=this.tooltipRoot;e||(e=this);var t=br.new(e,{});this.container.set("tooltip",t),t.hide(0),this._tooltip=t}}}),Object.defineProperty(o.prototype,"_registerTabindexOrder",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r.get("focusable")?tt(this._tabindexes,r):de(this._tabindexes,r),this._invalidateTabindexes()}}),Object.defineProperty(o.prototype,"_unregisterTabindexOrder",{enumerable:!1,configurable:!0,writable:!0,value:function(r){de(this._tabindexes,r),this._invalidateTabindexes()}}),Object.defineProperty(o.prototype,"_invalidateTabindexes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this._tabindexes.sort(function(t,i){var a=t.get("tabindexOrder",0),n=i.get("tabindexOrder",0);return a==n?0:a>n?1:-1});var e=[];_(this._tabindexes,function(t,i){t.getPrivate("focusElement")?r._moveFocusElement(i,t):r._makeFocusElement(i,t);var a=t.get("focusableGroup");a&&(e.indexOf(a)!==-1?t.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(a))})}}),Object.defineProperty(o.prototype,"_updateCurrentFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}}),Object.defineProperty(o.prototype,"_decorateFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){if(e||(e=r.getPrivate("focusElement").dom),!!e){r.get("visible")&&r.get("role")!="tooltip"&&!r.isHidden()?e.getAttribute("tabindex")!="-1"&&e.setAttribute("tabindex",""+this.tabindex):e.removeAttribute("tabindex");var t=r.get("role");t?e.setAttribute("role",t):e.removeAttribute("role");var i=r.get("ariaLabel");if(i){var a=rt(r,i);e.setAttribute("aria-label",a)}else e.removeAttribute("aria-label");var n=r.get("ariaLive");n?e.setAttribute("aria-live",n):e.removeAttribute("aria-live");var l=r.get("ariaChecked");l!=null?e.setAttribute("aria-checked",l?"true":"false"):e.removeAttribute("aria-checked"),r.get("ariaHidden")?e.setAttribute("aria-hidden","hidden"):e.removeAttribute("aria-hidden");var s=r.get("ariaOrientation");s?e.setAttribute("aria-orientation",s):e.removeAttribute("aria-orientation");var u=r.get("ariaValueNow");u?e.setAttribute("aria-valuenow",u):e.removeAttribute("aria-valuenow");var h=r.get("ariaValueMin");h?e.setAttribute("aria-valuemin",h):e.removeAttribute("aria-valuemin");var c=r.get("ariaValueMax");c?e.setAttribute("aria-valuemax",c):e.removeAttribute("aria-valuemax");var v=r.get("ariaValueText");v?e.setAttribute("aria-valuetext",v):e.removeAttribute("aria-valuetext");var f=r.get("ariaControls");f?e.setAttribute("aria-controls",f):e.removeAttribute("aria-controls")}}}),Object.defineProperty(o.prototype,"_makeFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this;if(!e.getPrivate("focusElement")){var i=document.createElement("div");e.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",Ve(i,!1);var a=[];e.setPrivate("focusElement",{dom:i,disposers:a}),this._decorateFocusElement(e),a.push(U(i,"focus",function(n){t._handleFocus(n,r)})),a.push(U(i,"blur",function(n){t._handleBlur(n,r)})),this._moveFocusElement(r,e)}}}),Object.defineProperty(o.prototype,"_removeFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){de(this._tabindexes,r);var e=r.getPrivate("focusElement");if(e){var t=this._focusElementContainer;t.removeChild(e.dom),_(e.disposers,function(i){i.dispose()})}}}),Object.defineProperty(o.prototype,"_hideFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.getPrivate("focusElement");e.dom.style.display="none"}}),Object.defineProperty(o.prototype,"_moveFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._focusElementContainer,i=e.getPrivate("focusElement").dom;if(i!==this._focusElementContainer.children[r]){var a=this._focusElementContainer.children[r+1];a?t.insertBefore(i,a):t.append(i)}}}),Object.defineProperty(o.prototype,"_positionFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.globalBounds(),t=e.right==e.left?r.width():e.right-e.left,i=e.top==e.bottom?r.height():e.bottom-e.top,a=r.getPrivate("focusElement").dom;a.style.top=e.top-2+"px",a.style.left=e.left-2+"px",a.style.width=t+4+"px",a.style.height=i+4+"px"}}),Object.defineProperty(o.prototype,"_handleFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._tabindexes[e];if(!t.isVisibleDeep()){this._focusNext(r.target,this._isShift?-1:1);return}this._positionFocusElement(t),this._focusedSprite=t,t.events.isEnabled("focus")&&t.events.dispatch("focus",{type:"focus",originalEvent:r,target:t})}}),Object.defineProperty(o.prototype,"_focusNext",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(","))),i=t.indexOf(r)+e;i<0?i=t.length-1:i>=t.length&&(i=0),t[i].focus()}}),Object.defineProperty(o.prototype,"_handleBlur",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._focusedSprite;t&&t.events.isEnabled("blur")&&t.events.dispatch("blur",{type:"blur",originalEvent:r,target:t}),this._focusedSprite=void 0}}),Object.defineProperty(o.prototype,"updateTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=ir(r._getText()),t=r.getPrivate("tooltipElement");r.get("role")=="tooltip"&&e!=""?(t||(t=this._makeTooltipElement(r)),t.innerHTML!=e&&(t.innerHTML=e)):t&&(t.remove(),r.removePrivate("tooltipElement"))}}),Object.defineProperty(o.prototype,"_makeTooltipElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._tooltipElementContainer,t=document.createElement("div");return t.style.position="absolute",t.style.top="-1000000px",t.style.opacity="0.0000001",Ve(t,!1),this._decorateFocusElement(r,t),e.append(t),r.setPrivate("tooltipElement",t),t}}),Object.defineProperty(o.prototype,"_invalidateAccessibility",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._focusElementDirty=!0;var e=r.getPrivate("focusElement");r.get("focusable")?e&&(this._decorateFocusElement(r),this._positionFocusElement(r)):e&&this._removeFocusElement(r)}}),Object.defineProperty(o.prototype,"focused",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._focusedSprite===r}}),Object.defineProperty(o.prototype,"documentPointToRoot",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this.dom.getBoundingClientRect();return{x:r.x-e.left,y:r.y-e.top}}}),Object.defineProperty(o.prototype,"rootPointToDocument",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this.dom.getBoundingClientRect();return{x:r.x+e.left,y:r.y+e.top}}}),Object.defineProperty(o.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._disposers.push(r),r}}),Object.defineProperty(o.prototype,"_updateComputedStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=window.getComputedStyle(this.dom),e="";X(r,function(i,a){Ie(i)&&i.match(/^font/)&&(e+=a)});var t=e!=this._fontHash;return t&&(this._fontHash=e),t}}),Object.defineProperty(o.prototype,"_checkComputedStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}}),Object.defineProperty(o.prototype,"_invalidateLabelBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;r instanceof L?r.children.each(function(t){e._invalidateLabelBounds(t)}):r instanceof Gr&&r.markDirtyBounds()}}),Object.defineProperty(o.prototype,"_hasLicense",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var r=0;r<me.licenses.length;r++)if(me.licenses[r].match(/^AM5C.{5,}/i))return!0;return!1}}),Object.defineProperty(o.prototype,"_licenseApplied",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._logo&&this._logo.set("forceHidden",!0)}}),Object.defineProperty(o.prototype,"debugGhostView",{get:function(){return this._renderer.debugGhostView},set:function(r){this._renderer.debugGhostView=r},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tapToActivate",{get:function(){return this._renderer.tapToActivate},set:function(r){this._renderer.tapToActivate=r},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tapToActivateTimeout",{get:function(){return this._renderer.tapToActivateTimeout},set:function(r){this._renderer.tapToActivateTimeout=r},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_makeHTMLElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this,t=this._htmlElementContainer,i=document.createElement("div");return r.setPrivate("htmlElement",i),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",Ve(i,!0),r.events.isEnabled("click")&&this._disposers.push(U(i,"click",function(a){var n=e._renderer.getEvent(a);r.events.dispatch("click",{type:"click",originalEvent:n.event,point:n.point,simulated:!1,target:r})})),this._positionHTMLElement(r),t.append(i),tt(this._htmlEnabledContainers,r),i}}),Object.defineProperty(o.prototype,"_positionHTMLElements",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;_(this._htmlEnabledContainers,function(e){r._positionHTMLElement(e)})}}),Object.defineProperty(o.prototype,"_positionHTMLElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.getPrivate("htmlElement");if(e){var t=["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"];_(t,function(v){var f=r.get(v);f?e.style[v]=f+"px":e.style[v]=""});var i=r.compositeOpacity();setTimeout(function(){e.style.opacity=i+""},10);var a=r.isVisibleDeep();a&&(e.style.display="block");var n=r.globalBounds();e.style.top=n.top+"px",e.style.left=n.left+"px";var l=r.get("width"),s=r.get("height"),u=0,h=0;if(l&&(u=r.width()),s&&(h=r.height()),!l||!s){e.style.width="",e.style.height="";var c=e.getBoundingClientRect();u=c.width,h=c.height,r._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},r.setPrivate("minWidth",u),r.setPrivate("minHeight",h)}else r.removePrivate("minWidth"),r.removePrivate("minHeight");u>0&&(e.style.minWidth=u+"px"),h>0&&(e.style.minHeight=h+"px"),(!a||i==0)&&(e.style.display="none")}}}),Object.defineProperty(o.prototype,"_setHTMLContent",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=r.getPrivate("htmlElement");t||(t=this._makeHTMLElement(r)),t.innerHTML!=e&&(t.innerHTML=e)}}),Object.defineProperty(o.prototype,"_removeHTMLContent",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.getPrivate("htmlElement");e&&this._htmlElementContainer.removeChild(e),de(this._htmlEnabledContainers,r)}}),o}(),it=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.width(),t=this.height(),i=e,a=t,n=i/Math.abs(e),l=a/Math.abs(t);if(P(i)&&P(a)){var s=Math.min(i,a)/2,u=ee(this.get("cornerRadiusTL",8),s),h=ee(this.get("cornerRadiusTR",8),s),c=ee(this.get("cornerRadiusBR",8),s),v=ee(this.get("cornerRadiusBL",8),s),f=Math.min(Math.abs(i/2),Math.abs(a/2));u=W(u,0,f),h=W(h,0,f),c=W(c,0,f),v=W(v,0,f),this._display.moveTo(u*n,0),this._display.lineTo(i-h*n,0),h>0&&this._display.arcTo(i,0,i,h*l,h),this._display.lineTo(i,a-c*l),c>0&&this._display.arcTo(i,a,i-c*n,a,c),this._display.lineTo(v*n,a),v>0&&this._display.arcTo(0,a,0,a-v*l,v),this._display.lineTo(0,u*l),u>0&&this._display.arcTo(0,0,u*n,0,u)}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Oe.classNames.concat([r.className])}),r}(Oe),Va=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=Y(this._settings.themeTags,["button"]),o.prototype._afterNew.call(this),this._settings.background||this.set("background",it.new(this._root,{themeTags:Y(this._settings.themeTags,["background"])}))}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._prepareChildren.call(this),this.isDirty("icon")){var e=this._prevSettings.icon,t=this.get("icon");t!==e&&(this._disposeProperty("icon"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.icon=t)}if(this.isDirty("label")){var e=this._prevSettings.label,i=this.get("label");i!==e&&(this._disposeProperty("label"),e&&e.dispose(),i&&this.children.push(i),this._prevSettings.label=i)}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:L.classNames.concat([r.className])}),r}(L),za=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"incrementRef",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"decrementRef",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_onPush",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.processor&&this.processor.processRow(e),o.prototype._onPush.call(this,e)}}),Object.defineProperty(r.prototype,"_onInsertIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.processor&&this.processor.processRow(t),o.prototype._onInsertIndex.call(this,e,t)}}),Object.defineProperty(r.prototype,"_onSetIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.processor&&this.processor.processRow(i),o.prototype._onSetIndex.call(this,e,t,i)}}),r}(He),Fe=function(o){A(r,o);function r(e,t,i){var a=o.call(this,i)||this;return Object.defineProperty(a,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.dataContext=t,a.component=e,a._settings.visible=!0,a._checkDirty(),a}return Object.defineProperty(r.prototype,"markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.component.markDirtyValues(this)}}),Object.defineProperty(r.prototype,"_startAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.component._root._addAnimation(this)}}),Object.defineProperty(r.prototype,"_animationTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.component._root.animationTime}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.component&&this.component.disposeDataItem(this),o.prototype._dispose.call(this)}}),Object.defineProperty(r.prototype,"show",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}}),Object.defineProperty(r.prototype,"hide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}}),Object.defineProperty(r.prototype,"isHidden",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!this.get("visible")}}),r}(zr),gt=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new za}),Object.defineProperty(e,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:e._dataItems}),Object.defineProperty(e,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(e,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(e){e.incrementRef(),this._data.decrementRef(),this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._dispose.call(this),this._data.decrementRef()}}),Object.defineProperty(r.prototype,"_onDataClear",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._afterNew.call(this),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(function(t){var i=e._mainDataItems;if(e.markDirtyValues(),e._markDirtyGroup(),e._dataChanged=!0,t.type==="clear")_(i,function(s){s.dispose()}),i.length=0,e._onDataClear();else if(t.type==="push"){var a=new Fe(e,t.newValue,e._makeDataItem(t.newValue));i.push(a),e.processDataItem(a)}else if(t.type==="setIndex"){var n=i[t.index],l=e._makeDataItem(t.newValue);K(l).forEach(function(s){n.animate({key:s,to:l[s],duration:e.get("interpolationDuration",0),easing:e.get("interpolationEasing")})}),n.dataContext=t.newValue}else if(t.type==="insertIndex"){var a=new Fe(e,t.newValue,e._makeDataItem(t.newValue));i.splice(t.index,0,a),e.processDataItem(a)}else if(t.type==="removeIndex"){var a=i[t.index];a.dispose(),i.splice(t.index,1)}else if(t.type==="moveIndex"){var a=i[t.oldIndex];i.splice(t.oldIndex,1),i.splice(t.newIndex,0,a)}else throw new Error("Unknown IStreamEvent type");e._afterDataChange()}))}}),Object.defineProperty(r.prototype,"_updateFields",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.valueFields&&(this._valueFields=[],this._valueFieldsF={},_(this.valueFields,function(t){var i=e.get(t+"Field");i&&(e._valueFields.push(t),e._valueFieldsF[t]={fieldKey:t+"Field",workingKey:t+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},_(this.fields,function(t){var i=e.get(t+"Field");i&&(e._fields.push(t),e._fieldsF[t]=t+"Field")}))}}),Object.defineProperty(r.prototype,"dataItems",{get:function(){return this._dataItems},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"processDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_makeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i={};return this._valueFields&&_(this._valueFields,function(a){var n=t.get(t._valueFieldsF[a].fieldKey);i[a]=e[n],i[t._valueFieldsF[a].workingKey]=i[a]}),this._fields&&_(this._fields,function(a){var n=t.get(t._fieldsF[a]);i[a]=e[n]}),i}}),Object.defineProperty(r.prototype,"makeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=new Fe(this,void 0,e);return this.processDataItem(t),t}}),Object.defineProperty(r.prototype,"pushDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.makeDataItem(e);return this._mainDataItems.push(t),t}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){return J(this,function(i){return e.set("visible",!0),[2]})})}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){return J(this,function(i){return e.set("visible",!1),[2]})})}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._clearDirty.call(this),this._valuesDirty=!1}}),Object.defineProperty(r.prototype,"_afterDataChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._afterChanged.call(this),this._dataChanged){var e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}}),Object.defineProperty(r.prototype,"markDirtyValues",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.markDirty(),this._valuesDirty=!0}}),Object.defineProperty(r.prototype,"_markDirtyGroup",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dataGrouped=!1}}),Object.defineProperty(r.prototype,"markDirtySize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._sizeDirty=!0,this.markDirty()}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:L.classNames.concat([r.className])}),r}(L);function Ga(o){return new Promise(function(r,e){setTimeout(r,o)})}var Ua={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function Ge(o,r){return r==null&&(r=1),Ua[o]*r}function Zt(o,r,e,t,i,a,n){if(!n||i){var l=0;switch(!i&&r!="millisecond"&&(l=o.getTimezoneOffset(),o.setUTCMinutes(o.getUTCMinutes()-l)),r){case"day":var s=o.getUTCDate();if(e>1){if(a){a=Zt(a,"day",1);var u=o.getTime()-a.getTime(),h=Math.floor(u/Ge("day")/e),c=Ge("day",h*e);o.setTime(a.getTime()+c-l*Ge("minute"))}}else o.setUTCDate(s);o.setUTCHours(0,0,0,0);break;case"second":var v=o.getUTCSeconds();e>1&&(v=Math.floor(v/e)*e),o.setUTCSeconds(v,0);break;case"millisecond":if(e==1)return o;var f=o.getUTCMilliseconds();f=Math.floor(f/e)*e,o.setUTCMilliseconds(f);break;case"hour":var d=o.getUTCHours();e>1&&(d=Math.floor(d/e)*e),o.setUTCHours(d,0,0,0);break;case"minute":var b=o.getUTCMinutes();f=o.getUTCMilliseconds(),e>1&&(b=Math.floor(b/e)*e),o.setUTCMinutes(b,0,0);break;case"month":var p=o.getUTCMonth();e>1&&(p=Math.floor(p/e)*e),o.setUTCMonth(p,1),o.setUTCHours(0,0,0,0);break;case"year":var g=o.getUTCFullYear();e>1&&(g=Math.floor(g/e)*e),o.setUTCFullYear(g,0,1),o.setUTCHours(0,0,0,0);break;case"week":var y=o.getUTCDate(),m=o.getUTCDay();P(t)||(t=1),m>=t?y=y-m+t:y=y-(7+m)+t,o.setUTCDate(y),o.setUTCHours(0,0,0,0);break}if(!i&&r!="millisecond"&&(o.setUTCMinutes(o.getUTCMinutes()+l),r=="day"||r=="week"||r=="month"||r=="year")){var j=o.getTimezoneOffset();if(j!=l){var C=j-l;o.setUTCMinutes(o.getUTCMinutes()+C)}}return o}else{if(isNaN(o.getTime()))return o;var x=n.offsetUTC(o),l=o.getTimezoneOffset(),T=n.parseDate(o),g=T.year,p=T.month,s=T.day,O=T.hour,w=T.minute,D=T.second,S=T.millisecond,M=T.weekday;switch(r){case"day":if(e>1&&a){a=Zt(a,"day",1,t,i,void 0,n);var u=o.getTime()-a.getTime(),h=Math.floor(u/Ge("day")/e),c=Ge("day",h*e);o.setTime(a.getTime()+c),T=n.parseDate(o),g=T.year,p=T.month,s=T.day}O=0,w=x-l,D=0,S=0;break;case"second":w+=x-l,e>1&&(D=Math.floor(D/e)*e),S=0;break;case"millisecond":w+=x-l,e>1&&(S=Math.floor(S/e)*e);break;case"hour":e>1&&(O=Math.floor(O/e)*e),w=x-l,D=0,S=0;break;case"minute":e>1&&(w=Math.floor(w/e)*e),w+=x-l,D=0,S=0;break;case"month":e>1&&(p=Math.floor(p/e)*e),s=1,O=0,w=x-l,D=0,S=0;break;case"year":e>1&&(g=Math.floor(g/e)*e),p=0,s=1,O=0,w=x-l,D=0,S=0;break;case"week":P(t)||(t=1),M>=t?s=s-M+t:s=s-(7+M)+t,O=0,w=x-l,D=0,S=0;break}o=new Date(g,p,s,O,w,D,S);var B=o.getTimezoneOffset();return B!=l&&o.setTime(o.getTime()+(l-B)*6e4),o}}var yt=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new He}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:L.new(e._root,{width:k,height:k,position:"absolute"})}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.valueFields.push("value"),o.prototype._afterNew.call(this),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(function(t){if(t.type==="clear")e._handleBullets(e.dataItems);else if(t.type==="push")e._handleBullets(e.dataItems);else if(t.type==="setIndex")e._handleBullets(e.dataItems);else if(t.type==="insertIndex")e._handleBullets(e.dataItems);else if(t.type==="removeIndex")e._handleBullets(e.dataItems);else if(t.type==="moveIndex")e._handleBullets(e.dataItems);else throw new Error("Unknown IListEvent type")}))}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.bulletsContainer.dispose(),o.prototype._dispose.call(this)}}),Object.defineProperty(r.prototype,"startIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}}),Object.defineProperty(r.prototype,"endIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}}),Object.defineProperty(r.prototype,"_handleBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){_(e,function(t){var i=t.bullets;i&&(_(i,function(a){a.dispose()}),t.bullets=void 0)}),this.markDirtyValues()}}),Object.defineProperty(r.prototype,"getDataItemById",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Mr(this.dataItems,function(t){return t.get("id")==e})}}),Object.defineProperty(r.prototype,"_makeBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(function(i){t._makeBullet(e,i)}))}}),Object.defineProperty(r.prototype,"_shouldMakeBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!0}}),Object.defineProperty(r.prototype,"_makeBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=t(this._root,this,e);if(a){var n=a.get("sprite");n&&(n._setDataItem(e),n.setRaw("position","absolute"),this.bulletsContainer.children.push(n)),a._index=i,a.series=this,e.bullets.push(a)}return a}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._clearDirty.call(this),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._prepareChildren.call(this);var t=this.startIndex(),i=this.endIndex();if(this.isPrivateDirty("baseValueSeries")){var a=this.getPrivate("baseValueSeries");a&&this._disposers.push(a.onPrivate("startIndex",function(){e.markDirtyValues()}))}var n=this.get("calculateAggregates");if(n&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0)),(this._psi!=t||this._pei!=i)&&!this._selectionAggregatesCalculated&&(t===0&&i===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(t,i),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){var l=this.get("tooltip");l&&(l.hide(0),l.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){var s=void 0,u=this.get("legendDataItem");if(u&&(s=u.get("markerRectangle"),s&&this.isVisible())){if(this.isDirty("stroke")){var h=this.get("stroke");s.set("stroke",h)}if(this.isDirty("fill")){var c=this.get("fill");s.set("fill",c)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){var v=this.startIndex(),f=this.endIndex();f<this.dataItems.length&&f++;for(var d=v;d<f;d++){var b=this.dataItems[d];b.bullets||this._makeBullets(b)}}}}),Object.defineProperty(r.prototype,"_calculateAggregates",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=this._valueFields;if(!a)throw new Error("No value fields are set for the series.");var n={},l={},s={},u={},h={},c={},v={},f={},d={};_(a,function(b){n[b]=0,l[b]=0,s[b]=0}),_(a,function(b){var p=b+"Change",g=b+"ChangePercent",y=b+"ChangePrevious",m=b+"ChangePreviousPercent",j=b+"ChangeSelection",C=b+"ChangeSelectionPercent",x="valueY";(b=="valueX"||b=="openValueX"||b=="lowValueX"||b=="highValueX")&&(x="valueX");for(var T=i.getPrivate("baseValueSeries"),O=e;O<t;O++){var w=i.dataItems[O],D=w.get(b);D!=null&&(s[b]++,n[b]+=D,l[b]+=Math.abs(D),f[b]=n[b]/s[b],(u[b]>D||u[b]==null)&&(u[b]=D),(h[b]<D||h[b]==null)&&(h[b]=D),v[b]=D,c[b]==null&&(c[b]=D,d[b]=D,T&&(c[x]=T._getBase(x))),e===0&&(w.setRaw(p,D-c[x]),w.setRaw(g,(D-c[x])/c[x]*100)),w.setRaw(y,D-d[x]),w.setRaw(m,(D-d[x])/d[x]*100),w.setRaw(j,D-c[x]),w.setRaw(C,(D-c[x])/c[x]*100),d[b]=D)}}),_(a,function(b){i.setPrivate(b+"AverageSelection",f[b]),i.setPrivate(b+"CountSelection",s[b]),i.setPrivate(b+"SumSelection",n[b]),i.setPrivate(b+"AbsoluteSumSelection",l[b]),i.setPrivate(b+"LowSelection",u[b]),i.setPrivate(b+"HighSelection",h[b]),i.setPrivate(b+"OpenSelection",c[b]),i.setPrivate(b+"CloseSelection",v[b])}),e===0&&t===this.dataItems.length&&_(a,function(b){i.setPrivate(b+"Average",f[b]),i.setPrivate(b+"Count",s[b]),i.setPrivate(b+"Sum",n[b]),i.setPrivate(b+"AbsoluteSum",l[b]),i.setPrivate(b+"Low",u[b]),i.setPrivate(b+"High",h[b]),i.setPrivate(b+"Open",c[b]),i.setPrivate(b+"Close",v[b])})}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._updateChildren.call(this),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible")),this._valuesDirty&&this.get("heatRules")!=null){var t=this.get("heatRules",[]);_(t,function(s){var u=s.minValue||e.getPrivate(s.dataField+"Low")||0,h=s.maxValue||e.getPrivate(s.dataField+"High")||0;_(s.target._entities,function(c){var v=c.dataItem.get(s.dataField);if(!!P(v)){var f;s.logarithmic?f=(Math.log(v)*Math.LOG10E-Math.log(u)*Math.LOG10E)/(Math.log(h)*Math.LOG10E-Math.log(u)*Math.LOG10E):f=(v-u)/(h-u),P(v)&&(!P(f)||Math.abs(f)==1/0)&&(f=.5);var d;P(s.min)?d=s.min+(s.max-s.min)*f:s.min instanceof E?d=E.interpolate(f,s.min,s.max):s.min instanceof I&&(d=Nr(f,s.min,s.max)),s.customFunction?s.customFunction.call(e,c,u,h,v):c.set(s.key,d)}})})}if(this.bullets.length>0){var i=this.dataItems.length,a=this.startIndex(),n=this.endIndex();n<i&&n++,a>0&&a--;for(var l=0;l<a;l++)this._hideBullets(this.dataItems[l]);for(var l=a;l<n;l++)this._positionBullets(this.dataItems[l]);for(var l=n;l<i;l++)this._hideBullets(this.dataItems[l])}}}),Object.defineProperty(r.prototype,"_positionBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;e.bullets&&_(e.bullets,function(i){t._positionBullet(i);var a=i.get("sprite");i.get("dynamic")&&(a&&(a._markDirtyKey("fill"),a.markDirtySize()),a instanceof L&&a.walkChildren(function(n){n._markDirtyKey("fill"),n.markDirtySize(),n instanceof Me&&n.text.markDirtyText()})),a instanceof Me&&a.get("populateText")&&a.text.markDirtyText()})}}),Object.defineProperty(r.prototype,"_hideBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.bullets&&_(e.bullets,function(t){var i=t.get("sprite");i&&i.setPrivate("visible",!1)})}}),Object.defineProperty(r.prototype,"_positionBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_placeBulletsContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}}),Object.defineProperty(r.prototype,"_removeBulletsContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.bullets;t&&_(t,function(i){i.dispose()})}}),Object.defineProperty(r.prototype,"_getItemReaderLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(){return""}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){var i,a;return J(this,function(n){switch(n.label){case 0:return i=[o.prototype.showDataItem.call(this,e,t)],a=e.bullets,a&&_(a,function(l){i.push(l.get("sprite").show(t))}),[4,Promise.all(i)];case 1:return n.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){var i,a;return J(this,function(n){switch(n.label){case 0:return i=[o.prototype.hideDataItem.call(this,e,t)],a=e.bullets,a&&_(a,function(l){i.push(l.get("sprite").hide(t))}),[4,Promise.all(i)];case 1:return n.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"_sequencedShowHide",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){var i,a,n=this;return J(this,function(l){switch(l.label){case 0:return this.get("sequencedInterpolation")?(P(t)||(t=this.get("interpolationDuration",0)),t>0?(i=this.startIndex(),a=this.endIndex(),[4,Promise.all(Nt(this.dataItems,function(s,u){return te(n,void 0,void 0,function(){var h,c;return J(this,function(v){switch(v.label){case 0:return h=t||0,(u<i-10||u>a+10)&&(h=0),c=this.get("sequencedDelay",0)+h/(a-i),[4,Ga(c*(u-i))];case 1:return v.sent(),e?[4,this.showDataItem(s,h)]:[3,3];case 2:return v.sent(),[3,5];case 3:return[4,this.hideDataItem(s,h)];case 4:v.sent(),v.label=5;case 5:return[2]}})})}))]):[3,2]):[3,4];case 1:return l.sent(),[3,4];case 2:return[4,Promise.all(Nt(this.dataItems,function(s){return e?n.showDataItem(s,0):n.hideDataItem(s,0)}))];case 3:l.sent(),l.label=4;case 4:return[2]}})})}}),Object.defineProperty(r.prototype,"updateLegendValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("legendDataItem");if(t){var i=t.get("valueLabel");if(i){var a=i.text,n="";i._setDataItem(e),n=this.get("legendValueText",a.get("text","")),i.set("text",n),a.markDirtyText()}var l=t.get("label");if(l){var a=l.text,n="";l._setDataItem(e),n=this.get("legendLabelText",a.get("text","")),l.set("text",n),a.markDirtyText()}}}}),Object.defineProperty(r.prototype,"updateLegendMarker",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_onHide",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._onHide.call(this);var e=this.getTooltip();e&&e.hide()}}),Object.defineProperty(r.prototype,"hoverDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"unhoverDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_getBase",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.dataItems[this.startIndex()];return t?t.get(e):0}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gt.classNames.concat([r.className])}),r}(gt),Wa=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return L._new(e._root,{themeTags:Y(e.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:Y(e.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:it.new(e._root,{themeTags:Y(e.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:Y(e.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[e.itemContainers.template])})}),Object.defineProperty(e,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return L._new(e._root,{themeTags:Y(e.markers.template.get("themeTags",[]),["legend","marker"])},[e.markers.template])})}),Object.defineProperty(e,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return Me._new(e._root,{themeTags:Y(e.labels.template.get("themeTags",[]),["legend","label"])},[e.labels.template])})}),Object.defineProperty(e,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return Me._new(e._root,{themeTags:Y(e.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[e.valueLabels.template])})}),Object.defineProperty(e,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return it._new(e._root,{themeTags:Y(e.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[e.markerRectangles.template])})}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=Y(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),o.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"makeItemContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.children.push(this.itemContainers.make());return t._setDataItem(e),this.itemContainers.push(t),t.states.create("disabled",{}),t}}),Object.defineProperty(r.prototype,"makeMarker",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}}),Object.defineProperty(r.prototype,"makeLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.labels.make();return e.states.create("disabled",{}),e}}),Object.defineProperty(r.prototype,"makeValueLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.valueLabels.make();return e.states.create("disabled",{}),e}}),Object.defineProperty(r.prototype,"makeMarkerRectangle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.markerRectangles.make();return e.states.create("disabled",{}),e}}),Object.defineProperty(r.prototype,"processDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;o.prototype.processDataItem.call(this,e);var i=this.makeItemContainer(e),a=this.get("nameField"),n=this.get("fillField"),l=this.get("strokeField");if(i){var s=this.get("clickTarget","itemContainer"),u=e.dataContext;u&&u.set&&u.set("legendDataItem",e),i._setDataItem(e),e.set("itemContainer",i);var h=this.makeMarker();if(h){i.children.push(h),h._setDataItem(e),e.set("marker",h);var c=this.get("useDefaultMarker"),v=h.children.push(this.makeMarkerRectangle()),f=e.get("fill"),d=e.get("stroke");e.set("markerRectangle",v),u&&u.get&&(f=u.get(n,f),d=u.get(l,d)),d||(d=f),c?u.on&&(u.on(n,function(){v.set("fill",u.get(n))}),u.on(l,function(){v.set("stroke",u.get(l))})):u&&u.createLegendMarker&&u.createLegendMarker(),v.setAll({fill:f,stroke:d});var b=u.component;b&&b.updateLegendMarker&&b.updateLegendMarker(u)}var p=this.makeLabel();if(p){i.children.push(p),p._setDataItem(e),e.set("label",p),p.text.on("text",function(){i.set("ariaLabel",p.text._getText()+"; "+t._t("Press ENTER to toggle"))}),u&&u.get&&e.set("name",u.get(a));var g=e.get("name");g&&p.set("text",g)}var y=this.makeValueLabel();if(y&&(i.children.push(y),y._setDataItem(e),e.set("valueLabel",y)),u&&u.show&&(this._disposers.push(u.on("visible",function(j){i.set("disabled",!j)})),u.get("visible")||i.set("disabled",!0),s!="none")){var m=i;s=="marker"&&(m=h),this._addClickEvents(m,u,e)}this.children.values.sort(function(j,C){var x=j.dataItem.dataContext,T=C.dataItem.dataContext;if(x&&T){var O=t.data.indexOf(x),w=t.data.indexOf(T);if(O>w)return 1;if(O<w)return-1}return 0})}}}),Object.defineProperty(r.prototype,"_addClickEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;e.set("cursorOverStyle","pointer"),e.events.on("pointerover",function(){var n=t.component;n&&n.hoverDataItem&&n.hoverDataItem(t)}),e.events.on("pointerout",function(){var n=t.component;n&&n.hoverDataItem&&n.unhoverDataItem(t)}),e.events.on("click",function(){var n=i.get("label").text._getText();t.show&&t.isHidden&&(t.isHidden()||t.get("visible")===!1)?(t.show(),e.set("disabled",!1),a._root.readerAlert(a._t("%1 shown",a._root.locale,n))):t.hide&&(t.hide(),e.set("disabled",!0),a._root.readerAlert(a._t("%1 hidden",a._root.locale,n)))})}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype.disposeDataItem.call(this,e);var t=e.dataContext;if(t&&t.get){var i=t.get("legendDataItem");i==e&&t.set("legendDataItem",void 0)}var a=e.get("itemContainer");a&&(this.itemContainers.removeValue(a),a.dispose());var n=e.get("marker");n&&(this.markers.removeValue(n),n.dispose());var l=e.get("markerRectangle");l&&(this.markerRectangles.removeValue(l),l.dispose());var s=e.get("label");s&&(this.labels.removeValue(s),s.dispose());var u=e.get("valueLabel");u&&(this.valueLabels.removeValue(u),u.dispose())}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yt.classNames.concat([r.className])}),r}(yt);function _r(o,r){for(var e=0,t=r.length;e<t;e++){var i=r[e];if(i.length>0){var a=i[0];if(a.length>0){var n=a[0];o.moveTo(n.x,n.y);for(var l=0,s=i.length;l<s;l++)Ka(o,i[l])}}}}function Ka(o,r){for(var e=0,t=r.length;e<t;e++){var i=r[e];o.lineTo(i.x,i.y)}}var wr=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._changed.call(this),this._clear){var e=this.get("points"),t=this.get("segments");if(e&&e.length>0){var i=e[0];this._display.moveTo(i.x,i.y),_r(this._display,[[e]])}else if(t)_r(this._display,t);else if(!this.get("draw")){var a=this.width(),n=this.height();this._display.moveTo(0,0),this._display.lineTo(a,n)}}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),Pr=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(L.new(e._root,{width:k,height:k,interactiveChildren:!1}))}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:L.new(e._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:k,height:k})}),e}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:L.classNames.concat([r.className])}),r}(L),Or=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:L.new(e._root,{width:k,height:k,isMeasured:!1})}),Object.defineProperty(e,"series",{enumerable:!0,configurable:!0,writable:!0,value:new pt}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._afterNew.call(this),this._disposers.push(this.series);var t=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(function(i){if(i.type==="clear"){_(i.oldValues,function(n){e._removeSeries(n)});var a=e.get("colors");a&&a.reset()}else if(i.type==="push")t.moveValue(i.newValue),e._processSeries(i.newValue);else if(i.type==="setIndex")t.setIndex(i.index,i.newValue),e._processSeries(i.newValue);else if(i.type==="insertIndex")t.insertIndex(i.index,i.newValue),e._processSeries(i.newValue);else if(i.type==="removeIndex")e._removeSeries(i.oldValue);else if(i.type==="moveIndex")t.moveValue(i.value,i.newIndex),e._processSeries(i.value);else throw new Error("Unknown IListEvent type")}))}}),Object.defineProperty(r.prototype,"_processSeries",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.chart=this,e._placeBulletsContainer(this)}}),Object.defineProperty(r.prototype,"_removeSeries",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pr.classNames.concat([r.className])}),r}(Pr),xr=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wr.classNames.concat([r.className])}),r}(wr),jr=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._afterNewApplyThemes.call(this),this._dirty.colors=!1}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDirty("colors")&&this.reset()}}),Object.defineProperty(r.prototype,"generateColors",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);var e=this.getPrivate("currentPass"),t=this.get("colors",[this.get("baseColor",E.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",t.length);for(var i=this.getPrivate("numColors"),a=0,n=this.get("passOptions"),l=this.get("reuse"),s=a;s<i;s++)if(l)t.push(t[s]);else{for(var u=t[s].toHSL(),h=u.h+(n.hue||0)*e;h>1;)h-=1;var c=u.s+(n.saturation||0)*e;c>1&&(c=1),c<0&&(c=0);for(var v=u.l+(n.lightness||0)*e;v>1;)v-=1;t.push(E.fromHSL(h,c,v))}}}),Object.defineProperty(r.prototype,"getIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("colors",[]),i=this.get("saturation");return e>=t.length?(this.generateColors(),this.getIndex(e)):i!=null?E.saturate(t[e],i):t[e]}}),Object.defineProperty(r.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}}),Object.defineProperty(r.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.classNames.concat([r.className])}),r}(fe),Za=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"setupDefaultRules",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype.setupDefaultRules.call(this);var t=this._root.interfaceColors,i=this._root.language,a=this.rule.bind(this);a("XYChart").setAll({colors:jr.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),a("XYSeries").setAll({legendLabelText:"{name}"}),a("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:jr.new(this._root,{saturation:0})});{var n=a("Graphics",["scrollbar","overlay"]);n.setAll({fillOpacity:.5}),R(n,"fill",t,"background")}a("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),a("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),a("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),a("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),a("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),a("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),a("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:k,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),a("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),a("AxisLabel",["x"]).setAll({centerY:0}),a("AxisLabel",["x","inside"]).setAll({centerY:k}),a("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),a("AxisLabel",["x","opposite"]).setAll({centerY:k}),a("AxisLabel",["y"]).setAll({centerX:k}),a("AxisLabel",["y","inside"]).setAll({centerX:0}),a("AxisLabel",["y","inside","opposite"]).setAll({centerX:k}),a("AxisLabel",["y","opposite"]).setAll({centerX:0}),a("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),a("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),a("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),a("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{var n=a("Grid",["cursor","x"]);n.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:i.translate("Use left and right arrows to move selection")}),R(n,"stroke",t,"alternativeBackground")}{var n=a("Grid",["cursor","y"]);n.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:i.translate("Use up and down arrows to move selection")}),R(n,"stroke",t,"alternativeBackground")}{var n=a("Graphics",["cursor","selection"]);n.setAll({fillOpacity:.15}),R(n,"fill",t,"alternativeBackground")}a("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),a("AxisLabel").setAll({location:.5,multiLocation:0,centerX:V,centerY:V,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),a("Container",["axis","header"]).setAll({layer:30});{var n=a("AxisRenderer");n.setAll({strokeOpacity:0}),R(n,"stroke",t,"grid")}a("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:k}),a("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:k});{var n=a("Rectangle",["axis","thumb"]);n.setAll({fillOpacity:0}),R(n,"fill",t,"alternativeBackground"),n.states.create("hover",{fillOpacity:.1})}a("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),a("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{var n=a("Grid");n.setAll({location:0,strokeOpacity:.15}),R(n,"stroke",t,"grid")}a("Grid",["base"]).setAll({strokeOpacity:.3});{var n=a("Graphics",["axis","fill"]);n.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),R(n,"fill",t,"alternativeBackground")}a("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),a("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),a("Grid",["series","range"]).setAll({visible:!1}),a("AxisTick",["series","range"]).setAll({visible:!1}),a("AxisLabel",["series","range"]).setAll({visible:!1});{var n=a("AxisTick");n.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),R(n,"stroke",t,"grid")}a("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:function(c,v){var f=c.get("axisFill");f&&(!P(v)||v%2==0?f.setPrivate("visible",!0):f.setPrivate("visible",!1))}});var l=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],s={millisecond:i.translate("_date_millisecond"),second:i.translate("_date_second"),minute:i.translate("_date_minute"),hour:i.translate("_date_hour"),day:i.translate("_date_day"),week:i.translate("_date_day"),month:i.translate("_date_month"),year:i.translate("_date_year")},u={millisecond:i.translate("_date_millisecond"),second:i.translate("_date_second"),minute:i.translate("_date_minute"),hour:i.translate("_date_day"),day:i.translate("_date_day"),week:i.translate("_date_day"),month:i.translate("_date_month")+" "+i.translate("_date_year"),year:i.translate("_date_year")},h={millisecond:i.translate("_date_millisecond_full"),second:i.translate("_date_second_full"),minute:i.translate("_date_minute_full"),hour:i.translate("_date_hour_full"),day:i.translate("_date_day_full"),week:i.translate("_date_week_full"),month:i.translate("_date_month_full"),year:i.translate("_date_year")};a("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:Ht(l),dateFormats:Ue(s),periodChangeDateFormats:Ue(u)}),a("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:Ht(l),dateFormats:Ue(s),periodChangeDateFormats:Ue(u),tooltipDateFormats:h,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:function(c){var v=c.get("axisFill");if(v){var f=c.component,d=c.get("value"),b=c.get("endValue"),p=f.intervalDuration(),g=f.getPrivate("baseInterval"),y=f.getPrivate("gridInterval",g),m=f.getPrivate("min",0);if(m=Zt(new Date(m),y.timeUnit,y.count,e._root.locale.firstDayOfWeek,e._root.utc,void 0,e._root.timezone).getTime(),d!=null&&b!=null){var j=Math.round(Math.round((d-m)/p))/2;j==Math.round(j)?v.setPrivate("visible",!0):v.setPrivate("visible",!1)}}}}),a("GaplessDateAxis").setAll({fillRule:function(c){var v=c.get("axisFill");if(v){var f=c.get("index"),d=!1;(!P(f)||f%2==0)&&(d=!0),v.setPrivate("visible",d)}}}),a("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:function(c){var v=c.get("axisFill");if(v){var f=c.component,d=c.get("value"),b=f.getPrivate("step");P(d)&&P(b)&&(be(d/b/2,5)==Math.round(d/b/2)?v.setPrivate("visible",!1):v.setPrivate("visible",!0))}}}),a("DurationAxis").setAll({baseUnit:"second"}),a("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),a("BaseColumnSeries").setAll({adjustBulletPosition:!0}),a("ColumnSeries").setAll({clustered:!0}),a("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:ge(70),height:ge(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),a("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),a("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),a("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),a("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:function(c,v){var f=v.parent;if(f){var d=f.height(),b=f.width();c.moveTo(0,d/2),c.lineTo(b,d/2)}}});{var n=a("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});R(n,"stroke",t,"disabled")}a("Graphics",["line","series","legend","marker","fill"]).setAll({draw:function(c,v){var f=v.parent;if(f){var d=f.height(),b=f.width();c.moveTo(0,0),c.lineTo(b,0),c.lineTo(b,d),c.lineTo(0,d),c.lineTo(0,0)}}});{var n=a("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});R(n,"stroke",t,"disabled")}a("SmoothedXYLineSeries").setAll({tension:.5}),a("SmoothedXLineSeries").setAll({tension:.5}),a("SmoothedYLineSeries").setAll({tension:.5}),a("Candlestick").setAll({position:"absolute",isMeasured:!1,width:ge(50),height:ge(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),a("OHLC").setAll({width:ge(80),height:ge(80)}),a("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{var n=a("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});R(n,"fill",t,"positive"),R(n,"stroke",t,"positive")}{var n=a("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});R(n,"fill",t,"negative"),R(n,"stroke",t,"negative")}a("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),a("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{var n=a("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});R(n,"fill",t,"positive"),R(n,"stroke",t,"positive")}{var n=a("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});R(n,"fill",t,"negative"),R(n,"stroke",t,"negative")}}}),r}(Jt),qa=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new pt}),Object.defineProperty(e,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new pt}),Object.defineProperty(e,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(L.new(e._root,{width:k,layout:e._root.verticalLayout}))}),Object.defineProperty(e,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(L.new(e._root,{width:k,height:k,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(L.new(e._root,{width:k,layout:e._root.verticalLayout}))}),Object.defineProperty(e,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(L.new(e._root,{height:k,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(L.new(e._root,{width:k,height:k,maskContent:!1}))}),Object.defineProperty(e,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotsContainer.children.push(L.new(e._root,{width:k,height:k}))}),Object.defineProperty(e,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotsContainer.children.push(L.new(e._root,{width:k,height:k}))}),Object.defineProperty(e,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotContainer.children.push(L.new(e._root,{width:k,height:k,isMeasured:!1}))}),Object.defineProperty(e,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:L.new(e._root,{width:k,height:k,isMeasured:!1})}),Object.defineProperty(e,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(L.new(e._root,{height:k,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotContainer.children.push(L.new(e._root,{}))}),Object.defineProperty(e,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:e.topPlotContainer.children.push(Va.new(e._root,{themeTags:["zoom"],icon:re.new(e._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(e,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(e,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._defaultThemes.push(Za.new(this._root)),o.prototype._afterNew.call(this),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);var t=this._root,i=this._root.verticalLayout,a=this.zoomOutButton;a.events.on("click",function(){e.zoomOut()}),a.set("opacity",0),a.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",i);var n=this.plotContainer;n.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),n.children.push(this.topGridContainer),n.children.push(this.bulletsContainer),n.set("interactive",!0),n.set("interactiveChildren",!1),n.set("background",Oe.new(t,{themeTags:["xy","background"],fill:E.fromHex(0),fillOpacity:0})),this._disposers.push(n.events.on("pointerdown",function(l){e._handlePlotDown(l.originalEvent)})),this._disposers.push(n.events.on("globalpointerup",function(l){e._handlePlotUp(l.originalEvent)})),this._disposers.push(n.events.on("globalpointermove",function(l){e._handlePlotMove(l.originalEvent)})),this._maskGrid(),this._setUpTouch()}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}}),Object.defineProperty(r.prototype,"_setUpTouch",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}}),Object.defineProperty(r.prototype,"_maskGrid",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}}),Object.defineProperty(r.prototype,"_removeSeries",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("xAxis");t&&(de(t.series,e),t.markDirtyExtremes());var i=e.get("yAxis");i&&(de(i.series,e),i.markDirtyExtremes());var a=this.get("cursor");if(a){var n=a.get("snapToSeries");n&&de(n,e)}o.prototype._removeSeries.call(this,e)}}),Object.defineProperty(r.prototype,"handleWheel",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this.get("wheelX"),a=this.get("wheelY"),n=this.plotContainer,l=e.originalEvent;if(Lr(l,this))l.preventDefault();else return;var s=n.toLocal(this._root.documentPointToRoot({x:l.clientX,y:l.clientY})),u=this.get("wheelStep",.2),h=l.deltaY/100,c=l.deltaX/100,v=this.get("wheelZoomPositionX"),f=this.get("wheelZoomPositionY");(i==="zoomX"||i==="zoomXY")&&c!=0&&this.xAxes.each(function(d){if(d.get("zoomX")){var b=d.get("start"),p=d.get("end"),g=d.fixPosition(s.x/n.width());v!=null&&(g=v);var y=b-u*(p-b)*c*g,m=p+u*(p-b)*c*(1-g);1/(m-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)&&t._handleWheelAnimation(d.zoom(y,m))}}),(a==="zoomX"||a==="zoomXY")&&h!=0&&this.xAxes.each(function(d){if(d.get("zoomX")){var b=d.get("start"),p=d.get("end"),g=d.fixPosition(s.x/n.width());v!=null&&(g=v);var y=b-u*(p-b)*h*g,m=p+u*(p-b)*h*(1-g);1/(m-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)&&t._handleWheelAnimation(d.zoom(y,m))}}),(i==="zoomY"||i==="zoomXY")&&c!=0&&this.yAxes.each(function(d){if(d.get("zoomY")){var b=d.get("start"),p=d.get("end"),g=d.fixPosition(s.y/n.height());f!=null&&(g=f);var y=b-u*(p-b)*c*g,m=p+u*(p-b)*c*(1-g);1/(m-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)&&t._handleWheelAnimation(d.zoom(y,m))}}),(a==="zoomY"||a==="zoomXY")&&h!=0&&this.yAxes.each(function(d){if(d.get("zoomY")){var b=d.get("start"),p=d.get("end"),g=d.fixPosition(s.y/n.height());f!=null&&(g=f);var y=b-u*(p-b)*h*g,m=p+u*(p-b)*h*(1-g);1/(m-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)&&t._handleWheelAnimation(d.zoom(y,m))}}),(i==="panX"||i==="panXY")&&c!=0&&this.xAxes.each(function(d){if(d.get("panX")){var b=d.get("start"),p=d.get("end"),g=t._getWheelSign(d)*u*(p-b)*c,y=b+g,m=p+g,j=t._fixWheel(y,m);y=j[0],m=j[1],t._handleWheelAnimation(d.zoom(y,m))}}),(a==="panX"||a==="panXY")&&h!=0&&this.xAxes.each(function(d){if(d.get("panX")){var b=d.get("start"),p=d.get("end"),g=t._getWheelSign(d)*u*(p-b)*h,y=b+g,m=p+g,j=t._fixWheel(y,m);y=j[0],m=j[1],t._handleWheelAnimation(d.zoom(y,m))}}),(i==="panY"||i==="panXY")&&c!=0&&this.yAxes.each(function(d){if(d.get("panY")){var b=d.get("start"),p=d.get("end"),g=t._getWheelSign(d)*u*(p-b)*c,y=b+g,m=p+g,j=t._fixWheel(y,m);y=j[0],m=j[1],t._handleWheelAnimation(d.zoom(y,m))}}),(a==="panY"||a==="panXY")&&h!=0&&this.yAxes.each(function(d){if(d.get("panY")){var b=d.get("start"),p=d.get("end"),g=t._getWheelSign(d)*u*(p-b)*h,y=b-g,m=p-g,j=t._fixWheel(y,m);y=j[0],m=j[1],t._handleWheelAnimation(d.zoom(y,m))}})}}),Object.defineProperty(r.prototype,"_handleSetWheel",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("wheelX"),i=this.get("wheelY"),a=this.plotContainer;t!=="none"||i!=="none"?(this._wheelDp=a.events.on("wheel",function(n){e.handleWheel(n)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}}),Object.defineProperty(r.prototype,"_getWheelSign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=1;return e.get("renderer").get("inversed")&&(t=-1),t}}),Object.defineProperty(r.prototype,"_fixWheel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=t-e;return e<0&&(e=0,t=e+i),t>1&&(t=1,e=t-i),[e,t]}}),Object.defineProperty(r.prototype,"_handlePlotDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.plotContainer,i=t.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));if(this.get("pinchZoomX")||this.get("pinchZoomY")){var a=e,n=a.pointerId;if(n&&K(t._downPoints).length>0){var l=this.xAxes.getIndex(0),s=this.yAxes.getIndex(0);l&&(this._downStartX=l.get("start",0),this._downEndX=l.get("end",1)),s&&(this._downStartY=s.get("start",0),this._downEndY=s.get("end",1))}}if((this.get("panX")||this.get("panY"))&&i.x>=0&&i.y>=0&&i.x<=t.width()&&i.y<=this.height()){this._downPoint={x:e.clientX,y:e.clientY};var u=this.get("panX"),h=this.get("panY");u&&this.xAxes.each(function(v){v._panStart=v.get("start"),v._panEnd=v.get("end")}),h&&this.yAxes.each(function(v){v._panStart=v.get("start"),v._panEnd=v.get("end")});var c="panstarted";this.events.isEnabled(c)&&this.events.dispatch(c,{type:c,target:this,originalEvent:e})}}}),Object.defineProperty(r.prototype,"_handleWheelAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;e?e.events.on("stopped",function(){t._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}}),Object.defineProperty(r.prototype,"_dispatchWheelAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}}),Object.defineProperty(r.prototype,"_handlePlotUp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._downPoint;if(t&&(this.get("panX")||this.get("panY"))){var i=this.plotContainer.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));if(i.x==t.x&&i.y==t.y){var a="pancancelled";this.events.isEnabled(a)&&this.events.dispatch(a,{type:a,target:this,originalEvent:e})}var n="panended";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:e})}this._downPoint=void 0,this.xAxes.each(function(l){l._isPanning=!1}),this.yAxes.each(function(l){l._isPanning=!1})}}),Object.defineProperty(r.prototype,"_handlePlotMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){var i=e,a=i.pointerId;if(a&&(this._movePoints[a]=this._root.documentPointToRoot({x:e.clientX,y:e.clientY}),K(t._downPoints).length>1)){this._handlePinch();return}}var n=this._downPoint;if(n){n=t.toLocal(this._root.documentPointToRoot(n));var l=t.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY})),s=this.get("panX"),u=this.get("panY");if(s){var h=this.get("scrollbarX");h&&h.events.disableType("rangechanged"),this.xAxes.each(function(v){if(v.get("panX")){v._isPanning=!0;var f=v._panStart,d=v._panEnd,b=d-f,p=b*(n.x-l.x)/t.width();v.get("renderer").get("inversed")&&(p*=-1);var g=f+p,y=d+p;y-g<1+v.get("maxDeviation",1)*2&&(v.set("start",g),v.set("end",y))}}),h&&h.events.enableType("rangechanged")}if(u){var c=this.get("scrollbarY");c&&c.events.disableType("rangechanged"),this.yAxes.each(function(v){if(v.get("panY")){v._isPanning=!0;var f=v._panStart,d=v._panEnd,b=d-f,p=b*(n.y-l.y)/t.height();v.get("renderer").get("inversed")&&(p*=-1);var g=f-p,y=d-p;y-g<1+v.get("maxDeviation",1)*2&&(v.set("start",g),v.set("end",y))}}),c&&c.events.enableType("rangechanged")}}}}),Object.defineProperty(r.prototype,"_handlePinch",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,i,a,n=this,l=this.plotContainer,s=0,u=[],h=[];if(X(l._downPoints,function(ie,ae){u[s]=ae;var H=n._movePoints[ie];H&&(h[s]=H),s++}),u.length>1&&h.length>1){var c=l.width(),v=l.height(),f=u[0],d=u[1],b=h[0],p=h[1];if(f&&d&&b&&p){if(b=l.toLocal(b),p=l.toLocal(p),f=l.toLocal(f),d=l.toLocal(d),this.get("pinchZoomX")){var g=this._downStartX,y=this._downEndX;if(g!=null&&y!=null){f.x>d.x&&(e=le([d,f],2),f=e[0],d=e[1],t=le([p,b],2),b=t[0],p=t[1]);var m=g+f.x/c*(y-g),j=g+d.x/c*(y-g),C=g+b.x/c*(y-g),x=g+p.x/c*(y-g),T=Math.max(.001,j-m),O=Math.max(.001,x-C),w=T/O,D=g*w+m-C*w,S=y*w+j-x*w;this.xAxes.each(function(ie){var ae=ie.fixPosition(D),H=ie.fixPosition(S);ie.zoom(ae,H,0)})}}if(this.get("pinchZoomY")){var M=this._downStartY,B=this._downEndY;if(M!=null&&B!=null){f.y<d.y&&(i=le([d,f],2),f=i[0],d=i[1],a=le([p,b],2),b=a[0],p=a[1]);var m=M+(1-f.y/v)*(B-M),j=M+(1-d.y/v)*(B-M),C=M+(1-b.y/v)*(B-M),x=M+(1-p.y/v)*(B-M),T=Math.max(.001,j-m),O=Math.max(.001,x-C),w=T/O,N=M*w+m-C*w,$=B*w+j-x*w;this.yAxes.each(function(ve){var Ee=ve.fixPosition(N),he=ve.fixPosition($);ve.zoom(Ee,he,0)})}}}}}}),Object.defineProperty(r.prototype,"_handleCursorPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("cursor");if(e){var t=e.getPrivate("point"),i=e.get("snapToSeries");if(e._downPoint&&(i=void 0),i&&t){var a=e.get("snapToSeriesBy"),n=[];_(i,function(c){if(!c.isHidden()&&!c.isHiding())if(a!="x!"&&a!="y!")for(var v=c.startIndex(),f=c.endIndex(),d=v;d<f;d++){var b=c.dataItems[d];b&&!b.isHidden()&&n.push(b)}else{var p=c.get("tooltipDataItem");p&&n.push(p)}});var l=1/0,s;if(_(n,function(c){var v=c.get("point");if(v){var f=0;a=="x"||a=="x!"?f=Math.abs(t.x-v.x):a=="y"||a=="y!"?f=Math.abs(t.y-v.y):f=Math.hypot(t.x-v.x,t.y-v.y),f<l&&(l=f,s=c)}}),_(i,function(c){var v=c.get("tooltip");v&&v._setDataItem(void 0)}),s){var u=s.component;u.showDataItemTooltip(s);var h=s.get("point");h&&e.handleMove(u.toGlobal(h),!0)}}}}}),Object.defineProperty(r.prototype,"_updateCursor",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("cursor");e&&e.handleMove()}}),Object.defineProperty(r.prototype,"_addCursor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.plotContainer.children.push(e)}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._prepareChildren.call(this),this.series.each(function(l){e._colorize(l)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){var t=this._prevSettings.cursor,i=this.get("cursor");i!==t&&(this._disposeProperty("cursor"),t&&t.dispose(),i&&(i._setChart(this),this._addCursor(i),this._pushPropertyDisposer("cursor",i.events.on("selectended",function(){e._handleCursorSelectEnd()}))),this._prevSettings.cursor=i)}if(this.isDirty("scrollbarX")){var t=this._prevSettings.scrollbarX,a=this.get("scrollbarX");a!==t&&(this._disposeProperty("scrollbarX"),t&&t.dispose(),a&&(a.parent||this.topAxesContainer.children.push(a),this._pushPropertyDisposer("scrollbarX",a.events.on("rangechanged",function(s){e._handleScrollbar(e.xAxes,s.start,s.end,s.grip)})),a.setPrivate("positionTextFunction",function(s){var u=e.xAxes.getIndex(0);return u&&u.getTooltipText(s)||""})),this._prevSettings.scrollbarX=a)}if(this.isDirty("scrollbarY")){var t=this._prevSettings.scrollbarY,n=this.get("scrollbarY");n!==t&&(this._disposeProperty("scrollbarY"),t&&t.dispose(),n&&(n.parent||this.rightAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarY",n.events.on("rangechanged",function(s){e._handleScrollbar(e.yAxes,s.start,s.end,s.grip)})),n.setPrivate("positionTextFunction",function(s){var u=e.yAxes.getIndex(0);return u&&u.getTooltipText(s)||""})),this._prevSettings.scrollbarY=n)}this._handleZoomOut()}}),Object.defineProperty(r.prototype,"_processSeries",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype._processSeries.call(this,e),this._colorize(e)}}),Object.defineProperty(r.prototype,"_colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("colors");if(t&&e.get("fill")==null){var i=t.next();e._setSoft("stroke",i),e._setSoft("fill",i)}}}),Object.defineProperty(r.prototype,"_handleCursorSelectEnd",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("cursor"),t=e.get("behavior"),i=e.getPrivate("downPositionX",0),a=e.getPrivate("downPositionY",0),n=e.getPrivate("positionX",.5),l=e.getPrivate("positionY",.5);this.xAxes.each(function(s){if(t==="zoomX"||t==="zoomXY"){var u=s.toAxisPosition(i),h=s.toAxisPosition(n);s.zoom(u,h)}s.setPrivate("updateScrollbar",!0)}),this.yAxes.each(function(s){if(t==="zoomY"||t==="zoomXY"){var u=s.toAxisPosition(a),h=s.toAxisPosition(l);s.zoom(u,h)}s.setPrivate("updateScrollbar",!0)})}}),Object.defineProperty(r.prototype,"_handleScrollbar",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){e.each(function(n){var l=n.fixPosition(t),s=n.fixPosition(i),u=n.zoom(l,s,void 0,a),h="updateScrollbar";n.setPrivateRaw(h,!1),u?u.events.on("stopped",function(){n.setPrivateRaw(h,!0)}):n.setPrivateRaw(h,!0)})}}),Object.defineProperty(r.prototype,"_processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;return e.events.onAll(function(a){if(a.type==="clear")_(a.oldValues,function(n){i._removeAxis(n)});else if(a.type==="push")t.children.push(a.newValue),a.newValue.processChart(i);else if(a.type==="setIndex")t.children.setIndex(a.index,a.newValue),a.newValue.processChart(i);else if(a.type==="insertIndex")t.children.insertIndex(a.index,a.newValue),a.newValue.processChart(i);else if(a.type==="removeIndex")i._removeAxis(a.oldValue);else if(a.type==="moveIndex")t.children.moveValue(a.value,a.newIndex),a.value.processChart(i);else throw new Error("Unknown IListEvent type")})}}),Object.defineProperty(r.prototype,"_removeAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e.isDisposed()){var t=e.parent;t&&t.children.removeValue(e);var i=e.gridContainer,a=i.parent;a&&a.children.removeValue(i);var n=e.topGridContainer,l=n.parent;l&&l.children.removeValue(n)}}}),Object.defineProperty(r.prototype,"_updateChartLayout",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",t);var a=this.topAxesContainer;a.set("paddingLeft",e),a.set("paddingRight",t)}}),Object.defineProperty(r.prototype,"processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_handleAxisSelection",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i,a=e.fixPosition(e.get("start",0)),n=e.fixPosition(e.get("end",1));if(a>n&&(i=le([n,a],2),a=i[0],n=i[1]),this.xAxes.indexOf(e)!=-1){if(t||e.getPrivate("updateScrollbar")){var l=this.get("scrollbarX");l&&(!l.getPrivate("isBusy")||t)&&(l.setRaw("start",a),l.setRaw("end",n),l.updateGrips())}}else if(this.yAxes.indexOf(e)!=-1&&(t||e.getPrivate("updateScrollbar"))){var s=this.get("scrollbarY");s&&(!s.getPrivate("isBusy")||t)&&(s.setRaw("start",a),s.setRaw("end",n),s.updateGrips())}this._handleZoomOut()}}),Object.defineProperty(r.prototype,"_handleZoomOut",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.zoomOutButton;if(e&&e.parent){var t=!1;this.xAxes.each(function(i){(i.get("start")!=0||i.get("end")!=1)&&(t=!0)}),this.yAxes.each(function(i){(i.get("start")!=0||i.get("end")!=1)&&(t=!0)}),t?e.isHidden()&&e.show():e.hide()}}}),Object.defineProperty(r.prototype,"inPlot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),a=t.toGlobal(e);if(e.x>=-.1&&e.y>=-.1&&e.x<=t.width()+.1&&e.y<=t.height()+.1)return!0;if(i)for(var n=i.length-1;n>=0;n--){var l=i[n];if(l!=this){var s=l.plotContainer,u=this._root.rootPointToDocument(a),h=l._root.documentPointToRoot(u),c=s.toLocal(h);if(c.x>=-.1&&c.y>=-.1&&c.x<=s.width()+.1&&c.y<=s.height()+.1)return!0}}return!1}}),Object.defineProperty(r.prototype,"arrangeTooltips",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.plotContainer,i=t.width(),a=t.height(),n=this.height(),l=t._display.toGlobal({x:0,y:0}),s=t._display.toGlobal({x:i,y:a}),u=[],h=0,c=1/0,v=this._movePoint,f=this.get("maxTooltipDistance"),d=this.get("maxTooltipDistanceBy","xy"),b,p;P(f)&&this.series.each(function(w){var D=w.get("tooltip");if(D){var S=D.get("pointTo");if(S){var M=Math.hypot(v.x-S.x,v.y-S.y);d=="x"?M=Math.abs(v.x-S.x):d=="y"&&(M=Math.abs(v.y-S.y)),M<c&&(c=M,b=w,p=S)}}});var g=[];if(this.series.each(function(w){var D=w.get("tooltip");if(D){var S=!1,M=D.get("pointTo");if(M){if(f>=0){var B=D.get("pointTo");if(B&&w!=b){var N=Math.hypot(p.x-B.x,p.y-B.y);d=="x"?N=Math.abs(p.x-B.x):d=="y"&&(N=Math.abs(p.y-B.y)),N>f&&(S=!0)}}else f==-1&&w!=b&&(S=!0);!e.inPlot(e._tooltipToLocal(M))||!D.dataItem?S=!0:S||(h+=M.y),S||w.isHidden()||w.isHiding()?D.hide(0):(D.show(),u.push(D),g.push(w))}}}),this.setPrivate("tooltipSeries",g),this.get("arrangeTooltips")){var y=this._root.tooltipContainer,m=u.length,j=h/m;if(j>a/2+l.y){u.sort(function(w,D){return fr(D.get("pointTo").y,w.get("pointTo").y)});var C=s.y;if(_(u,function(w){var D=w.height(),S=w.get("centerY");S instanceof I&&(D*=S.value),D+=w.get("marginBottom",0),w.set("bounds",{left:l.x,top:l.y,right:s.x,bottom:C}),w.setPrivate("customData",{left:l.x,top:l.y,right:s.x,bottom:C}),C=Math.min(C-D,w._fy-D),w.parent==y&&y.children.moveValue(w,0)}),C<0){u.reverse();var x=C;_(u,function(w){var D=w.get("bounds");if(D){var S=D.top-C,M=D.bottom-C;S<x&&(S=x,M=S+w.height()),w.set("bounds",{left:D.left,top:S,right:D.right,bottom:M}),x=D.bottom-C+w.get("marginBottom",0)}})}}else{u.reverse(),u.sort(function(w,D){return fr(w.get("pointTo").y,D.get("pointTo").y)});var T=0;if(_(u,function(w){var D=w.height(),S=w.get("centerY");S instanceof I&&(D*=S.value),D+=w.get("marginBottom",0),w.set("bounds",{left:l.x,top:T,right:s.x,bottom:Math.max(l.y+n,T+D)}),w.parent==y&&y.children.moveValue(w,0),T=Math.max(T+D,w._fy+D)}),T>n){u.reverse();var O=n;_(u,function(w){var D=w.get("bounds");if(D){var S=D.top-(n-T),M=D.bottom-(n-T);M>O&&(M=O,S=M-w.height()),w.set("bounds",{left:D.left,top:S,right:D.right,bottom:M}),O=M-w.height()-w.get("marginBottom",0)}})}}}}}),Object.defineProperty(r.prototype,"_tooltipToLocal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.plotContainer.toLocal(e)}}),Object.defineProperty(r.prototype,"zoomOut",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.xAxes.each(function(e){e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(function(e){e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Or.classNames.concat([r.className])}),r}(Or),qt=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._beforeChanged.call(this),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),$a=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(qt.new(e._root,{themeTags:["x"]}))}),Object.defineProperty(e,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(qt.new(e._root,{themeTags:["y"]}))}),Object.defineProperty(e,"selection",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(re.new(e._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(e,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(e,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._settings.themeTags=Y(this._settings.themeTags,["xy","cursor"]),o.prototype._afterNew.call(this),this.setAll({width:k,height:k,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(function(){e.setPrivate("visible",!0)},500)),this.lineX.events.on("positionchanged",function(){e._handleXLine()}),this.lineY.events.on("positionchanged",function(){e._handleYLine()}),this.lineX.events.on("focus",function(t){return e._handleLineFocus(t.target)}),this.lineX.events.on("blur",function(t){return e._handleLineBlur(t.target)}),this.lineY.events.on("focus",function(t){return e._handleLineFocus(t.target)}),this.lineY.events.on("blur",function(t){return e._handleLineBlur(t.target)}),we("keyboardevents")&&this._disposers.push(U(document,"keydown",function(t){e._handleLineMove(t.keyCode)}))}}),Object.defineProperty(r.prototype,"_setUpTouch",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.chart;e&&(e.plotContainer._display.cancelTouch=this.get("behavior")!="none")}}),Object.defineProperty(r.prototype,"_handleXLine",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.lineX.x(),t=!0;(e<0||e>this.width())&&(t=!1),this.lineX.setPrivate("visible",t)}}),Object.defineProperty(r.prototype,"_handleYLine",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.lineY.y(),t=!0;(e<0||e>this.height())&&(t=!1),this.lineY.setPrivate("visible",t)}}),Object.defineProperty(r.prototype,"_handleLineMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t="",i=0,a=.1,n=this.chart;this._root.focused(this.lineX)?(n&&n.xAxes.length&&(a=n.xAxes.getIndex(0).getCellWidthPosition()),i=this.getPrivate("positionX",0),t="positionX",e==37?i-=a:e==39&&(i+=a)):this._root.focused(this.lineY)&&(n&&n.yAxes.length&&(a=n.yAxes.getIndex(0).getCellWidthPosition()),i=this.getPrivate("positionY",0),t="positionY",e==38?i-=a:e==40&&(i+=a)),i<0?i=0:i>1&&(i=1),t!=""&&this.set(t,i)}}),Object.defineProperty(r.prototype,"_handleLineFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}}),Object.defineProperty(r.prototype,"_handleLineBlur",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._prepareChildren.call(this),this.isDirty("xAxis")){this._tooltipX=!1;var t=this.get("xAxis");if(t){var i=t.get("tooltip");i&&(this._tooltipX=!0,i.on("pointTo",function(){e._updateXLine(i)}))}}if(this.isDirty("yAxis")){this._tooltipY=!1;var a=this.get("yAxis");if(a){var n=a.get("tooltip");n&&(this._tooltipY=!0,n.on("pointTo",function(){e._updateYLine(n)}))}}}}),Object.defineProperty(r.prototype,"_handleSyncWith",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.chart;if(e){var t=this.get("syncWith"),i=[];t&&_(t,function(a){var n=a.chart;n&&i.push(n)}),e._otherCharts=i}}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._updateChildren.call(this),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){var e=this.get("positionX"),t=this.get("positionY");e==null&&t==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}}),Object.defineProperty(r.prototype,"_updateXLine",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=be(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,2);this._toX!=t&&(this.lineX.animate({key:"x",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=t)}}),Object.defineProperty(r.prototype,"_updateYLine",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=be(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,2);this._toY!=t&&(this.lineY.animate({key:"y",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=t)}}),Object.defineProperty(r.prototype,"_drawLines",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.lineX.set("draw",function(t){t.moveTo(0,0),t.lineTo(0,e.height())}),this.lineY.set("draw",function(t){t.moveTo(0,0),t.lineTo(e.width(),0)})}}),Object.defineProperty(r.prototype,"_setChart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.chart=e,this._handleSyncWith();var i=e.plotContainer;this.events.on("boundschanged",function(){t._disposers.push(t.setTimeout(function(){t.get("alwaysShow")&&(t._movePoint=t.toGlobal(t._getPoint(t.get("positionX",0),t.get("positionY",0))),t.handleMove())},50))}),we("touchevents")&&(this._disposers.push(i.events.on("click",function(n){Vt(n.originalEvent)&&t._handleMove(n.originalEvent)})),this._setUpTouch()),this._disposers.push(i.events.on("pointerdown",function(n){t._handleCursorDown(n.originalEvent)})),this._disposers.push(i.events.on("globalpointerup",function(n){t._handleCursorUp(n.originalEvent),!n.native&&!t.isHidden()&&t._handleMove(n.originalEvent)})),this._disposers.push(i.events.on("globalpointermove",function(n){!t.get("syncWith")&&K(i._downPoints).length==0&&!n.native&&t.isHidden()||t._handleMove(n.originalEvent)}));var a=this.parent;a&&a.children.moveValue(this.selection)}}),Object.defineProperty(r.prototype,"_inPlot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.chart;return t?t.inPlot(e):!1}}),Object.defineProperty(r.prototype,"_handleCursorDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._root.documentPointToRoot({x:e.clientX,y:e.clientY}),i=this._display.toLocal(t),a=this.chart;if(this.selection.set("draw",function(){}),a&&this._inPlot(i)){if(this._downPoint=i,this.get("behavior")!="none"){this.selection.show();var n="selectstarted";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this})}var l=this._getPosition(i).x,s=this._getPosition(i).y;this.setPrivate("downPositionX",l),this.setPrivate("downPositionY",s)}}}),Object.defineProperty(r.prototype,"_handleCursorUp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._downPoint){var t=this.get("behavior","none");if(t!="none"){t.charAt(0)==="z"&&this.selection.hide();var i=this._root.documentPointToRoot({x:e.clientX,y:e.clientY}),a=this._display.toLocal(i),n=this._downPoint,l=this.get("moveThreshold",1);if(a&&n){var s=!1;if((t==="zoomX"||t==="zoomXY"||t==="selectX"||t==="selectXY")&&Math.abs(a.x-n.x)>l&&(s=!0),(t==="zoomY"||t==="zoomXY"||t==="selectY"||t==="selectXY")&&Math.abs(a.y-n.y)>l&&(s=!0),s){var u="selectended";this.events.isEnabled(u)&&this.events.dispatch(u,{type:u,target:this})}}}}this._downPoint=void 0}}),Object.defineProperty(r.prototype,"_handleMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.getPrivate("visible")){var t=this.chart;if(t&&K(t.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);var i=this._root.documentPointToRoot({x:e.clientX,y:e.clientY}),a=this._lastPoint;if(Math.round(a.x)===Math.round(i.x)&&Math.round(a.y)===Math.round(i.y))return;this._lastPoint=i,this.handleMove({x:i.x,y:i.y})}}}),Object.defineProperty(r.prototype,"_getPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{x:e.x/this.width(),y:e.y/this.height()}}}),Object.defineProperty(r.prototype,"handleMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e||(e=this._movePoint);var i=this.get("alwaysShow");if(!e){this.hide(0);return}this._movePoint=e;var a=this._display.toLocal(e),n=this.chart;if(n&&this._inPlot(a)){if(n._movePoint=e,this.isHidden()){this.show();var l=this.get("behavior","");l.charAt(0)=="z"&&this.selection.set("draw",function(){})}var s=a.x,u=a.y,h=this._getPosition(a);this.setPrivate("point",a);var c=this.get("snapToSeries");this._downPoint&&(c=void 0);var v=this.get("positionX"),f=h.x;P(v)&&(f=v);var d=this.get("positionY"),b=h.y;P(d)&&(b=d),this.setPrivate("positionX",f),this.setPrivate("positionY",b);var p=this._getPoint(f,b);if(s=p.x,u=p.y,n.xAxes.each(function(y){y._handleCursorPosition(f,c),i&&y.handleCursorShow()}),n.yAxes.each(function(y){y._handleCursorPosition(b,c),i&&y.handleCursorShow()}),!t){n._handleCursorPosition();var g="cursormoved";this.events.isEnabled(g)&&this.events.dispatch(g,{type:g,target:this})}this._updateLines(s,u),n.arrangeTooltips()}else if(!this._downPoint&&!i){this.hide(0);var g="cursorhidden";this.events.isEnabled(g)&&this.events.dispatch(g,{type:g,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(a)}}),Object.defineProperty(r.prototype,"_getPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return{x:this.width()*e,y:this.height()*t}}}),Object.defineProperty(r.prototype,"_updateLines",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",t),this._drawLines()}}),Object.defineProperty(r.prototype,"_updateSelection",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this.selection,a=this.get("behavior"),n=this.width(),l=this.height();e.x<0&&(e.x=0),e.x>n&&(e.x=n),e.y<0&&(e.y=0),e.y>l&&(e.y=l),i.set("draw",function(s){var u=t._downPoint;u&&(a==="zoomXY"||a==="selectXY"?(s.moveTo(u.x,u.y),s.lineTo(u.x,e.y),s.lineTo(e.x,e.y),s.lineTo(e.x,u.y),s.lineTo(u.x,u.y)):a==="zoomX"||a==="selectX"?(s.moveTo(u.x,0),s.lineTo(u.x,l),s.lineTo(e.x,l),s.lineTo(e.x,0),s.lineTo(u.x,0)):(a==="zoomY"||a==="selectY")&&(s.moveTo(0,u.y),s.lineTo(n,u.y),s.lineTo(n,e.y),s.lineTo(0,e.y),s.lineTo(0,u.y)))})}}),Object.defineProperty(r.prototype,"_onHide",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isHidden()){var e=this.chart;e&&(e.xAxes.each(function(t){t.handleCursorHide()}),e.yAxes.each(function(t){t.handleCursorHide()}),e.series.each(function(t){t.handleCursorHide()}))}o.prototype._onHide.call(this)}}),Object.defineProperty(r.prototype,"_onShow",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isHidden()){var e=this.chart;e&&(e.xAxes.each(function(t){t.handleCursorShow()}),e.yAxes.each(function(t){t.handleCursorShow()}))}o.prototype._onShow.call(this)}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._dispose.call(this),this.selection.dispose()}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:L.classNames.concat([r.className])}),r}(L);function Ja(o,r){return o==null?r:r==null?o:r<o?r:o}function Qa(o,r){return o==null?r:r==null?o:r>o?r:o}var Dr=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(L.new(e._root,{}))}),Object.defineProperty(e,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new He}),Object.defineProperty(e,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(e,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(e,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new Fe(e,void 0,{})}),Object.defineProperty(e,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),o.prototype._afterNew.call(this),this._settings.xAxis.series.push(this),this._settings.yAxis.series.push(this),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(function(a){if(a.type==="clear")_(a.oldValues,function(n){e._removeAxisRange(n)});else if(a.type==="push")e._processAxisRange(a.newValue);else if(a.type==="setIndex")e._processAxisRange(a.newValue);else if(a.type==="insertIndex")e._processAxisRange(a.newValue);else if(a.type==="removeIndex")e._removeAxisRange(a.oldValue);else if(a.type==="moveIndex")e._processAxisRange(a.value);else throw new Error("Unknown IStreamEvent type")})),!this.get("baseAxis")){var t=this.get("xAxis"),i=this.get("yAxis");i.isType("CategoryAxis")||i.isType("DateAxis")?this.set("baseAxis",i):this.set("baseAxis",t)}this.states.create("hidden",{opacity:1,visible:!1}),this._makeFieldNames()}}),Object.defineProperty(r.prototype,"_processAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=L.new(this._root,{});e.container=t,this.children.push(t),e.series=this;var i=e.axisDataItem;i.setRaw("isRange",!0);var a=i.component;if(a){a._processAxisRange(i,["range","series"]);var n=i.get("bullet");if(n){var l=n.get("sprite");l&&l.setPrivate("visible",!1)}var s=i.get("axisFill");s&&t.set("mask",s),a._seriesAxisRanges.push(i)}}}),Object.defineProperty(r.prototype,"_removeAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.axisDataItem,i=t.component;i.disposeDataItem(t),de(i._seriesAxisRanges,t);var a=e.container;a&&a.dispose()}}),Object.defineProperty(r.prototype,"_updateFields",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._updateFields.call(this),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&_(this.valueXFields,function(t){var i=e.get(t+"Field");if(i){e._valueXFields.push(t);var a=e.get(t+"Show");e.__valueXShowFields.push(a),a.indexOf("Working")!=-1?e._valueXShowFields.push(a.split("Working")[0]):e._valueYShowFields.push(a)}}),this.valueYFields&&_(this.valueYFields,function(t){var i=e.get(t+"Field");if(i){e._valueYFields.push(t);var a=e.get(t+"Show");e.__valueYShowFields.push(a),a.indexOf("Working")!=-1?e._valueYShowFields.push(a.split("Working")[0]):e._valueYShowFields.push(a)}})}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._dispose.call(this);var e=this.chart;e&&e.series.removeValue(this),se(this.get("xAxis").series,this),se(this.get("yAxis").series,this)}}),Object.defineProperty(r.prototype,"_min",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=Ja(this.getPrivate(e),t);this.setPrivate(e,i)}}),Object.defineProperty(r.prototype,"_max",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=Qa(this.getPrivate(e),t);this.setPrivate(e,i)}}),Object.defineProperty(r.prototype,"_shouldMakeBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!this.get("xAxis").inited||!this.get("yAxis").inited?!1:e.get(this._xField)!=null&&e.get(this._yField)!=null}}),Object.defineProperty(r.prototype,"_makeFieldNames",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("xAxis"),t=this.get("yAxis"),i=e.getPrivate("name"),a=or(i),n=t.getPrivate("name"),l=or(n),s=e.get("renderer").getPrivate("letter"),u=t.get("renderer").getPrivate("letter"),h="open",c="low",v="high",f="Show";e.className==="ValueAxis"?(this._xField=this.get(i+s+f),this._xOpenField=this.get(h+a+s+f),this._xLowField=this.get(c+a+s+f),this._xHighField=this.get(v+a+s+f)):(this._xField=i+s,this._xOpenField=h+a+s,this._xLowField=c+a+s,this._xHighField=v+a+s),t.className==="ValueAxis"?(this._yField=this.get(n+u+f),this._yOpenField=this.get(h+l+u+f),this._yLowField=this.get(c+l+u+f),this._yHighField=this.get(v+l+u+f)):(this._yField=n+u,this._yOpenField=h+l+u,this._yLowField=c+l+u,this._yHighField=v+l+u)}}),Object.defineProperty(r.prototype,"_fixVC",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis"),a=this.states.lookup("hidden"),n=this.get("sequencedInterpolation");if(a){var l=0;n&&(l=.999999999999),e===i?a.set("vcy",l):(t===i||a.set("vcy",l),a.set("vcx",l))}}}),Object.defineProperty(r.prototype,"_handleMaskBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._prepareChildren.call(this),(this.isDirty("valueYShow")||this.isDirty("valueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();var t=this.get("xAxis"),i=this.get("yAxis"),a=this.get("baseAxis"),n=this.get("tooltipPositionX"),l;switch(n){case"open":l=this._xOpenField;break;case"low":l=this._xLowField;break;case"high":l=this._xHighField;break;default:l=this._xField}this._tooltipFieldX=l;var s=this.get("tooltipPositionY"),u;switch(s){case"open":u=this._yOpenField;break;case"low":u=this._yLowField;break;case"high":u=this._yHighField;break;default:u=this._yField}this._tooltipFieldY=u,this.isDirty("baseAxis")&&this._fixVC(),this.set("x",t.x()-ee(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0)),this.set("y",i.y()-ee(i.get("centerY",0),i.height())-i.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x());var h=this.get("stacked");if(this.isDirty("stacked")&&(h?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,h&&this._stack(),_(this.dataItems,function(T){_(e._valueXShowFields,function(O){var w=T.get(O);w!=null&&(h&&(w+=e.getStackedXValue(T,O)),e._min("minX",w),e._max("maxX",w))}),_(e._valueYShowFields,function(O){var w=T.get(O);w!=null&&(h&&(w+=e.getStackedYValue(T,O)),e._min("minY",w),e._max("maxY",w))}),t.processSeriesDataItem(T,e._valueXFields),i.processSeriesDataItem(T,e._valueYFields)}),t._seriesValuesDirty=!0,i._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&t.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&i.markDirtyExtremes()),this._markStakedDirtyStack(),this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(t._groupSeriesData(this),i._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty){var c=this.startIndex(),v=this.endIndex(),f=this.get("minBulletDistance",0);if(f>0&&a&&(a.get("renderer").axisLength()/(v-c)>f?this._showBullets=!0:this._showBullets=!1),(this._psi!=c||this._pei!=v||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;var d=this.get("vcx",1),b=this.get("vcy",1),p=this.get("stacked",!1),g=this.getPrivate("outOfSelection");if(a===t)if(i._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),g)i.markDirtySelectionExtremes();else for(var y=c;y<v;y++)this.processYSelectionDataItem(this.dataItems[y],b,p);else if(a===i)if(t._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),g)i.markDirtySelectionExtremes();else for(var y=c;y<v;y++)this.processXSelectionDataItem(this.dataItems[y],d,p);if(a===t){if(this.get("valueYShow")!=="valueYWorking"){var m=this.getPrivate("selectionMinY");m!=null&&(this.setPrivateRaw("minY",m),i.markDirtyExtremes());var j=this.getPrivate("selectionMaxY");j!=null&&(this.setPrivateRaw("maxY",j),i.markDirtyExtremes())}}else if(a===i&&this.get("valueXShow")!=="valueXWorking"){var C=this.getPrivate("selectionMinX");C!=null&&(this.setPrivateRaw("minX",C),i.markDirtyExtremes());var x=this.getPrivate("selectionMaxX");x!=null&&(this.setPrivateRaw("maxX",x),t.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&t.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&i.markDirtySelectionExtremes()}}}}),Object.defineProperty(r.prototype,"_makeRangeMask",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(this.axisRanges.length>0){var t=this._mainContainerMask;t==null&&(t=this.children.push(re.new(this._root,{})),this._mainContainerMask=t,t.set("draw",function(i,a){var n=e.parent;if(n){var l=e._root.container.width(),s=e._root.container.height();i.moveTo(-l,-s),i.lineTo(-l,s*2),i.lineTo(l*2,s*2),i.lineTo(l*2,-s),i.lineTo(-l,-s),e.axisRanges.each(function(u){var h=u.axisDataItem.get("axisFill");if(n&&h){var c=h.get("draw");c&&c(i,a)}})}e.mainContainer._display.mask=t._display})),t.markDirty(),t._markDirtyKey("fill")}else this.mainContainer._display.mask=null}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._updateChildren.call(this),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}}),Object.defineProperty(r.prototype,"_stack",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.chart;if(e){var t=e.series.indexOf(this);if(this._couldStackTo=[],t>0)for(var i=void 0,a=t-1;a>=0&&(i=e.series.getIndex(a),!(i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked"))));a--);this._stackDataItems()}}}),Object.defineProperty(r.prototype,"_unstack",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;X(this._reallyStackedTo,function(t,i){delete i._stackedSeries[e.uid]}),this._reallyStackedTo={},_(this.dataItems,function(t){t.setRaw("stackToItemY",void 0),t.setRaw("stackToItemX",void 0)})}}),Object.defineProperty(r.prototype,"_stackDataItems",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("baseAxis"),i=this.get("xAxis"),a=this.get("yAxis"),n,l;t===i?(n="valueY",l="stackToItemY"):t===a&&(n="valueX",l="stackToItemX");var s=this._couldStackTo.length,u=0,h=this.get("stackToNegative");this._reallyStackedTo={},_(this.dataItems,function(c){for(var v=0;v<s;v++){var f=e._couldStackTo[v],d=f.dataItems[u],b=c.get(n);if(d){var p=d.get(n);if(h)if(P(b)){if(P(p)){if(b>=0&&p>=0){c.setRaw(l,d),e._reallyStackedTo[f.uid]=f,f._stackedSeries[e.uid]=e;break}if(b<0&&p<0){c.setRaw(l,d),e._reallyStackedTo[f.uid]=f,f._stackedSeries[e.uid]=e;break}}}else break;else if(P(b)&&P(p)){c.setRaw(l,d),e._reallyStackedTo[f.uid]=f,f._stackedSeries[e.uid]=e;break}}}u++})}}),Object.defineProperty(r.prototype,"processXSelectionDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;_(this.__valueXShowFields,function(n){var l=e.get(n);l!=null&&(i&&(l+=a.getStackedXValueWorking(e,n)),a._min("selectionMinX",l),a._max("selectionMaxX",l*t))})}}),Object.defineProperty(r.prototype,"processYSelectionDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;_(this.__valueYShowFields,function(n){var l=e.get(n);l!=null&&(i&&(l+=a.getStackedYValueWorking(e,n)),a._min("selectionMinY",l),a._max("selectionMaxY",l*t))})}}),Object.defineProperty(r.prototype,"getStackedYValueWorking",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("stackToItemY");if(i){var a=i.component;return i.get(t,0)*a.get("vcy",1)+this.getStackedYValueWorking(i,t)}return 0}}),Object.defineProperty(r.prototype,"getStackedXValueWorking",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("stackToItemX");if(i){var a=i.component;return i.get(t,0)*a.get("vcx",1)+this.getStackedXValueWorking(i,t)}return 0}}),Object.defineProperty(r.prototype,"getStackedYValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("stackToItemY");return i?i.get(t,0)+this.getStackedYValue(i,t):0}}),Object.defineProperty(r.prototype,"getStackedXValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("stackToItemX");return i?i.get(t,0)+this.getStackedXValue(i,t):0}}),Object.defineProperty(r.prototype,"createLegendMarker",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.updateLegendMarker()}}),Object.defineProperty(r.prototype,"_markDirtyAxes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._axesDirty=!0,this.markDirty()}}),Object.defineProperty(r.prototype,"_markDataSetDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._clearDirty.call(this),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}}),Object.defineProperty(r.prototype,"_positionBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("sprite");if(t){var i=t.dataItem,a=e.get("locationX",i.get("locationX",.5)),n=e.get("locationY",i.get("locationY",.5)),l=this.get("xAxis"),s=this.get("yAxis"),u=l.getDataItemPositionX(i,this._xField,a,this.get("vcx",1)),h=s.getDataItemPositionY(i,this._yField,n,this.get("vcy",1)),c=this.getPoint(u,h),v=i.get("left",c.x),f=i.get("right",c.x),d=i.get("top",c.y),b=i.get("bottom",c.y);if(this._shouldShowBullet(u,h)){e.getPrivate("hidden")?t.setPrivate("visible",!1):t.setPrivate("visible",!0);var p=f-v,g=b-d;t.isType("Label")&&(t.setPrivate("maxWidth",Math.abs(p)),t.setPrivate("maxHeight",Math.abs(g)));var y=v+p*a,m=b-g*n;t.set("x",y),t.set("y",m)}else t.setPrivate("visible",!1)}}}),Object.defineProperty(r.prototype,"_shouldShowBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._showBullets}}),Object.defineProperty(r.prototype,"setDataSet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;var t="datasetchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,id:e})}}}),Object.defineProperty(r.prototype,"_handleDataSetChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.bullets.length>0&&_(this._dataItems,function(e){var t=e.bullets;t&&_(t,function(i){var a=i.get("sprite");a&&a.setPrivate("visible",!1)})}),this._selectionProcessed=!1}}),Object.defineProperty(r.prototype,"show",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return te(this,void 0,void 0,function(){var t,i=this;return J(this,function(a){switch(a.label){case 0:return this._fixVC(),t=[],t.push(o.prototype.show.call(this,e).then(function(){i._isShowing=!1;var n=i.get("xAxis"),l=i.get("yAxis"),s=i.get("baseAxis");l!==s&&l.markDirtySelectionExtremes(),n!==s&&n.markDirtySelectionExtremes()})),t.push(this.bulletsContainer.show(e)),t.push(this._sequencedShowHide(!0,e)),[4,Promise.all(t)];case 1:return a.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"hide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return te(this,void 0,void 0,function(){var t,i=this;return J(this,function(a){switch(a.label){case 0:return this._fixVC(),t=[],t.push(o.prototype.hide.call(this,e).then(function(){i._isHiding=!1})),t.push(this.bulletsContainer.hide(e)),t.push(this._sequencedShowHide(!1,e)),[4,Promise.all(t)];case 1:return a.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){var i,a;return J(this,function(n){switch(n.label){case 0:return i=[o.prototype.showDataItem.call(this,e,t)],P(t)||(t=this.get("stateAnimationDuration",0)),a=this.get("stateAnimationEasing"),_(this._valueFields,function(l){i.push(e.animate({key:l+"Working",to:e.get(l),duration:t,easing:a}).waitForStop())}),[4,Promise.all(i)];case 1:return n.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){var i,a,n,l,s,u,h,c,v;return J(this,function(f){switch(f.label){case 0:return i=[o.prototype.hideDataItem.call(this,e,t)],a=this.states.create("hidden",{}),P(t)||(t=a.get("stateAnimationDuration",this.get("stateAnimationDuration",0))),n=a.get("stateAnimationEasing",this.get("stateAnimationEasing")),l=this.get("xAxis"),s=this.get("yAxis"),u=this.get("baseAxis"),h=this.get("stacked"),(u===l||!u)&&_(this._valueYFields,function(d){var b=s.getPrivate("min"),p=s.baseValue();P(b)&&b>p&&(p=b),h&&(p=0);var g=e.get(d);g!=null&&i.push(e.animate({key:d+"Working",to:p,duration:t,easing:n}).waitForStop())}),(u===s||!u)&&(c=l.getPrivate("min"),v=l.baseValue(),P(c)&&c>v&&(v=c),h&&(v=0),_(this._valueXFields,function(d){var b=e.get(d);b!=null&&i.push(e.animate({key:d+"Working",to:v,duration:t,easing:n}).waitForStop())})),[4,Promise.all(i)];case 1:return f.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"_markDirtyStack",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}}),Object.defineProperty(r.prototype,"_markStakedDirtyStack",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._stackedSeries;e&&X(e,function(t,i){i._stackDirty||i._markDirtyStack()})}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._afterChanged.call(this),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}}),Object.defineProperty(r.prototype,"showDataItemTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.updateLegendMarker(e),this.updateLegendValue(e);var t=this.get("tooltip");if(t){if(this.isHidden())this.hideTooltip();else if(t._setDataItem(e),e){var i=this.get("locationX",0),a=this.get("locationY",1),n=e.get("locationX",i),l=e.get("locationY",a),s=this.get("xAxis"),u=this.get("yAxis"),h=this.get("vcx",1),c=this.get("vcy",1),v=s.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*n,h),f=u.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*l,c),d=this.getPoint(v,f),b=!0;if(_(this._valueFields,function(g){e.get(g)==null&&(b=!1)}),b){var p=this.chart;p&&p.inPlot(d)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:d.x,y:d.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}}}),Object.defineProperty(r.prototype,"_getTooltipTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.get("seriesTooltipTarget")=="bullet"){var t=e.bullets;if(t&&t.length>0){var i=t[0],a=i.get("sprite");if(a)return a}}return this}}),Object.defineProperty(r.prototype,"updateLegendValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("legendDataItem");if(t){var i=t.get("label");if(i){var a="";e?(i._setDataItem(e),a=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),a=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",a)}var n=t.get("valueLabel");if(n){var a="";e?(n._setDataItem(e),a=this.get("legendValueText",n.get("text",""))):(n._setDataItem(this._emptyDataItem),a=this.get("legendRangeValueText",n.get("text",""))),n.set("text",a)}}}}),Object.defineProperty(r.prototype,"_getItemReaderLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}}),Object.defineProperty(r.prototype,"getPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.get("xAxis").get("renderer").positionToCoordinate(e),a=this.get("yAxis").get("renderer").positionToCoordinate(t),n=999999999;return a<-n&&(a=-n),a>n&&(a=n),i<-n&&(i=-n),i>n&&(i=n),{x:i,y:a}}}),Object.defineProperty(r.prototype,"_shouldInclude",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!0}}),Object.defineProperty(r.prototype,"handleCursorHide",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}}),Object.defineProperty(r.prototype,"_afterDataChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._afterDataChange.call(this),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}}),Object.defineProperty(r.prototype,"resetExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}}),Object.defineProperty(r.prototype,"createAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.axisRanges.push({axisDataItem:e})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yt.classNames.concat([r.className])}),r}(yt),Tr=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return Object.defineProperty(r.prototype,"_makeGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.makeColumn(t,e)}}),Object.defineProperty(r.prototype,"_makeFieldNames",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._makeFieldNames.call(this);var e=this.get("xAxis"),t=this.get("yAxis"),i="CategoryAxis",a="ValueAxis";e.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(a)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),t.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),t.isType(a)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._prepareChildren.call(this);var e=this.get("xAxis"),t=this.get("yAxis"),i=this.dataItems.length,a=Math.max(0,this.startIndex()-2),n=Math.min(this.endIndex()+2,i-1);if(e.inited&&t.inited)for(var l=a;l<=n;l++){var s=this.dataItems[l];this._createGraphics(s)}}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.chart;t&&(this._ph=t.plotContainer.height(),this._pw=t.plotContainer.width());var i=this.get("xAxis"),a=this.get("yAxis"),n=this.get("baseAxis"),l=this.columns.template;this.isDirty("fill")&&l.get("fill")==null&&l.set("fill",this.get("fill")),this.isDirty("stroke")&&l.get("stroke")==null&&l.set("stroke",this.get("stroke"));var s=0,u=0,h=0;_(n.series,function(N){if(N instanceof r){var $=N.get("stacked");$&&h==0&&u++,!$&&N.get("clustered")&&u++}N===e&&(s=u-1),h++}),this.get("clustered")||(s=0,u=1),u===0&&(u=1,s=0);var c=i.get("renderer"),v=a.get("renderer"),f="cellStartLocation",d="cellEndLocation",b=c.get(f,0),p=c.get(d,1),g=v.get(f,0),y=v.get(d,1);if(this._aLocationX0=b+s/u*(p-b),this._aLocationX1=b+(s+1)/u*(p-b),this._aLocationY0=g+s/u*(y-g),this._aLocationY1=g+(s+1)/u*(y-g),i.inited&&a.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){for(var m=this.dataItems.length,j=Math.max(0,this.startIndex()-2),C=Math.min(this.endIndex()+2,m-1),x=0;x<j;x++)this._toggleColumn(this.dataItems[x],!1);for(var T=this.dataItems[j],O=j;O<=C;O++){var w=this.dataItems[O];if(w.get("valueX")!=null&&w.get("valueY")!=null){if(T=w,O>0&&j>0)for(var D=O-1;D>=0;D--){var S=this.dataItems[D];if(S.get("valueX")!=null&&S.get("valueY")!=null){T=S;break}}break}}for(var M=j;M<=C;M++){var w=this.dataItems[M];this._updateGraphics(w,T),w.get("valueX")!=null&&w.get("valueY")!=null&&(T=w)}for(var B=C+1;B<m;B++)this._toggleColumn(this.dataItems[B],!1)}}else this._skipped=!0;this.updateLegendMarker(),o.prototype._updateChildren.call(this)}}),Object.defineProperty(r.prototype,"_createGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.get("graphics");if(!i){i=this._makeGraphics(this.columns,e),e.set("graphics",i),i._setDataItem(e);var a=e.get("legendDataItem");if(a){var n=a.get("markerRectangle");n&&n.setAll({fill:i.get("fill"),stroke:i.get("stroke")})}this.axisRanges.each(function(l){var s=l.container,u=e.get("rangeGraphics",[]);e.set("rangeGraphics",u);var h=t._makeGraphics(l.columns,e);u.push(h),h.setPrivate("list",l.columns),s.children.push(h)})}}}),Object.defineProperty(r.prototype,"_updateGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=e.get("graphics"),n=this._xField,l=this._yField,s=e.get(n),u=e.get(l);if(s!=null&&u!=null){var h=this._xOpenField,c=this._yOpenField,v=this.get("locationX",e.get("locationX",.5)),f=this.get("locationY",e.get("locationY",.5)),d=this.get("openLocationX",e.get("openLocationX",v)),b=this.get("openLocationY",e.get("openLocationY",f)),p=a.get("width"),g=a.get("height"),y=this.get("stacked"),m=this.get("xAxis"),j=this.get("yAxis"),C=this.get("baseAxis"),x=m.get("start"),T=m.get("end"),O=j.get("start"),w=j.get("end"),D,S,M,B,N=this.get("vcy",1),$=this.get("vcx",1),ie=!1,ae=!1;if(j.isType("CategoryAxis")&&m.isType("CategoryAxis")){var H=this._aLocationX0+d-.5,F=this._aLocationX1+v-.5;if(p instanceof I){var Q=(F-H)*(1-p.value)/2;H+=Q,F-=Q}if(D=m.getDataItemPositionX(e,h,H,$),S=m.getDataItemPositionX(e,n,F,$),H=this._aLocationY0+b-.5,F=this._aLocationY1+f-.5,g instanceof I){var Q=(F-H)*(1-g.value)/2;H+=Q,F-=Q}M=j.getDataItemPositionY(e,c,H,N),B=j.getDataItemPositionY(e,l,F,N),e.setRaw("point",{x:D+(S-D)/2,y:M+(B-M)/2})}else if(m===C){var H=this._aLocationX0+d-.5,F=this._aLocationX1+v-.5;if(p instanceof I){var Q=(F-H)*(1-p.value)/2;H+=Q,F-=Q}if(D=m.getDataItemPositionX(e,h,H,$),S=m.getDataItemPositionX(e,n,F,$),M=j.getDataItemPositionY(e,l,f,N),this._yOpenField!==this._yField)B=j.getDataItemPositionY(e,c,b,N);else if(y){var ne=e.get("stackToItemY");ne?B=j.getDataItemPositionY(ne,l,b,ne.component.get("vcy")):B=j.basePosition()}else B=j.basePosition();e.setRaw("point",{x:D+(S-D)/2,y:M}),ae=!0}else if(j===C){var H=this._aLocationY0+b-.5,F=this._aLocationY1+f-.5;if(g instanceof I){var Q=(F-H)*(1-g.value)/2;H+=Q,F-=Q}if(M=j.getDataItemPositionY(e,c,H,N),B=j.getDataItemPositionY(e,l,F,N),S=m.getDataItemPositionX(e,n,v,$),this._xOpenField!==this._xField)D=m.getDataItemPositionX(e,h,d,$);else if(y){var xe=e.get("stackToItemX");xe?D=m.getDataItemPositionX(xe,n,d,xe.component.get("vcx")):D=m.basePosition()}else D=m.basePosition();ie=!0,e.setRaw("point",{x:S,y:M+(B-M)/2})}this._updateSeriesGraphics(e,a,D,S,M,B,ie,ae),D<x&&S<x||D>T&&S>T||M<O&&B<O||M>w&&B>w||Te(D)||Te(M)?this._toggleColumn(e,!1):this._toggleColumn(e,!0);var ve=e.get("rangeGraphics");ve&&_(ve,function(Ee){i._updateSeriesGraphics(e,Ee,D,S,M,B,ie,ae)}),this._applyGraphicsStates(e,t)}}}),Object.defineProperty(r.prototype,"_updateSeriesGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n,l,s,u){var h=t.get("width"),c=t.get("height"),v=t.get("maxWidth"),f=t.get("maxHeight"),d=this.getPoint(i,n),b=this.getPoint(a,l),p=e.get("point");if(p){var g=this.getPoint(p.x,p.y);p.x=g.x+this._x,p.y=g.y+this._y}if(i=d.x,a=b.x,n=d.y,l=b.y,P(h)){var y=(a-i-h)/2;i+=y,a-=y}if(P(v)&&v<Math.abs(a-i)){var y=(a-i-v)/2;i+=y,a-=y}if(P(c)){var y=(l-n-c)/2;n+=y,l-=y}if(P(f)&&f<Math.abs(l-n)){var y=(l-n-f)/2;n+=y,l-=y}this.get("adjustBulletPosition")&&(s&&(a=Math.min(Math.max(0,a),this._pw),i=Math.min(Math.max(0,i),this._pw)),u&&(n=Math.min(Math.max(0,n),this._ph),l=Math.min(Math.max(0,l),this._ph))),e.setRaw("left",i),e.setRaw("right",a),e.setRaw("top",n),e.setRaw("bottom",l),t.setPrivate("width",a-i),t.setPrivate("height",l-n),t.set("x",i),t.set("y",l-(l-n))}}),Object.defineProperty(r.prototype,"_handleDataSetChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._handleDataSetChange.call(this),_(this._dataItems,function(t){e._toggleColumn(t,!1)})}}),Object.defineProperty(r.prototype,"_applyGraphicsStates",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("graphics"),a=i.states.lookup("dropFromOpen"),n=i.states.lookup("riseFromOpen"),l=i.states.lookup("dropFromPrevious"),s=i.states.lookup("riseFromPrevious");if(a||l||n||s){var u=this.get("xAxis"),h=this.get("yAxis"),c=this.get("baseAxis"),v,f,d=void 0;c===u&&h.isType("ValueAxis")?(v=e.get(this._yOpenField),f=e.get(this._yField),d=t.get(this._yField)):c===h&&u.isType("ValueAxis")&&(v=e.get(this._xOpenField),f=e.get(this._xField),d=t.get(this._xField)),P(v)&&P(f)&&(f<v?a&&a.apply():n&&n.apply(),P(d)&&(f<d?l&&l.apply():s&&s.apply()))}}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype.disposeDataItem.call(this,e);var t=e.get("graphics");t&&(this.columns.removeValue(t),t.dispose());var i=e.get("rangeGraphics");i&&_(i,function(a){var n=a.getPrivate("list");n&&n.removeValue(a),a.dispose()})}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){var i,a,n;return J(this,function(l){switch(l.label){case 0:return i=[o.prototype.hideDataItem.call(this,e,t)],a=e.get("graphics"),a&&i.push(a.hide(t)),n=e.get("rangeGraphics"),n&&_(n,function(s){i.push(s.hide(t))}),[4,Promise.all(i)];case 1:return l.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"_toggleColumn",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("graphics");i&&i.setPrivate("visible",t);var a=e.get("rangeGraphics");a&&_(a,function(l){l.setPrivate("visible",t)});var n=e.bullets;n&&_(n,function(l){l.setPrivate("hidden",!t)})}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,void 0,void 0,function(){var i,a,n;return J(this,function(l){switch(l.label){case 0:return i=[o.prototype.showDataItem.call(this,e,t)],a=e.get("graphics"),a&&i.push(a.show(t)),n=e.get("rangeGraphics"),n&&_(n,function(s){i.push(s.show(t))}),[4,Promise.all(i)];case 1:return l.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"updateLegendMarker",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!e){var a=this.dataItems[this.endIndex()-1];a&&(e=a)}if(i){var n=this.columns.template;if(e){var l=e.get("graphics");l&&(n=l)}var s=i.get("markerRectangle");s&&(i.get("itemContainer").get("disabled")||_(Qi,function(u){s.set(u,n.get(u,t.get(u)))}))}}}),Object.defineProperty(r.prototype,"_getTooltipTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.get("seriesTooltipTarget")=="bullet")return o.prototype._getTooltipTarget.call(this,e);var t=e.get("graphics");return t||this}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Dr.classNames.concat([r.className])}),r}(Dr),mt=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(L.new(e._root,{}))}),Object.defineProperty(e,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:L.new(e._root,{width:k,height:k})}),Object.defineProperty(e,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:L.new(e._root,{width:k,height:k})}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(L.new(e._root,{isMeasured:!1,width:k,height:k,position:"absolute"}))}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new He}),Object.defineProperty(e,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(e,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(L.new(e._root,{themeTags:["axis","header"],position:"absolute",background:Oe.new(e._root,{themeTags:["header","background"],fill:e._root.interfaceColors.get("background")})}))}),Object.defineProperty(e,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),o.prototype._dispose.call(this)}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._afterNew.call(this),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(function(i){if(i.type==="clear")_(i.oldValues,function(a){e.disposeDataItem(a)});else if(i.type==="push")e._processAxisRange(i.newValue,["range"]);else if(i.type==="setIndex")e._processAxisRange(i.newValue,["range"]);else if(i.type==="insertIndex")e._processAxisRange(i.newValue,["range"]);else if(i.type==="removeIndex")e.disposeDataItem(i.oldValue);else if(i.type==="moveIndex")e._processAxisRange(i.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));var t=this.get("renderer");t&&(t.axis=this,t.processAxis()),this.children.push(t),this.ghostLabel=t.makeLabel(new Fe(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.set("opacity",0)}}),Object.defineProperty(r.prototype,"zoom",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var n,l=this;if(this.get("start")!==e||this.get("end")!=t){var s=this._sAnimation,u=this._eAnimation,h=this.get("maxDeviation",.5)*Math.min(1,t-e);e<-h&&(e=-h),t>1+h&&(t=1+h),e>t&&(n=le([t,e],2),e=n[0],t=n[1]),P(i)||(i=this.get("interpolationDuration",0)),a||(a="end");var c=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),v=c;t===1&&e!==0&&(e<this.get("start")?a="start":a="end"),e===0&&t!==1&&(t>this.get("end")?a="end":a="start");var f=this.get("minZoomCount"),d=this.get("maxZoomCount");P(f)&&(c=v/f);var b=1;if(P(d)&&(b=v/d),a==="start"?(d>0&&1/(t-e)<b&&(t=e+1/b),1/(t-e)>c&&(t=e+1/c),t>1&&t-e<1/c&&(e=t-1/c)):(d>0&&1/(t-e)<b&&(e=t-1/b),1/(t-e)>c&&(e=t-1/c),e<0&&t-e<1/c&&(t=e+1/c)),1/(t-e)>c&&(t=e+1/c),1/(t-e)>c&&(e=t-1/c),d!=null&&f!=null&&e==this.get("start")&&t==this.get("end")){var p=this.chart;p&&p._handleAxisSelection(this,!0)}if((s&&s.playing&&s.to==e||this.get("start")==e)&&(u&&u.playing&&u.to==t||this.get("end")==t))return;if(i>0){var g=this.get("interpolationEasing"),y,m;if(this.get("start")!=e&&(y=this.animate({key:"start",to:e,duration:i,easing:g})),this.get("end")!=t&&(m=this.animate({key:"end",to:t,duration:i,easing:g})),this._sAnimation=y,this._eAnimation=m,y)return y;if(m)return m}else this.set("start",e),this.set("end",t),this._root.events.once("frameended",function(){l._markDirtyKey("start"),l._root._markDirty()})}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_processAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);var i=e.get("above"),a=this.topGridContainer,n=e.get("grid");i&&n&&a.children.moveValue(n);var l=e.get("axisFill");i&&l&&a.children.moveValue(l)}}),Object.defineProperty(r.prototype,"_prepareDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(r.prototype,"markDirtyExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"markDirtySelectionExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_calculateTotals",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_updateAxisRanges",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._bullets={},this.axisRanges.each(function(t){e._prepareDataItem(t)}),_(this._seriesAxisRanges,function(t){e._prepareDataItem(t)})}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._prepareChildren.call(this),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){this.chart._updateCursor();var e=this.get("start",0),t=this.get("end",1),i=this.get("maxDeviation",.5)*Math.min(1,t-e);if(e<-i){var a=e+i;e=-i,this.setRaw("start",e),this.isDirty("end")&&this.setRaw("end",t-a)}if(t>1+i){var a=t-1-i;t=1+i,this.setRaw("end",t),this.isDirty("start")&&this.setRaw("start",e-a)}}var n=this.get("renderer");if(n._start=this.get("start"),n._end=this.get("end"),n._inversed=n.get("inversed",!1),n._axisLength=n.axisLength()/(n._end-n._start),n._updateLC(),this.isDirty("tooltip")){var l=this.get("tooltip");if(l){var s=n.get("themeTags");l.addTag("axis"),l.addTag(this.className.toLowerCase()),l._applyThemes(),s&&(l.set("themeTags",Y(l.get("themeTags"),s)),l.label._applyThemes())}}}}),Object.defineProperty(r.prototype,"_updateTooltipBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}}),Object.defineProperty(r.prototype,"_updateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._updateBounds.call(this),this._updateTooltipBounds()}}),Object.defineProperty(r.prototype,"processChart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.chart=e;var i=this.get("renderer");i.chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",function(){e._handleAxisSelection(t)}),this.on("end",function(){e._handleAxisSelection(t)}),e.plotContainer.onPrivate("width",function(){t.markDirtySize()}),e.plotContainer.onPrivate("height",function(){t.markDirtySize()}),e.processAxis(this)}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._toggleDataItem(e,!1),o.prototype.hideDataItem.call(this,e)}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._toggleDataItem(e,!0),o.prototype.showDataItem.call(this,e)}}),Object.defineProperty(r.prototype,"_toggleDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("label");i&&i.setPrivate("visible",t);var a=e.get("grid");a&&a.setPrivate("visible",t);var n=e.get("tick");n&&n.setPrivate("visible",t);var l=e.get("axisFill");l&&l.setPrivate("visible",t);var s=e.get("bullet");if(s){var u=s.get("sprite");u&&u.setPrivate("visible",t)}}}),Object.defineProperty(r.prototype,"_createAssets",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.get("renderer");e.get("label")||i.makeLabel(e,t),e.get("grid")||i.makeGrid(e,t),e.get("tick")||i.makeTick(e,t),e.get("axisFill")||i.makeAxisFill(e,t),this._processBullet(e)}}),Object.defineProperty(r.prototype,"_processBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("bullet"),i=this.get("bullet");if(!t&&i&&!e.get("isRange")&&(t=i(this._root,this,e)),t){t.axis=this;var a=t.get("sprite");a&&(a._setDataItem(e),e.setRaw("bullet",t),a.parent||this.bulletsContainer.children.push(a))}}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._afterChanged.call(this);var e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions()}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){o.prototype.disposeDataItem.call(this,e);var t=this.get("renderer"),i=e.get("label");i&&(t.labels.removeValue(i),i.dispose());var a=e.get("tick");a&&(t.ticks.removeValue(a),a.dispose());var n=e.get("grid");n&&(t.grid.removeValue(n),n.dispose());var l=e.get("axisFill");l&&(t.axisFills.removeValue(l),l.dispose());var s=e.get("bullet");s&&s.dispose()}}),Object.defineProperty(r.prototype,"_updateGhost",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.ghostLabel;if(!e.isHidden()){var t=e.localBounds(),i=t.right-t.left,a=e.get("text");_(this.dataItems,function(s){var u=s.get("label");if(u&&!u.isHidden()){var h=u.localBounds(),c=h.right-h.left;c>i&&(a=u.text._getText())}}),e.set("text",a)}var n=this.get("start",0),l=this.get("end",1);this.get("renderer").updateLabel(e,n+(l-n)*.5)}}),Object.defineProperty(r.prototype,"_handleCursorPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.get("renderer");e=i.toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}}),Object.defineProperty(r.prototype,"updateTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this._snapToSeries,i=this._cursorPosition,a=this.get("tooltip"),n=this.get("renderer");P(i)&&(_(this.series,function(l){if(l.get("baseAxis")===e){var s=e.getSeriesItem(l,i,e.get("tooltipLocation"));l.setRaw("tooltipDataItem",s),t&&t.indexOf(l)!=-1?(l.updateLegendMarker(s),l.updateLegendValue(s)):l.showDataItemTooltip(s)}}),a&&(n.updateTooltipBounds(a),this.get("snapTooltip")&&(i=this.roundAxisPosition(i,this.get("tooltipLocation",.5))),Te(i)?a.hide(0):(this.setPrivateRaw("tooltipPosition",i),this._updateTooltipText(a,i),n.positionTooltip(a,i),i<this.get("start")||i>this.get("end")?a.hide(0):a.show(0))))}}),Object.defineProperty(r.prototype,"_updateTooltipText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.label.set("text",this.getTooltipText(t))}}),Object.defineProperty(r.prototype,"roundAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return e}}),Object.defineProperty(r.prototype,"handleCursorShow",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltip");e&&e.show()}}),Object.defineProperty(r.prototype,"handleCursorHide",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltip");e&&e.hide()}}),Object.defineProperty(r.prototype,"processSeriesDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._clearDirty.call(this),this._sizeDirty=!1,this._rangesDirty=!1}}),Object.defineProperty(r.prototype,"coordinateToPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}}),Object.defineProperty(r.prototype,"toAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get("renderer").toAxisPosition(e)}}),Object.defineProperty(r.prototype,"fixPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get("renderer").fixPosition(e)}}),Object.defineProperty(r.prototype,"shouldGap",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return!1}}),Object.defineProperty(r.prototype,"createAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.axisRanges.push(e)}}),Object.defineProperty(r.prototype,"_groupSeriesData",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"getCellWidthPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){return .05}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gt.classNames.concat([r.className])}),r}(gt),en=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=Y(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),o.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._prepareChildren.call(this);var t=this.dataItems.length,i=0;this._valuesDirty&&(this._itemMap={},_(this.dataItems,function(a){a.setRaw("index",i),e._itemMap[a.get("category")]=a,i++}),this.setPrivateRaw("maxZoomFactor",t)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*t),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*t),t)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}}),Object.defineProperty(r.prototype,"_handleRangeChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;_(this.series,function(t){var i=e.dataItems[e.startIndex()].get("category"),a=e.dataItems[e.endIndex()-1].get("category"),n=t.get("baseAxis"),l=t.get("xAxis"),s=t.get("yAxis");if(l instanceof r&&s instanceof r)t._markDirtyAxes();else if(n===e){var u=void 0,h=void 0,c=s;if(l===n?(t.get("categoryXField")&&(u="categoryX"),t.get("openCategoryXField")&&(h="openCategoryX")):s===n&&(t.get("categoryYField")&&(u="categoryY"),t.get("openCategoryYField")&&(h="openCategoryY"),c=l),c.className=="ValueAxis"&&(u||h)){for(var v=void 0,f=void 0,d=0,b=t.dataItems.length;d<b;d++){var p=t.dataItems[d];if(u&&p.get(u)===i){v=p;break}if(h&&p.get(h)===i){v=p;break}}for(var d=t.dataItems.length-1;d>=0;d--){var p=t.dataItems[d];if(u&&p.get(u)===a){f=p;break}if(h&&p.get(h)===a){f=p;break}}var g=0,y=t.dataItems.length;v&&(g=t.dataItems.indexOf(v)),f&&(y=t.dataItems.indexOf(f)+1),t.setPrivate("startIndex",g),t.setPrivate("endIndex",y);for(var m=!1,j=function(x){var T=t.dataItems[x];if(_(t.__valueXShowFields,function(O){var w=T.get(O);w!=null&&(m=!0)}),_(t.__valueYShowFields,function(O){var w=T.get(O);w!=null&&(m=!0)}),m)return"break"},d=g;d<y;d++){var C=j(d);if(C==="break")break}t.setPrivate("outOfSelection",!m)}t._markDirtyAxes()}})}}),Object.defineProperty(r.prototype,"_prepareAxisItems",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("renderer"),t=this.dataItems.length,i=this.startIndex();i>0&&i--;var a=this.endIndex();a<t&&a++;var n=e.axisLength()/Math.max(e.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),l=Math.max(1,Math.min(t,Math.ceil((a-i)/n)));i=Math.floor(i/l)*l,this._frequency=l;for(var s=0;s<t;s++)this.dataItems[s].hide();for(var u=this.dataItems[i].get("index",0),h=i;h<a;h=h+l){var c=this.dataItems[h];this._createAssets(c,[]),c.isHidden()&&c.show(),this._prepareDataItem(c,u,l),u++}this._updateGhost()}}),Object.defineProperty(r.prototype,"_prepareDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this.get("renderer"),n=e.get("categoryLocation",0),l=e.get("endCategoryLocation",1),s=e.get("index");P(s)||(s=this.categoryToIndex(e.get("category")));var u=this.indexToPosition(s,n),h=e.get("endCategory"),c;h?(c=this.categoryToIndex(h),P(c)||(c=s)):c=s;var v=this.indexToPosition(c,l),f,d;e.get("isRange")?f=c:f=s+this._frequency-1,d=this.indexToPosition(f,l),a.updateLabel(e.get("label"),u,v,i),a.updateGrid(e.get("grid"),u,v),a.updateTick(e.get("tick"),u,v,i),a.updateFill(e.get("axisFill"),u,d),this._processBullet(e),a.updateBullet(e.get("bullet"),u,v);var b=this.get("fillRule");b&&b(e,t)}}),Object.defineProperty(r.prototype,"startIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}}),Object.defineProperty(r.prototype,"endIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}}),Object.defineProperty(r.prototype,"baseValue",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"basePosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){return 0}}),Object.defineProperty(r.prototype,"getX",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}}),Object.defineProperty(r.prototype,"getY",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}}),Object.defineProperty(r.prototype,"getDataItemPositionX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var n=e.get(t),l=this._itemMap[n];return l?this.indexToPosition(l.get("index",0),i):NaN}}),Object.defineProperty(r.prototype,"getDataItemCoordinateX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,a))}}),Object.defineProperty(r.prototype,"getDataItemPositionY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var n=e.get(t),l=this._itemMap[n];return l?this.indexToPosition(l.get("index",0),i):NaN}}),Object.defineProperty(r.prototype,"getDataItemCoordinateY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,a))}}),Object.defineProperty(r.prototype,"indexToPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){P(t)||(t=.5);var i=this.dataItems.length,a=this.get("startLocation",0),n=this.get("endLocation",1);i-=a,i-=1-n;var l=(e+t-a)/i,s=this.dataItems[e];return s&&(l+=s.get("deltaPosition",0)),l}}),Object.defineProperty(r.prototype,"categoryToIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._itemMap[e];return t?t.get("index"):NaN}}),Object.defineProperty(r.prototype,"dataItemToPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.indexToPosition(e.get("index"))}}),Object.defineProperty(r.prototype,"roundAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return e+=(.5-t)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(e),t)}}),Object.defineProperty(r.prototype,"axisPositionToIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.dataItems.length;return W(Math.floor(e*t),0,t-1)}}),Object.defineProperty(r.prototype,"getTooltipText",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.dataItems[this.axisPositionToIndex(e)];if(t){var i=t.get("label");if(i)return rt(i,this.get("tooltipText",""))}}}),Object.defineProperty(r.prototype,"_updateTooltipText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e._setDataItem(this.dataItems[this.axisPositionToIndex(t)]),e.label.text.markDirtyText()}}),Object.defineProperty(r.prototype,"getSeriesItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.dataItems.length>0){var i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.axisPositionToIndex(t),n=e.dataItems[a],l=this.dataItems[a],s=l.get("category");if(n&&l&&n.get(i)===s)return n;for(var u=0,h=e.dataItems.length;u<h;u++){var c=e.dataItems[u];if(c.get(i)===s)return c}}}}),Object.defineProperty(r.prototype,"zoomToIndexes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this.dataItems.length;this.zoom(e/a,t/a,i)}}),Object.defineProperty(r.prototype,"zoomToCategories",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1,i)}}),Object.defineProperty(r.prototype,"getCellWidthPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){return 1/this.dataItems.length*(this.get("end",1)-this.get("start",0))}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mt.classNames.concat([r.className])}),r}(mt),tn=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1}),e}return Object.defineProperty(r.prototype,"markDirtyExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dirtyExtremes=!0,this.markDirty()}}),Object.defineProperty(r.prototype,"markDirtySelectionExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dirtySelectionExtremes=!0,this.markDirty()}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=Y(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),o.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(o.prototype._prepareChildren.call(this),this.isDirty("syncWithAxis")){var t=this._prevSettings.syncWithAxis;t&&this._syncDp&&this._syncDp.dispose();var i=this.get("syncWithAxis");i&&(this._syncDp=new oe([i.onPrivate("selectionMinFinal",function(){e._dirtySelectionExtremes=!0}),i.onPrivate("selectionMaxFinal",function(){e._dirtySelectionExtremes=!0})]))}(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("min")||this.isDirty("max")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(this._getMinMax(),this.ghostLabel.set("text",""),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}}),Object.defineProperty(r.prototype,"_groupData",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_formatText",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("numberFormat"),i=this.getNumberFormatter(),a="";return t?a=i.format(e,t):a=i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),a}}),Object.defineProperty(r.prototype,"_prepareAxisItems",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getPrivate("min"),t=this.getPrivate("max");if(P(e)&&P(t)){var i=this.get("logarithmic"),a=this.getPrivate("step"),n=this.getPrivate("selectionMin"),l=this.getPrivate("selectionMax")+a,s=n-a,u=0,h=1,c=e;if(i){if(s=this._minLogAdjusted,s<n)for(;s<n;)s+=a;c=s,c<=0&&(c=1,a<1&&(c=a)),h=Math.log(l-a)*Math.LOG10E-Math.log(c)*Math.LOG10E,h>2&&(s=Math.pow(10,Math.log(c)*Math.LOG10E-5))}for(var v=-1/0;s<l;){var f=void 0;this.dataItems.length<u+1?(f=new Fe(this,void 0,{}),this._dataItems.push(f),this.processDataItem(f)):f=this.dataItems[u],this._createAssets(f,[]),f.isHidden()&&f.show(),f.setRaw("value",s);var d=f.get("label");if(d&&d.set("text",this._formatText(s)),this._prepareDataItem(f),i&&h>2?s=Math.pow(10,Math.log(c)*Math.LOG10E+u-5):s+=a,v==s)break;var b=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E));if(b<1){var p=Math.round(Math.abs(Math.log(Math.abs(b))*Math.LOG10E))+2;s=be(s,p)}u++,v=s}for(var g=u;g<this.dataItems.length;g++)this.dataItems[g].hide();_(this.series,function(y){y.inited&&y._markDirtyAxes()}),this._updateGhost()}}}),Object.defineProperty(r.prototype,"_prepareDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.get("renderer"),a=e.get("value"),n=e.get("endValue"),l=this.valueToPosition(a),s=l,u=this.valueToPosition(a+this.getPrivate("step"));P(n)&&(s=this.valueToPosition(n),u=s),e.get("isRange")&&n==null&&(u=l),i.updateLabel(e.get("label"),l,s,t);var h=e.get("grid");if(i.updateGrid(h,l,s),h&&(a==this.get("baseValue",0)?(h.addTag("base"),h._applyThemes()):h.hasTag("base")&&(h.removeTag("base"),h._applyThemes())),i.updateTick(e.get("tick"),l,s,t),i.updateFill(e.get("axisFill"),l,u),this._processBullet(e),i.updateBullet(e.get("bullet"),l,s),!e.get("isRange")){var c=this.get("fillRule");c&&c(e)}}}),Object.defineProperty(r.prototype,"_handleRangeChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1)),i=this.get("renderer").gridCount(),a=this._adjustMinMax(e,t,i,!0),n=Di(a.step);this.setPrivateRaw("stepDecimalPlaces",n),e=be(e,n),t=be(t,n),a=this._adjustMinMax(e,t,i,!0);var l=a.step;e=a.min,t=a.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==t||this.getPrivate("step")!==l)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",l))}}),Object.defineProperty(r.prototype,"positionToValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(i-t)+t}}),Object.defineProperty(r.prototype,"valueToPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){var a=this.get("treatZeroAs");P(a)&&(e=a)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}else return(e-t)/(i-t)}}),Object.defineProperty(r.prototype,"valueToFinalPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){var a=this.get("treatZeroAs");P(a)&&(e=a)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}else return(e-t)/(i-t)}}),Object.defineProperty(r.prototype,"getX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){e=i+(e-i)*t;var a=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(a)}}),Object.defineProperty(r.prototype,"getY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){e=i+(e-i)*t;var a=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(a)}}),Object.defineProperty(r.prototype,"getDataItemCoordinateX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,a))}}),Object.defineProperty(r.prototype,"getDataItemPositionX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var n=e.get(t),l=e.get("stackToItemX");if(l){var s=e.component;n=n*a+s.getStackedXValueWorking(e,t)}else n=this._baseValue+(n-this._baseValue)*a;return this.valueToPosition(n)}}),Object.defineProperty(r.prototype,"getDataItemCoordinateY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,a))}}),Object.defineProperty(r.prototype,"getDataItemPositionY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var n=e.get(t),l=e.get("stackToItemY");if(l){var s=e.component;n=n*a+s.getStackedYValueWorking(e,t)}else n=this._baseValue+(n-this._baseValue)*a;return this.valueToPosition(n)}}),Object.defineProperty(r.prototype,"basePosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.valueToPosition(this.baseValue())}}),Object.defineProperty(r.prototype,"baseValue",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0)),i=this.get("baseValue",0);return i<e&&(i=e),i>t&&(i=t),i}}),Object.defineProperty(r.prototype,"cellEndValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(r.prototype,"fixSmallStep",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}}),Object.defineProperty(r.prototype,"_fixMin",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(r.prototype,"_fixMax",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(r.prototype,"_calculateTotals",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.get("calculateTotals")){var e=this.series[0];if(e){var t=e.startIndex();if(e.dataItems.length>0){t>0&&t--;var i=e.endIndex();i<e.dataItems.length&&i++;var a,n;e.get("yAxis")==this?(a="valueY",n="vcy"):e.get("xAxis")==this&&(a="valueX",n="vcx");var l=a+"Working";if(a)for(var s=function(c){var v=0,f=0;_(u.series,function(d){if(!d.get("excludeFromTotal")){var b=d.dataItems[c];if(b){var p=b.get(l)*d.get(n);Te(p)||(v+=p,f+=Math.abs(p))}}}),_(u.series,function(d){if(!d.get("excludeFromTotal")){var b=d.dataItems[c];if(b){var p=b.get(l)*d.get(n);Te(p)||(b.set(a+"Total",f),b.set(a+"Sum",v),b.set(a+"TotalPercent",p/f*100))}}})},u=this,h=t;h<i;h++)s(h)}}}}}),Object.defineProperty(r.prototype,"_getSelectionMinMax",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this,i=this.getPrivate("minFinal"),a=this.getPrivate("maxFinal"),n=this.get("min"),l=this.get("max"),s=this.get("extraMin",0),u=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(s=.1),this.get("extraMax")==null&&(u=.2));var h=this.get("renderer").gridCount(),c=this.get("strictMinMaxSelection"),v=this.get("strictMinMax");if(P(i)&&P(a)){var f=a,d=i;if(_(this.series,function(x){if(!x.get("ignoreMinMax")){var T=void 0,O=void 0,w=x.getPrivate("outOfSelection");x.get("xAxis")===t?w||(T=x.getPrivate("selectionMinX",x.getPrivate("minX")),O=x.getPrivate("selectionMaxX",x.getPrivate("maxX"))):x.get("yAxis")===t&&(w||(T=x.getPrivate("selectionMinY",x.getPrivate("minY")),O=x.getPrivate("selectionMaxY",x.getPrivate("maxY")))),!x.isHidden()&&!x.isShowing()&&(P(T)&&(f=Math.min(f,T)),P(O)&&(d=Math.max(d,O)))}}),this.axisRanges.each(function(x){if(x.get("affectsMinMax")){var T=x.get("value");T!=null&&(f=Math.min(f,T),d=Math.max(d,T)),T=x.get("endValue"),T!=null&&(f=Math.min(f,T),d=Math.max(d,T))}}),f>d&&(e=le([d,f],2),f=e[0],d=e[1]),P(n)?v?f=n:f=i:v&&P(this._minReal)&&(f=this._minReal),P(l)?v?d=l:d=a:v&&P(this._maxReal)&&(d=this._maxReal),f===d){f-=this._deltaMinMax,d+=this._deltaMinMax;var b=this._adjustMinMax(f,d,h,v);f=b.min,d=b.max}var p=f,g=d;f-=(d-f)*s,d+=(d-f)*u;var y=this._adjustMinMax(f,d,h);f=y.min,d=y.max,f=W(f,i,a),d=W(d,i,a),y=this._adjustMinMax(f,d,h,!0),v||(f=y.min,d=y.max);var m=this.get("syncWithAxis");m&&(y=this._syncAxes(f,d,y.step,m.getPrivate("selectionMinFinal",m.getPrivate("minFinal",0)),m.getPrivate("selectionMaxFinal",m.getPrivate("maxFinal",1)),m.getPrivate("selectionStepFinal",m.getPrivate("step",1))),f=y.min,d=y.max),v&&(P(n)&&(f=Math.max(f,n)),P(l)&&(d=Math.min(d,l))),c&&(f=p-(d-f)*s,d=g+(d-f)*u),this.get("logarithmic")&&(f<=0&&(f=p*(1-Math.min(s,.99))),f<i&&(f=i),d>a&&(d=a));var j=this.valueToFinalPosition(f),C=this.valueToFinalPosition(d);this.setPrivateRaw("selectionMinFinal",f),this.setPrivateRaw("selectionMaxFinal",d),this.setPrivateRaw("selectionStepFinal",y.step),this.zoom(j,C)}}}),Object.defineProperty(r.prototype,"_getMinMax",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("min"),i=this.get("max"),a=1/0,n=-1/0,l=this.get("extraMin",0),s=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(l=.1),this.get("extraMax")==null&&(s=.2));var u=1/0;if(_(this.series,function(O){if(!O.get("ignoreMinMax")){var w=void 0,D=void 0;if(O.get("xAxis")===e?(w=O.getPrivate("minX"),D=O.getPrivate("maxX")):O.get("yAxis")===e&&(w=O.getPrivate("minY"),D=O.getPrivate("maxY")),P(w)&&P(D)){a=Math.min(a,w),n=Math.max(n,D);var S=D-w;S<=0&&(S=Math.abs(D/100)),S<u&&(u=S)}}}),this.axisRanges.each(function(O){if(O.get("affectsMinMax")){var w=O.get("value");w!=null&&(a=Math.min(a,w),n=Math.max(n,w)),w=O.get("endValue"),w!=null&&(a=Math.min(a,w),n=Math.max(n,w))}}),this.get("logarithmic")){var h=this.get("treatZeroAs");P(h)&&a<=0&&(a=h)}if(a===0&&n===0&&(n=.9,a=-.9),P(t)&&(a=t),P(i)&&(n=i),!(a===1/0||n===-1/0)){var c=a,v=n,f=this.adapters.fold("min",a),d=this.adapters.fold("max",n);P(f)&&(a=f),P(d)&&(n=d),a=this._fixMin(a),n=this._fixMax(n),n-a<=1/Math.pow(10,15)&&(n-a!==0?this._deltaMinMax=(n-a)/2:this._getDelta(n),a-=this._deltaMinMax,n+=this._deltaMinMax),a-=(n-a)*l,n+=(n-a)*s,this.get("logarithmic")&&(a<0&&c>=0&&(a=0),n>0&&v<=0&&(n=0)),this._minReal=a,this._maxReal=n;var b=this.get("strictMinMax"),p=this.get("strictMinMaxSelection",!1);p&&(b=p);var g=b;P(i)&&(g=!0);var y=this.get("renderer").gridCount(),m=this._adjustMinMax(a,n,y,g);a=m.min,n=m.max,m=this._adjustMinMax(a,n,y,!0),a=m.min,n=m.max,b&&(P(t)?a=t:a=this._minReal,P(i)?n=i:n=this._maxReal,n-a<=1e-8&&(a-=this._deltaMinMax,n+=this._deltaMinMax),a-=(n-a)*l,n+=(n-a)*s),f=this.adapters.fold("min",a),d=this.adapters.fold("max",n),P(f)&&(a=f),P(d)&&(n=d),u==1/0&&(u=n-a);var j=Math.round(Math.abs(Math.log(Math.abs(n-a))*Math.LOG10E))+5;a=be(a,j),n=be(n,j);var C=this.get("syncWithAxis");if(C&&(m=this._syncAxes(a,n,m.step,C.getPrivate("minFinal",C.getPrivate("min",0)),C.getPrivate("maxFinal",C.getPrivate("max",1)),C.getPrivate("step",1)),a=m.min,n=m.max),this.setPrivateRaw("maxZoomFactor",(n-a)/u*this.get("maxZoomFactor",100)),this.get("logarithmic")&&(this._minLogAdjusted=a,a=this._minReal,n=this._maxReal,a<=0&&(a=c*(1-Math.min(l,.99)))),P(a)&&P(n)&&(this.getPrivate("minFinal")!==a||this.getPrivate("maxFinal")!==n)){this.setPrivate("minFinal",a),this.setPrivate("maxFinal",n),this._saveMinMax(a,n);var x=this.get("interpolationDuration",0),T=this.get("interpolationEasing");this.animatePrivate({key:"min",to:a,duration:x,easing:T}),this.animatePrivate({key:"max",to:n,duration:x,easing:T})}}}}),Object.defineProperty(r.prototype,"_getDelta",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Math.log(Math.abs(e))*Math.LOG10E,i=Math.pow(10,Math.floor(t));i=i/10,this._deltaMinMax=i}}),Object.defineProperty(r.prototype,"_saveMinMax",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(r.prototype,"_adjustMinMax",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){i<=1&&(i=1),i=Math.round(i);var n=e,l=t,s=t-e;s===0&&(s=Math.abs(t));var u=Math.log(Math.abs(s))*Math.LOG10E,h=Math.pow(10,Math.floor(u));h=h/10;var c=h;a&&(c=0),a?(e=Math.floor(e/h)*h,t=Math.ceil(t/h)*h):(e=Math.ceil(e/h)*h-c,t=Math.floor(t/h)*h+c),e<0&&n>=0&&(e=0),t>0&&l<=0&&(t=0),u=Math.log(Math.abs(s))*Math.LOG10E,h=Math.pow(10,Math.floor(u)),h=h/100;var v=Math.ceil(s/i/h)*h,f=Math.pow(10,Math.floor(Math.log(Math.abs(v))*Math.LOG10E)),d=Math.ceil(v/f);d>5?d=10:d<=5&&d>2&&(d=5),v=Math.ceil(v/(f*d))*f*d;var b=this.get("maxPrecision");if(P(b)){var p=Hi(v,b);b<Number.MAX_VALUE&&v!==p&&(v=p)}var g=0;f<1&&(g=Math.round(Math.abs(Math.log(Math.abs(f))*Math.LOG10E))+1,v=be(v,g));var y=Math.floor(e/v);e=be(v*y,g);var m;return a?m=Math.floor(t/v):m=Math.ceil(t/v),m===y&&m++,t=be(v*m,g),t<l&&(t=t+v),e>n&&(e=e-v),v=this.fixSmallStep(v),{min:e,max:t,step:v}}}),Object.defineProperty(r.prototype,"getTooltipText",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("tooltipNumberFormat",this.get("numberFormat")),i=this.getNumberFormatter(),a=this.get("extraTooltipPrecision",0),n=this.getPrivate("stepDecimalPlaces",0)+a,l=be(this.positionToValue(e),n);return t?i.format(l,t):i.format(l,void 0,n)}}),Object.defineProperty(r.prototype,"getSeriesItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.positionToValue(t),n=void 0,l;if(_(e.dataItems,function(s,u){var h=Math.abs(s.get(i)-a);(n===void 0||h<l)&&(n=u,l=h)}),n!=null)return e.dataItems[n]}}),Object.defineProperty(r.prototype,"zoomToValues",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this.getPrivate("minFinal",0),n=this.getPrivate("maxFinal",0);this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((e-a)/(n-a),(t-a)/(n-a),i)}}),Object.defineProperty(r.prototype,"_syncAxes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,n,l){var s=this.get("syncWithAxis");if(s){var u=Math.round(n-a)/l,h=Math.round((t-e)/i),c=this.get("renderer").gridCount();if(P(u)&&P(h))for(var v=!1,f=0,d=(t-e)*.01,b=e,p=t,g=i;v!=!0;)if(v=this._checkSync(b,p,g,u),f++,f>500&&(v=!0),v)e=b,t=p,i=g;else{f/3==Math.round(f/3)?(b=e-d*f,e>=0&&b<0&&(b=0)):(p=t+d*f,p<=0&&p>0&&(p=0));var y=this._adjustMinMax(b,p,c,!0);b=y.min,p=y.max,g=y.step}}return{min:e,max:t,step:i}}}),Object.defineProperty(r.prototype,"_checkSync",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){for(var n=(t-e)/i,l=1;l<a;l++)if(be(n/l,1)==a||n*l==a)return!0;return!1}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mt.classNames.concat([r.className])}),r}(mt),rn=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([r.className])}),r}(Me),an=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xr.classNames.concat([r.className])}),r}(xr),_t=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(e,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return an._new(e._root,{themeTags:Y(e.ticks.template.get("themeTags",[]),e.get("themeTags",[]))},[e.ticks.template])})}),Object.defineProperty(e,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return qt._new(e._root,{themeTags:Y(e.grid.template.get("themeTags",[]),e.get("themeTags",[]))},[e.grid.template])})}),Object.defineProperty(e,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return re._new(e._root,{themeTags:Y(e.axisFills.template.get("themeTags",["axis","fill"]),e.get("themeTags",[]))},[e.axisFills.template])})}),Object.defineProperty(e,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return rn._new(e._root,{themeTags:Y(e.labels.template.get("themeTags",[]),e.get("themeTags",[]))},[e.labels.template])})}),Object.defineProperty(e,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"makeTick",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",Y(i.get("themeTags"),t)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}}),Object.defineProperty(r.prototype,"makeGrid",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",Y(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}}),Object.defineProperty(r.prototype,"makeAxisFill",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",Y(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}}),Object.defineProperty(r.prototype,"makeLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.labels.make();return i.set("themeTags",Y(i.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}}),Object.defineProperty(r.prototype,"axisLength",{enumerable:!1,configurable:!0,writable:!0,value:function(){return 0}}),Object.defineProperty(r.prototype,"gridCount",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.axisLength()/this.get("minGridDistance",50)}}),Object.defineProperty(r.prototype,"_updatePositions",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;o.prototype._afterNew.call(this),this.set("isMeasured",!1);var t=this.thumb;t&&(this._disposers.push(t.events.on("pointerdown",function(i){e._handleThumbDown(i.originalEvent)})),this._disposers.push(t.events.on("globalpointerup",function(i){e._handleThumbUp(i.originalEvent)})),this._disposers.push(t.events.on("globalpointermove",function(i){e._handleThumbMove(i.originalEvent)})))}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(o.prototype._changed.call(this),this.isDirty("pan")){var e=this.thumb;if(e){var t=this.axis.labelsContainer,i=this.get("pan");i=="zoom"?t.children.push(e):i=="none"&&t.children.removeValue(e)}}}}),Object.defineProperty(r.prototype,"_handleThumbDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._thumbDownPoint=this.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));var t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}}),Object.defineProperty(r.prototype,"_handleThumbUp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._thumbDownPoint=void 0}}),Object.defineProperty(r.prototype,"_handleThumbMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._thumbDownPoint;if(t){var i=this.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY})),a=this._downStart,n=this._downEnd,l=this._getPan(i,t)*Math.min(1,n-a)/2;this.axis.setAll({start:a-l,end:n+l})}}}),Object.defineProperty(r.prototype,"_getPan",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return 0}}),Object.defineProperty(r.prototype,"positionToCoordinate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}}),Object.defineProperty(r.prototype,"updateTooltipBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_updateSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.markDirty(),this._clear=!0}}),Object.defineProperty(r.prototype,"toAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._start||0,i=this._end||1;return e=e*(i-t),this.get("inversed")?e=i-e:e=t+e,e}}),Object.defineProperty(r.prototype,"fixPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get("inversed")?1-e:e}}),Object.defineProperty(r.prototype,"_updateLC",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"toggleVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var n=this.axis,l=n.get("start",0),s=n.get("end",1),u=l+(s-l)*(i-1e-4),h=l+(s-l)*(a+1e-4);t<u||t>h?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}}),Object.defineProperty(r.prototype,"_positionTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.chart;i&&(i.inPlot(t)?e.set("pointTo",this._display.toGlobal(t)):e.hide())}}),Object.defineProperty(r.prototype,"processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),nn=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:Oe.new(e._root,{width:k,isMeasured:!1,themeTags:["axis","x","thumb"]})}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=Y(this._settings.themeTags,["renderer","x"]),o.prototype._afterNew.call(this),this.setPrivateRaw("letter","X");var e=this.grid.template;e.set("height",k),e.set("width",0),e.set("draw",function(t,i){t.moveTo(0,0),t.lineTo(0,i.height())}),this.set("draw",function(t,i){t.moveTo(0,0),t.lineTo(i.width(),0)})}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._changed.call(this);var e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside"));var t="opposite",i="inside";if(this.isDirty(t)||this.isDirty(i)){var a=this.chart,n=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),a){if(this.get(t)){var l=a.topAxesContainer.children;l.indexOf(e)==-1&&l.insertIndex(0,e),e.addTag(t),n.moveValue(this)}else{var l=a.bottomAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e),e.removeTag(t),n.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each(function(s){s._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}}),Object.defineProperty(r.prototype,"_getPan",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(t.x-e.x)/this.width()}}),Object.defineProperty(r.prototype,"toAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-t)/this._lc,this.get("inversed")?e=i-e:e=t+e,e}}),Object.defineProperty(r.prototype,"_updateLC",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.axis,t=e.parent;if(t){var i=t.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-t.get("paddingLeft",0))/i}}}),Object.defineProperty(r.prototype,"_updatePositions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.axis;e.gridContainer.set("x",e.x()-ee(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),e.bulletsContainer.set("y",this.y());var t=e.chart;if(t){var i=t.plotContainer,a=e.axisHeader,n=e.get("marginLeft",0),l=e.x()-n,s=e.parent;s&&(l-=s.get("paddingLeft",0)),a.children.length>0?(n=e.axisHeader.width(),e.set("marginLeft",n)):a.set("width",n),a.setAll({x:l,y:-1,height:i.height()+2})}}}),Object.defineProperty(r.prototype,"processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.processAxis.call(this);var e=this.axis;e.set("width",k);var t=this._root.verticalLayout;e.set("layout",t),e.labelsContainer.set("width",k),e.axisHeader.setAll({layout:t})}}),Object.defineProperty(r.prototype,"axisLength",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.axis.width()}}),Object.defineProperty(r.prototype,"positionToPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{x:this.positionToCoordinate(e),y:0}}}),Object.defineProperty(r.prototype,"updateTick",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){if(e){P(t)||(t=0);var n=.5;P(a)&&a>1?n=e.get("multiLocation",n):n=e.get("location",n),P(i)&&i!=t&&(t=t+(i-t)*n),e.set("x",this.positionToCoordinate(t));var l=e.get("length",0),s=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",k),s||(l*=-1)):(e.set("y",0),s&&(l*=-1)),e.set("draw",function(u){u.moveTo(0,0),u.lineTo(0,l)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}),Object.defineProperty(r.prototype,"updateLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){if(e){var n=.5;P(a)&&a>1?n=e.get("multiLocation",n):n=e.get("location",n),P(t)||(t=0);var l=e.get("inside",this.get("inside",!1)),s=this.get("opposite");s?l?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",k)):l?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),P(i)&&i!=t&&(t=t+(i-t)*n),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}),Object.defineProperty(r.prototype,"updateGrid",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){P(t)||(t=0);var a=e.get("location",.5);P(i)&&i!=t&&(t=t+(i-t)*a),e.set("x",Math.round(this.positionToCoordinate(t))),this.toggleVisibility(e,t,0,1)}}}),Object.defineProperty(r.prototype,"updateBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){var a=e.get("sprite");if(a){P(t)||(t=0);var n=e.get("location",.5);P(i)&&i!=t&&(t=t+(i-t)*n);var l=this.axis.roundAxisPosition(t,n),s=this.axis._bullets[l],u=-1;if(this.get("opposite")&&(u=1),e.get("stacked"))if(s){var h=s.get("sprite");h&&a.set("y",h.y()+h.height()*u)}else a.set("y",0);this.axis._bullets[l]=e,a.set("x",this.positionToCoordinate(t)),this.toggleVisibility(a,t,0,1)}}}}),Object.defineProperty(r.prototype,"updateFill",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){P(t)||(t=0),P(i)||(i=1);var a=this.positionToCoordinate(t),n=this.positionToCoordinate(i);this.fillDrawMethod(e,a,n)}}}),Object.defineProperty(r.prototype,"fillDrawMethod",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;e.set("draw",function(n){var l,s=a.axis.gridContainer.height(),u=a.width();i<t&&(l=le([t,i],2),i=l[0],t=l[1]),!(t>u||i<0)&&(n.moveTo(t,0),n.lineTo(i,0),n.lineTo(i,s),n.lineTo(t,s),n.lineTo(t,0))})}}),Object.defineProperty(r.prototype,"positionTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}}),Object.defineProperty(r.prototype,"updateTooltipBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("inside"),i=1e5,a=this._display.toGlobal({x:0,y:0}),n=a.x,l=0,s=this.axisLength(),u=i,h="up";this.get("opposite")?t?(h="up",l=a.y,u=i):(h="down",l=a.y-i,u=i):t?(h="down",l=a.y-i,u=i):(h="up",l=a.y,u=i);var c={left:n,right:n+s,top:l,bottom:l+u},v=e.get("bounds");Ir(c,v)||(e.set("bounds",c),e.set("pointerOrientation",h))}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_t.classNames.concat([r.className])}),r}(_t),on=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:Oe.new(e._root,{height:k,isMeasured:!1,themeTags:["axis","y","thumb"]})}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=Y(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),o.prototype._afterNew.call(this),this.setPrivateRaw("letter","Y");var e=this.grid.template;e.set("width",k),e.set("height",0),e.set("draw",function(t,i){t.moveTo(0,0),t.lineTo(i.width(),0)}),this.set("draw",function(t,i){t.moveTo(0,0),t.lineTo(0,i.height())})}}),Object.defineProperty(r.prototype,"_getPan",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(e.y-t.y)/this.height()}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype._changed.call(this);var e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside"));var t=this.thumb,i="opposite",a="inside",n=this.chart;if(this.isDirty(i)||this.isDirty(a)){var l=e.children;if(this.get(a)?e.addTag(a):e.removeTag(a),n){if(this.get(i)){var s=n.rightAxesContainer.children;s.indexOf(e)==-1&&s.moveValue(e,0),e.addTag(i),l.moveValue(this,0)}else{var s=n.leftAxesContainer.children;s.indexOf(e)==-1&&s.moveValue(e),e.removeTag(i),l.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each(function(h){h._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}var u=e.labelsContainer.width();n&&(this.get(i)?t.set("centerX",0):t.set("centerX",u)),t.setPrivate("width",u)}}),Object.defineProperty(r.prototype,"processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.processAxis.call(this);var e=this.axis;e.get("height")==null&&e.set("height",k);var t=this._root.horizontalLayout;e.set("layout",t),e.labelsContainer.set("height",k),e.axisHeader.set("layout",t)}}),Object.defineProperty(r.prototype,"_updatePositions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.axis;e.gridContainer.set("y",e.y()-ee(e.get("centerY",0),e.height())),e.bulletsContainer.set("x",this.x());var t=e.chart;if(t){var i=t.plotContainer,a=e.axisHeader,n=e.get("marginTop",0);a.children.length>0?(n=e.axisHeader.height(),e.set("marginTop",n)):a.set("height",n),a.setAll({y:e.y()-n,x:-1,width:i.width()+2})}}}),Object.defineProperty(r.prototype,"axisLength",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.axis.innerHeight()}}),Object.defineProperty(r.prototype,"positionToPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{x:0,y:this.positionToCoordinate(e)}}}),Object.defineProperty(r.prototype,"updateLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){if(e){P(t)||(t=0);var n=.5;P(a)&&a>1?n=e.get("multiLocation",n):n=e.get("location",n);var l=this.get("opposite"),s=e.get("inside",this.get("inside",!1));l?(e.set("x",0),s?e.set("position","absolute"):e.set("position","relative")):s?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),P(i)&&i!=t&&(t=t+(i-t)*n),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}),Object.defineProperty(r.prototype,"updateGrid",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){P(t)||(t=0);var a=e.get("location",.5);P(i)&&i!=t&&(t=t+(i-t)*a);var n=this.positionToCoordinate(t);e.set("y",n),this.toggleVisibility(e,t,0,1)}}}),Object.defineProperty(r.prototype,"updateTick",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){if(e){P(t)||(t=0);var n=.5;P(a)&&a>1?n=e.get("multiLocation",n):n=e.get("location",n),P(i)&&i!=t&&(t=t+(i-t)*n),e.set("y",this.positionToCoordinate(t));var l=e.get("length",0),s=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),s&&(l*=-1)):s||(l*=-1),e.set("draw",function(u){u.moveTo(0,0),u.lineTo(l,0)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}),Object.defineProperty(r.prototype,"updateBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){var a=e.get("sprite");if(a){P(t)||(t=0);var n=e.get("location",.5);P(i)&&i!=t&&(t=t+(i-t)*n);var l=this.axis.roundAxisPosition(t,n),s=this.axis._bullets[l],u=1;if(this.get("opposite")&&(u=-1),e.get("stacked"))if(s){var h=s.get("sprite");h&&a.set("x",h.x()+h.width()*u)}else a.set("x",0);this.axis._bullets[l]=e,a.set("y",this.positionToCoordinate(t)),this.toggleVisibility(a,t,0,1)}}}}),Object.defineProperty(r.prototype,"updateFill",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){P(t)||(t=0),P(i)||(i=1);var a=this.positionToCoordinate(t),n=this.positionToCoordinate(i);this.fillDrawMethod(e,a,n)}}}),Object.defineProperty(r.prototype,"fillDrawMethod",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;e.set("draw",function(n){var l,s=a.axis.gridContainer.width(),u=a.height();i<t&&(l=le([t,i],2),i=l[0],t=l[1]),!(t>u||i<0)&&(n.moveTo(0,t),n.lineTo(s,t),n.lineTo(s,i),n.lineTo(0,i),n.lineTo(0,t))})}}),Object.defineProperty(r.prototype,"positionToCoordinate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}}),Object.defineProperty(r.prototype,"positionTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}}),Object.defineProperty(r.prototype,"updateTooltipBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("inside"),i=1e5,a=this._display.toGlobal({x:0,y:0}),n=a.y,l=0,s=this.axisLength(),u=i,h="right";this.get("opposite")?t?(h="right",l=a.x-i,u=i):(h="left",l=a.x,u=i):t?(h="left",l=a.x,u=i):(h="right",l=a.x-i,u=i);var c={left:l,right:l+u,top:n,bottom:n+s},v=e.get("bounds");Ir(c,v)||(e.set("bounds",c),e.set("pointerOrientation",h))}}),Object.defineProperty(r.prototype,"_updateLC",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.axis,t=e.parent;if(t){var i=t.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}}),Object.defineProperty(r.prototype,"toAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-t)/this._lc,this.get("inversed")?e=t+e:e=i-e,e}}),Object.defineProperty(r.prototype,"fixPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get("inversed")?e:1-e}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_t.classNames.concat([r.className])}),r}(_t),Cr=function(o){A(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return Object.defineProperty(e,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new ye(ue.new({}),function(){return it._new(e._root,{position:"absolute",themeTags:Y(e.columns.template.get("themeTags",[]),["series","column"])},[e.columns.template])})}),e}return Object.defineProperty(r.prototype,"makeColumn",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.mainContainer.children.push(t.make());return i._setDataItem(e),t.push(i),i}}),Object.defineProperty(r.prototype,"_processAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;o.prototype._processAxisRange.call(this,e),e.columns=new ye(ue.new({}),function(){return it._new(t._root,{position:"absolute",themeTags:Y(e.columns.template.get("themeTags",[]),["series","column"])},[t.columns.template,e.columns.template])})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tr.classNames.concat([r.className])}),r}(Tr),ln=function(o){A(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"setupDefaultRules",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.prototype.setupDefaultRules.call(this),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500)}}),r}(Jt),sn=ln;const un=()=>{const o=Ar(null),r=({rootRef:t})=>{const i=Xa.new(t);i.setThemes([sn.new(i)]);const a=i.container.children.push(qa.new(i,{panY:!1,layout:i.verticalLayout}));let n=[{category:"Research",value1:1e3,value2:588},{category:"Marketing",value1:1200,value2:1800},{category:"Sales",value1:850,value2:1230}];const l=a.yAxes.push(tn.new(i,{renderer:on.new(i,{})})),s=a.xAxes.push(en.new(i,{renderer:nn.new(i,{}),categoryField:"category"}));s.data.setAll(n),a.series.push(Cr.new(i,{name:"Series",xAxis:s,yAxis:l,valueYField:"value1",categoryXField:"category"})).data.setAll(n),a.series.push(Cr.new(i,{name:"Series",xAxis:s,yAxis:l,valueYField:"value2",categoryXField:"category"})).data.setAll(n),a.children.push(Wa.new(i,{})).data.setAll(a.series.values),a.set("cursor",$a.new(i,{})),a.value=i};return $r(()=>{o.value.dispose()}),{createChart:r}};const fn={__name:"home",setup(o){const r=Ar(null),{createChart:e}=un();return Qr(()=>{e({rootRef:r.value})}),(t,i)=>(ei(),ti("main",null,[ri("h1",{class:"hello",ref_key:"root",ref:r},"\u7B2C\u4E00\u9801\u7531\u6B64\u958B\u59CB",512)]))}};var cn=Jr(fn,[["__scopeId","data-v-08aa2704"]]);export{cn as default};
